(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();var Mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var U0={exports:{}},dm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S;function mR(){if(_S)return dm;_S=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,o){var a=null;if(o!==void 0&&(a=""+o),r.key!==void 0&&(a=""+r.key),"key"in r){o={};for(var f in r)f!=="key"&&(o[f]=r[f])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:o}}return dm.Fragment=e,dm.jsx=t,dm.jsxs=t,dm}var xS;function gR(){return xS||(xS=1,U0.exports=mR()),U0.exports}var B=gR(),G0={exports:{}},Qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CS;function vR(){if(CS)return Qt;CS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function T(ie){return ie===null||typeof ie!="object"?null:(ie=x&&ie[x]||ie["@@iterator"],typeof ie=="function"?ie:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,k={};function N(ie,Ce,rt){this.props=ie,this.context=Ce,this.refs=k,this.updater=rt||R}N.prototype.isReactComponent={},N.prototype.setState=function(ie,Ce){if(typeof ie!="object"&&typeof ie!="function"&&ie!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ie,Ce,"setState")},N.prototype.forceUpdate=function(ie){this.updater.enqueueForceUpdate(this,ie,"forceUpdate")};function H(){}H.prototype=N.prototype;function V(ie,Ce,rt){this.props=ie,this.context=Ce,this.refs=k,this.updater=rt||R}var Z=V.prototype=new H;Z.constructor=V,O(Z,N.prototype),Z.isPureReactComponent=!0;var J=Array.isArray,se={H:null,A:null,T:null,S:null},me=Object.prototype.hasOwnProperty;function G(ie,Ce,rt,et,Fe,tt){return rt=tt.ref,{$$typeof:n,type:ie,key:Ce,ref:rt!==void 0?rt:null,props:tt}}function ue(ie,Ce){return G(ie.type,Ce,void 0,void 0,void 0,ie.props)}function ge(ie){return typeof ie=="object"&&ie!==null&&ie.$$typeof===n}function xe(ie){var Ce={"=":"=0",":":"=2"};return"$"+ie.replace(/[=:]/g,function(rt){return Ce[rt]})}var Pe=/\/+/g;function Xe(ie,Ce){return typeof ie=="object"&&ie!==null&&ie.key!=null?xe(""+ie.key):Ce.toString(36)}function ke(){}function qe(ie){switch(ie.status){case"fulfilled":return ie.value;case"rejected":throw ie.reason;default:switch(typeof ie.status=="string"?ie.then(ke,ke):(ie.status="pending",ie.then(function(Ce){ie.status==="pending"&&(ie.status="fulfilled",ie.value=Ce)},function(Ce){ie.status==="pending"&&(ie.status="rejected",ie.reason=Ce)})),ie.status){case"fulfilled":return ie.value;case"rejected":throw ie.reason}}throw ie}function lt(ie,Ce,rt,et,Fe){var tt=typeof ie;(tt==="undefined"||tt==="boolean")&&(ie=null);var St=!1;if(ie===null)St=!0;else switch(tt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(ie.$$typeof){case n:case e:St=!0;break;case y:return St=ie._init,lt(St(ie._payload),Ce,rt,et,Fe)}}if(St)return Fe=Fe(ie),St=et===""?"."+Xe(ie,0):et,J(Fe)?(rt="",St!=null&&(rt=St.replace(Pe,"$&/")+"/"),lt(Fe,Ce,rt,"",function(Ke){return Ke})):Fe!=null&&(ge(Fe)&&(Fe=ue(Fe,rt+(Fe.key==null||ie&&ie.key===Fe.key?"":(""+Fe.key).replace(Pe,"$&/")+"/")+St)),Ce.push(Fe)),1;St=0;var kn=et===""?".":et+":";if(J(ie))for(var At=0;At<ie.length;At++)et=ie[At],tt=kn+Xe(et,At),St+=lt(et,Ce,rt,tt,Fe);else if(At=T(ie),typeof At=="function")for(ie=At.call(ie),At=0;!(et=ie.next()).done;)et=et.value,tt=kn+Xe(et,At++),St+=lt(et,Ce,rt,tt,Fe);else if(tt==="object"){if(typeof ie.then=="function")return lt(qe(ie),Ce,rt,et,Fe);throw Ce=String(ie),Error("Objects are not valid as a React child (found: "+(Ce==="[object Object]"?"object with keys {"+Object.keys(ie).join(", ")+"}":Ce)+"). If you meant to render a collection of children, use an array instead.")}return St}function Oe(ie,Ce,rt){if(ie==null)return ie;var et=[],Fe=0;return lt(ie,et,"","",function(tt){return Ce.call(rt,tt,Fe++)}),et}function Je(ie){if(ie._status===-1){var Ce=ie._result;Ce=Ce(),Ce.then(function(rt){(ie._status===0||ie._status===-1)&&(ie._status=1,ie._result=rt)},function(rt){(ie._status===0||ie._status===-1)&&(ie._status=2,ie._result=rt)}),ie._status===-1&&(ie._status=0,ie._result=Ce)}if(ie._status===1)return ie._result.default;throw ie._result}var Ze=typeof reportError=="function"?reportError:function(ie){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ie=="object"&&ie!==null&&typeof ie.message=="string"?String(ie.message):String(ie),error:ie});if(!window.dispatchEvent(Ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ie);return}console.error(ie)};function dt(){}return Qt.Children={map:Oe,forEach:function(ie,Ce,rt){Oe(ie,function(){Ce.apply(this,arguments)},rt)},count:function(ie){var Ce=0;return Oe(ie,function(){Ce++}),Ce},toArray:function(ie){return Oe(ie,function(Ce){return Ce})||[]},only:function(ie){if(!ge(ie))throw Error("React.Children.only expected to receive a single React element child.");return ie}},Qt.Component=N,Qt.Fragment=t,Qt.Profiler=r,Qt.PureComponent=V,Qt.StrictMode=i,Qt.Suspense=d,Qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Qt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Qt.cache=function(ie){return function(){return ie.apply(null,arguments)}},Qt.cloneElement=function(ie,Ce,rt){if(ie==null)throw Error("The argument must be a React element, but you passed "+ie+".");var et=O({},ie.props),Fe=ie.key,tt=void 0;if(Ce!=null)for(St in Ce.ref!==void 0&&(tt=void 0),Ce.key!==void 0&&(Fe=""+Ce.key),Ce)!me.call(Ce,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Ce.ref===void 0||(et[St]=Ce[St]);var St=arguments.length-2;if(St===1)et.children=rt;else if(1<St){for(var kn=Array(St),At=0;At<St;At++)kn[At]=arguments[At+2];et.children=kn}return G(ie.type,Fe,void 0,void 0,tt,et)},Qt.createContext=function(ie){return ie={$$typeof:a,_currentValue:ie,_currentValue2:ie,_threadCount:0,Provider:null,Consumer:null},ie.Provider=ie,ie.Consumer={$$typeof:o,_context:ie},ie},Qt.createElement=function(ie,Ce,rt){var et,Fe={},tt=null;if(Ce!=null)for(et in Ce.key!==void 0&&(tt=""+Ce.key),Ce)me.call(Ce,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(Fe[et]=Ce[et]);var St=arguments.length-2;if(St===1)Fe.children=rt;else if(1<St){for(var kn=Array(St),At=0;At<St;At++)kn[At]=arguments[At+2];Fe.children=kn}if(ie&&ie.defaultProps)for(et in St=ie.defaultProps,St)Fe[et]===void 0&&(Fe[et]=St[et]);return G(ie,tt,void 0,void 0,null,Fe)},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(ie){return{$$typeof:f,render:ie}},Qt.isValidElement=ge,Qt.lazy=function(ie){return{$$typeof:y,_payload:{_status:-1,_result:ie},_init:Je}},Qt.memo=function(ie,Ce){return{$$typeof:m,type:ie,compare:Ce===void 0?null:Ce}},Qt.startTransition=function(ie){var Ce=se.T,rt={};se.T=rt;try{var et=ie(),Fe=se.S;Fe!==null&&Fe(rt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(dt,Ze)}catch(tt){Ze(tt)}finally{se.T=Ce}},Qt.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Qt.use=function(ie){return se.H.use(ie)},Qt.useActionState=function(ie,Ce,rt){return se.H.useActionState(ie,Ce,rt)},Qt.useCallback=function(ie,Ce){return se.H.useCallback(ie,Ce)},Qt.useContext=function(ie){return se.H.useContext(ie)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(ie,Ce){return se.H.useDeferredValue(ie,Ce)},Qt.useEffect=function(ie,Ce){return se.H.useEffect(ie,Ce)},Qt.useId=function(){return se.H.useId()},Qt.useImperativeHandle=function(ie,Ce,rt){return se.H.useImperativeHandle(ie,Ce,rt)},Qt.useInsertionEffect=function(ie,Ce){return se.H.useInsertionEffect(ie,Ce)},Qt.useLayoutEffect=function(ie,Ce){return se.H.useLayoutEffect(ie,Ce)},Qt.useMemo=function(ie,Ce){return se.H.useMemo(ie,Ce)},Qt.useOptimistic=function(ie,Ce){return se.H.useOptimistic(ie,Ce)},Qt.useReducer=function(ie,Ce,rt){return se.H.useReducer(ie,Ce,rt)},Qt.useRef=function(ie){return se.H.useRef(ie)},Qt.useState=function(ie){return se.H.useState(ie)},Qt.useSyncExternalStore=function(ie,Ce,rt){return se.H.useSyncExternalStore(ie,Ce,rt)},Qt.useTransition=function(){return se.H.useTransition()},Qt.version="19.0.0",Qt}var TS;function Ty(){return TS||(TS=1,G0.exports=vR()),G0.exports}var q=Ty();const _t=Cy(q);var W0={exports:{}},hm={},V0={exports:{}},q0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ES;function yR(){return ES||(ES=1,function(n){function e(Oe,Je){var Ze=Oe.length;Oe.push(Je);e:for(;0<Ze;){var dt=Ze-1>>>1,ie=Oe[dt];if(0<r(ie,Je))Oe[dt]=Je,Oe[Ze]=ie,Ze=dt;else break e}}function t(Oe){return Oe.length===0?null:Oe[0]}function i(Oe){if(Oe.length===0)return null;var Je=Oe[0],Ze=Oe.pop();if(Ze!==Je){Oe[0]=Ze;e:for(var dt=0,ie=Oe.length,Ce=ie>>>1;dt<Ce;){var rt=2*(dt+1)-1,et=Oe[rt],Fe=rt+1,tt=Oe[Fe];if(0>r(et,Ze))Fe<ie&&0>r(tt,et)?(Oe[dt]=tt,Oe[Fe]=Ze,dt=Fe):(Oe[dt]=et,Oe[rt]=Ze,dt=rt);else if(Fe<ie&&0>r(tt,Ze))Oe[dt]=tt,Oe[Fe]=Ze,dt=Fe;else break e}}return Je}function r(Oe,Je){var Ze=Oe.sortIndex-Je.sortIndex;return Ze!==0?Ze:Oe.id-Je.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,f=a.now();n.unstable_now=function(){return a.now()-f}}var d=[],m=[],y=1,x=null,T=3,R=!1,O=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function Z(Oe){for(var Je=t(m);Je!==null;){if(Je.callback===null)i(m);else if(Je.startTime<=Oe)i(m),Je.sortIndex=Je.expirationTime,e(d,Je);else break;Je=t(m)}}function J(Oe){if(k=!1,Z(Oe),!O)if(t(d)!==null)O=!0,qe();else{var Je=t(m);Je!==null&&lt(J,Je.startTime-Oe)}}var se=!1,me=-1,G=5,ue=-1;function ge(){return!(n.unstable_now()-ue<G)}function xe(){if(se){var Oe=n.unstable_now();ue=Oe;var Je=!0;try{e:{O=!1,k&&(k=!1,H(me),me=-1),R=!0;var Ze=T;try{t:{for(Z(Oe),x=t(d);x!==null&&!(x.expirationTime>Oe&&ge());){var dt=x.callback;if(typeof dt=="function"){x.callback=null,T=x.priorityLevel;var ie=dt(x.expirationTime<=Oe);if(Oe=n.unstable_now(),typeof ie=="function"){x.callback=ie,Z(Oe),Je=!0;break t}x===t(d)&&i(d),Z(Oe)}else i(d);x=t(d)}if(x!==null)Je=!0;else{var Ce=t(m);Ce!==null&&lt(J,Ce.startTime-Oe),Je=!1}}break e}finally{x=null,T=Ze,R=!1}Je=void 0}}finally{Je?Pe():se=!1}}}var Pe;if(typeof V=="function")Pe=function(){V(xe)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,ke=Xe.port2;Xe.port1.onmessage=xe,Pe=function(){ke.postMessage(null)}}else Pe=function(){N(xe,0)};function qe(){se||(se=!0,Pe())}function lt(Oe,Je){me=N(function(){Oe(n.unstable_now())},Je)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Oe){Oe.callback=null},n.unstable_continueExecution=function(){O||R||(O=!0,qe())},n.unstable_forceFrameRate=function(Oe){0>Oe||125<Oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<Oe?Math.floor(1e3/Oe):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(Oe){switch(T){case 1:case 2:case 3:var Je=3;break;default:Je=T}var Ze=T;T=Je;try{return Oe()}finally{T=Ze}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Oe,Je){switch(Oe){case 1:case 2:case 3:case 4:case 5:break;default:Oe=3}var Ze=T;T=Oe;try{return Je()}finally{T=Ze}},n.unstable_scheduleCallback=function(Oe,Je,Ze){var dt=n.unstable_now();switch(typeof Ze=="object"&&Ze!==null?(Ze=Ze.delay,Ze=typeof Ze=="number"&&0<Ze?dt+Ze:dt):Ze=dt,Oe){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=Ze+ie,Oe={id:y++,callback:Je,priorityLevel:Oe,startTime:Ze,expirationTime:ie,sortIndex:-1},Ze>dt?(Oe.sortIndex=Ze,e(m,Oe),t(d)===null&&Oe===t(m)&&(k?(H(me),me=-1):k=!0,lt(J,Ze-dt))):(Oe.sortIndex=ie,e(d,Oe),O||R||(O=!0,qe())),Oe},n.unstable_shouldYield=ge,n.unstable_wrapCallback=function(Oe){var Je=T;return function(){var Ze=T;T=Je;try{return Oe.apply(this,arguments)}finally{T=Ze}}}}(q0)),q0}var RS;function bR(){return RS||(RS=1,V0.exports=yR()),V0.exports}var Y0={exports:{}},Ir={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MS;function SR(){if(MS)return Ir;MS=1;var n=Ty();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,m,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:d,containerInfo:m,implementation:y}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ir.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(d,m,null,y)},Ir.flushSync=function(d){var m=a.T,y=i.p;try{if(a.T=null,i.p=2,d)return d()}finally{a.T=m,i.p=y,i.d.f()}},Ir.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},Ir.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Ir.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,x=f(y,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:T,fetchPriority:R}):y==="script"&&i.d.X(d,{crossOrigin:x,integrity:T,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ir.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},Ir.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,x=f(y,m.crossOrigin);i.d.L(d,y,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ir.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=f(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},Ir.requestFormReset=function(d){i.d.r(d)},Ir.unstable_batchedUpdates=function(d,m){return d(m)},Ir.useFormState=function(d,m,y){return a.H.useFormState(d,m,y)},Ir.useFormStatus=function(){return a.H.useHostTransitionStatus()},Ir.version="19.0.0",Ir}var OS;function ux(){if(OS)return Y0.exports;OS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Y0.exports=SR(),Y0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AS;function wR(){if(AS)return hm;AS=1;var n=bR(),e=Ty(),t=ux();function i(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var o=Symbol.for("react.element"),a=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),J=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function me(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var G=Symbol.for("react.client.reference");function ue(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===G?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case d:return"Fragment";case f:return"Portal";case y:return"Profiler";case m:return"StrictMode";case k:return"Suspense";case N:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case R:return(s.displayName||"Context")+".Provider";case T:return(s._context.displayName||"Context")+".Consumer";case O:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case H:return l=s.displayName||null,l!==null?l:ue(s.type)||"Memo";case V:l=s._payload,s=s._init;try{return ue(s(l))}catch{}}return null}var ge=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe=Object.assign,Pe,Xe;function ke(s){if(Pe===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);Pe=l&&l[1]||"",Xe=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+s+Xe}var qe=!1;function lt(s,l){if(!s||qe)return"";qe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(Te){var Se=Te}Reflect.construct(s,[],je)}else{try{je.call()}catch(Te){Se=Te}s.call(je.prototype)}}else{try{throw Error()}catch(Te){Se=Te}(je=s())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(Te){if(Te&&Se&&typeof Te.stack=="string")return[Te.stack,Se.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=p.DetermineComponentFrameRoot(),D=C[0],U=C[1];if(D&&U){var ee=D.split(`
`),ce=U.split(`
`);for(b=p=0;p<ee.length&&!ee[p].includes("DetermineComponentFrameRoot");)p++;for(;b<ce.length&&!ce[b].includes("DetermineComponentFrameRoot");)b++;if(p===ee.length||b===ce.length)for(p=ee.length-1,b=ce.length-1;1<=p&&0<=b&&ee[p]!==ce[b];)b--;for(;1<=p&&0<=b;p--,b--)if(ee[p]!==ce[b]){if(p!==1||b!==1)do if(p--,b--,0>b||ee[p]!==ce[b]){var Ee=`
`+ee[p].replace(" at new "," at ");return s.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",s.displayName)),Ee}while(1<=p&&0<=b);break}}}finally{qe=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?ke(u):""}function Oe(s){switch(s.tag){case 26:case 27:case 5:return ke(s.type);case 16:return ke("Lazy");case 13:return ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return s=lt(s.type,!1),s;case 11:return s=lt(s.type.render,!1),s;case 1:return s=lt(s.type,!0),s;default:return""}}function Je(s){try{var l="";do l+=Oe(s),s=s.return;while(s);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Ze(s){var l=s,u=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,l.flags&4098&&(u=l.return),s=l.return;while(s)}return l.tag===3?u:null}function dt(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function ie(s){if(Ze(s)!==s)throw Error(i(188))}function Ce(s){var l=s.alternate;if(!l){if(l=Ze(s),l===null)throw Error(i(188));return l!==s?null:s}for(var u=s,p=l;;){var b=u.return;if(b===null)break;var C=b.alternate;if(C===null){if(p=b.return,p!==null){u=p;continue}break}if(b.child===C.child){for(C=b.child;C;){if(C===u)return ie(b),s;if(C===p)return ie(b),l;C=C.sibling}throw Error(i(188))}if(u.return!==p.return)u=b,p=C;else{for(var D=!1,U=b.child;U;){if(U===u){D=!0,u=b,p=C;break}if(U===p){D=!0,p=b,u=C;break}U=U.sibling}if(!D){for(U=C.child;U;){if(U===u){D=!0,u=C,p=b;break}if(U===p){D=!0,p=C,u=b;break}U=U.sibling}if(!D)throw Error(i(189))}}if(u.alternate!==p)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?s:l}function rt(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=rt(s),l!==null)return l;s=s.sibling}return null}var et=Array.isArray,Fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},St=[],kn=-1;function At(s){return{current:s}}function Ke(s){0>kn||(s.current=St[kn],St[kn]=null,kn--)}function Jt(s,l){kn++,St[kn]=s.current,s.current=l}var xn=At(null),Et=At(null),Ye=At(null),nt=At(null);function pt(s,l){switch(Jt(Ye,l),Jt(Et,s),Jt(xn,null),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)&&(l=l.namespaceURI)?cv(l):0;break;default:if(s=s===8?l.parentNode:l,l=s.tagName,s=s.namespaceURI)s=cv(s),l=fv(s,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}Ke(xn),Jt(xn,l)}function ct(){Ke(xn),Ke(Et),Ke(Ye)}function Ct(s){s.memoizedState!==null&&Jt(nt,s);var l=xn.current,u=fv(l,s.type);l!==u&&(Jt(Et,s),Jt(xn,u))}function sn(s){Et.current===s&&(Ke(xn),Ke(Et)),nt.current===s&&(Ke(nt),Tf._currentValue=tt)}var It=Object.prototype.hasOwnProperty,cn=n.unstable_scheduleCallback,mt=n.unstable_cancelCallback,ti=n.unstable_shouldYield,Pn=n.unstable_requestPaint,fn=n.unstable_now,ni=n.unstable_getCurrentPriorityLevel,Ut=n.unstable_ImmediatePriority,kt=n.unstable_UserBlockingPriority,Wt=n.unstable_NormalPriority,Dn=n.unstable_LowPriority,Bn=n.unstable_IdlePriority,zn=n.log,Hn=n.unstable_setDisableYieldValue,ai=null,An=null;function Si(s){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(ai,s,void 0,(s.current.flags&128)===128)}catch{}}function hi(s){if(typeof zn=="function"&&Hn(s),An&&typeof An.setStrictMode=="function")try{An.setStrictMode(ai,s)}catch{}}var pi=Math.clz32?Math.clz32:bs,il=Math.log,Ur=Math.LN2;function bs(s){return s>>>=0,s===0?32:31-(il(s)/Ur|0)|0}var Mr=128,Hs=4194304;function Ss(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Or(s,l){var u=s.pendingLanes;if(u===0)return 0;var p=0,b=s.suspendedLanes,C=s.pingedLanes,D=s.warmLanes;s=s.finishedLanes!==0;var U=u&134217727;return U!==0?(u=U&~b,u!==0?p=Ss(u):(C&=U,C!==0?p=Ss(C):s||(D=U&~D,D!==0&&(p=Ss(D))))):(U=u&~b,U!==0?p=Ss(U):C!==0?p=Ss(C):s||(D=u&~D,D!==0&&(p=Ss(D)))),p===0?0:l!==0&&l!==p&&!(l&b)&&(b=p&-p,D=l&-l,b>=D||b===32&&(D&4194176)!==0)?l:p}function $s(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function yu(s,l){switch(s){case 1:case 2:case 4:case 8:return l+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fs(){var s=Mr;return Mr<<=1,!(Mr&4194176)&&(Mr=128),s}function bu(){var s=Hs;return Hs<<=1,!(Hs&62914560)&&(Hs=4194304),s}function Gr(s){for(var l=[],u=0;31>u;u++)l.push(s);return l}function Us(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function xo(s,l,u,p,b,C){var D=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var U=s.entanglements,ee=s.expirationTimes,ce=s.hiddenUpdates;for(u=D&~u;0<u;){var Ee=31-pi(u),je=1<<Ee;U[Ee]=0,ee[Ee]=-1;var Se=ce[Ee];if(Se!==null)for(ce[Ee]=null,Ee=0;Ee<Se.length;Ee++){var Te=Se[Ee];Te!==null&&(Te.lane&=-536870913)}u&=~je}p!==0&&rl(s,p,0),C!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=C&~(D&~l))}function rl(s,l,u){s.pendingLanes|=l,s.suspendedLanes&=~l;var p=31-pi(l);s.entangledLanes|=l,s.entanglements[p]=s.entanglements[p]|1073741824|u&4194218}function Co(s,l){var u=s.entangledLanes|=l;for(s=s.entanglements;u;){var p=31-pi(u),b=1<<p;b&l|s[p]&l&&(s[p]|=l),u&=~b}}function Ar(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function ws(){var s=Fe.p;return s!==0?s:(s=window.event,s===void 0?32:xv(s.type))}function Wr(s,l){var u=Fe.p;try{return Fe.p=s,l()}finally{Fe.p=u}}var _s=Math.random().toString(36).slice(2),mi="__reactFiber$"+_s,ui="__reactProps$"+_s,Fi="__reactContainer$"+_s,Rt="__reactEvents$"+_s,ka="__reactListeners$"+_s,sl="__reactHandles$"+_s,Su="__reactResources$"+_s,xs="__reactMarker$"+_s;function Gs(s){delete s[mi],delete s[ui],delete s[Rt],delete s[ka],delete s[sl]}function Vr(s){var l=s[mi];if(l)return l;for(var u=s.parentNode;u;){if(l=u[Fi]||u[mi]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(s=hv(s);s!==null;){if(u=s[mi])return u;s=hv(s)}return l}s=u,u=s.parentNode}return null}function qr(s){if(s=s[mi]||s[Fi]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function Yr(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(i(33))}function Ws(s){var l=s[Su];return l||(l=s[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function $n(s){s[xs]=!0}var wu=new Set,Cs={};function Ts(s,l){dr(s,l),dr(s+"Capture",l)}function dr(s,l){for(Cs[s]=l,s=0;s<l.length;s++)wu.add(l[s])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Da={},za={};function Na(s){return It.call(za,s)?!0:It.call(Da,s)?!1:To.test(s)?za[s]=!0:(Da[s]=!0,!1)}function ol(s,l,u){if(Na(l))if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+u)}}function Vs(s,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+u)}}function kr(s,l,u,p){if(p===null)s.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(l,u,""+p)}}function Ni(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ul(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Pc(s){var l=Ul(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),p=""+s[l];if(!s.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var b=u.get,C=u.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return b.call(this)},set:function(D){p=""+D,C.call(this,D)}}),Object.defineProperty(s,l,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(D){p=""+D},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function ll(s){s._valueTracker||(s._valueTracker=Pc(s))}function Es(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var u=l.getValue(),p="";return s&&(p=Ul(s)?s.checked?"true":"false":s.value),s=p,s!==u?(l.setValue(s),!0):!1}function wi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Eo=/[\n"\\]/g;function _i(s){return s.replace(Eo,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function qs(s,l,u,p,b,C,D,U){s.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.type=D:s.removeAttribute("type"),l!=null?D==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Ni(l)):s.value!==""+Ni(l)&&(s.value=""+Ni(l)):D!=="submit"&&D!=="reset"||s.removeAttribute("value"),l!=null?Ys(s,D,Ni(l)):u!=null?Ys(s,D,Ni(u)):p!=null&&s.removeAttribute("value"),b==null&&C!=null&&(s.defaultChecked=!!C),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?s.name=""+Ni(U):s.removeAttribute("name")}function Ui(s,l,u,p,b,C,D,U){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.type=C),l!=null||u!=null){if(!(C!=="submit"&&C!=="reset"||l!=null))return;u=u!=null?""+Ni(u):"",l=l!=null?""+Ni(l):u,U||l===s.value||(s.value=l),s.defaultValue=l}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=U?s.checked:!!p,s.defaultChecked=!!p,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(s.name=D)}function Ys(s,l,u){l==="number"&&wi(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Xs(s,l,u,p){if(s=s.options,l){l={};for(var b=0;b<u.length;b++)l["$"+u[b]]=!0;for(u=0;u<s.length;u++)b=l.hasOwnProperty("$"+s[u].value),s[u].selected!==b&&(s[u].selected=b),b&&p&&(s[u].defaultSelected=!0)}else{for(u=""+Ni(u),l=null,b=0;b<s.length;b++){if(s[b].value===u){s[b].selected=!0,p&&(s[b].defaultSelected=!0);return}l!==null||s[b].disabled||(l=s[b])}l!==null&&(l.selected=!0)}}function Ks(s,l,u){if(l!=null&&(l=""+Ni(l),l!==s.value&&(s.value=l),u==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=u!=null?""+Ni(u):""}function al(s,l,u,p){if(l==null){if(p!=null){if(u!=null)throw Error(i(92));if(et(p)){if(1<p.length)throw Error(i(93));p=p[0]}u=p}u==null&&(u=""),l=u}u=Ni(l),s.defaultValue=u,p=s.textContent,p===u&&p!==""&&p!==null&&(s.value=p)}function Gi(s,l){if(l){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=l;return}}s.textContent=l}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function La(s,l,u){var p=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":p?s.setProperty(l,u):typeof u!="number"||u===0||_u.has(l)?l==="float"?s.cssFloat=u:s[l]=(""+u).trim():s[l]=u+"px"}function Pa(s,l,u){if(l!=null&&typeof l!="object")throw Error(i(62));if(s=s.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var b in l)p=l[b],l.hasOwnProperty(b)&&u[b]!==p&&La(s,b,p)}else for(var C in l)l.hasOwnProperty(C)&&La(s,C,l[C])}function ul(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ro=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zs(s){return Gl.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ia=null;function Qs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Mo=null,Xr=null;function xu(s){var l=qr(s);if(l&&(s=l.stateNode)){var u=s[ui]||null;e:switch(s=l.stateNode,l.type){case"input":if(qs(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+_i(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var p=u[l];if(p!==s&&p.form===s.form){var b=p[ui]||null;if(!b)throw Error(i(90));qs(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<u.length;l++)p=u[l],p.form===s.form&&Es(p)}break e;case"textarea":Ks(s,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Xs(s,!!u.multiple,l,!1)}}}var Oo=!1;function Cu(s,l,u){if(Oo)return s(l,u);Oo=!0;try{var p=s(l);return p}finally{if(Oo=!1,(Mo!==null||Xr!==null)&&(Fd(),Mo&&(l=Mo,s=Xr,Xr=Mo=null,xu(l),s)))for(l=0;l<s.length;l++)xu(s[l])}}function Ao(s,l){var u=s.stateNode;if(u===null)return null;var p=u[ui]||null;if(p===null)return null;u=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(i(231,l,typeof u));return u}var ko=!1;if(hr)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){ko=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{ko=!1}var Kr=null,Wl=null,Vl=null;function Do(){if(Vl)return Vl;var s,l=Wl,u=l.length,p,b="value"in Kr?Kr.value:Kr.textContent,C=b.length;for(s=0;s<u&&l[s]===b[s];s++);var D=u-s;for(p=1;p<=D&&l[u-p]===b[C-p];p++);return Vl=b.slice(s,1<p?1-p:void 0)}function on(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function gn(){return!0}function ql(){return!1}function xi(s){function l(u,p,b,C,D){this._reactName=u,this._targetInst=b,this.type=p,this.nativeEvent=C,this.target=D,this.currentTarget=null;for(var U in s)s.hasOwnProperty(U)&&(u=s[U],this[U]=u?u(C):C[U]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?gn:ql,this.isPropagationStopped=ql,this}return xe(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=gn)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=gn)},persist:function(){},isPersistent:gn}),l}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zo=xi(Js),Rs=xe({},Js,{view:0,detail:0}),Tu=xi(Rs),Dr,ja,Gn,Wi=xe({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ii,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Gn&&(Gn&&s.type==="mousemove"?(Dr=s.screenX-Gn.screenX,ja=s.screenY-Gn.screenY):ja=Dr=0,Gn=s),Dr)},movementY:function(s){return"movementY"in s?s.movementY:ja}}),pr=xi(Wi),Eu=xe({},Wi,{dataTransfer:0}),Yl=xi(Eu),Li=xe({},Rs,{relatedTarget:0}),fl=xi(Li),gi=xe({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=xi(gi),Mu=xe({},Js,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ou=xi(Mu),Ba=xe({},Js,{data:0}),Cn=xi(Ba),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function No(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Zr[s])?!!l[s]:!1}function Ii(){return No}var I=xe({},Rs,{key:function(s){if(s.key){var l=Au[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=on(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Pi[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ii,charCode:function(s){return s.type==="keypress"?on(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?on(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),P=xi(I),Y=xe({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oe=xi(Y),be=xe({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ii}),Me=xi(be),De=xe({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),Re=xi(De),Ue=xe({},Wi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),st=xi(Ue),gt=xe({},Js,{newState:0,oldState:0}),jt=xi(gt),Bt=[9,13,27,32],In=hr&&"CompositionEvent"in window,Wn=null;hr&&"documentMode"in document&&(Wn=document.documentMode);var er=hr&&"TextEvent"in window&&!Wn,Vi=hr&&(!In||Wn&&8<Wn&&11>=Wn),qi=" ",Ge=!1;function yt(s,l){switch(s){case"keyup":return Bt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ii(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var bn=!1;function ji(s,l){switch(s){case"compositionend":return ii(l);case"keypress":return l.which!==32?null:(Ge=!0,qi);case"textInput":return s=l.data,s===qi&&Ge?null:s;default:return null}}function Lo(s,l){if(bn)return s==="compositionend"||!In&&yt(s,l)?(s=Do(),Vl=Wl=Kr=null,bn=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Vi&&l.locale!=="ko"?null:l.data;default:return null}}var ci={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dl(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!ci[s.type]:l==="textarea"}function Xl(s,l,u,p){Mo?Xr?Xr.push(p):Xr=[p]:Mo=p,l=Vd(l,"onChange"),0<l.length&&(u=new zo("onChange","change",null,u,p),s.push({event:u,listeners:l}))}var Kl=null,Zl=null;function kh(s){av(s,0)}function ku(s){var l=Yr(s);if(Es(l))return s}function ad(s,l){if(s==="change")return l}var ud=!1;if(hr){var Ic;if(hr){var Po="oninput"in document;if(!Po){var v=document.createElement("div");v.setAttribute("oninput","return;"),Po=typeof v.oninput=="function"}Ic=Po}else Ic=!1;ud=Ic&&(!document.documentMode||9<document.documentMode)}function g(){Kl&&(Kl.detachEvent("onpropertychange",w),Zl=Kl=null)}function w(s){if(s.propertyName==="value"&&ku(Zl)){var l=[];Xl(l,Zl,s,Qs(s)),Cu(kh,l)}}function E(s,l,u){s==="focusin"?(g(),Kl=l,Zl=u,Kl.attachEvent("onpropertychange",w)):s==="focusout"&&g()}function A(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ku(Zl)}function z(s,l){if(s==="click")return ku(l)}function j(s,l){if(s==="input"||s==="change")return ku(l)}function F(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var X=typeof Object.is=="function"?Object.is:F;function re(s,l){if(X(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var u=Object.keys(s),p=Object.keys(l);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var b=u[p];if(!It.call(l,b)||!X(s[b],l[b]))return!1}return!0}function K(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function fe(s,l){var u=K(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=l&&p>=l)return{node:u,offset:l-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=K(u)}}function _e(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?_e(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Be(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=wi(s.document);l instanceof s.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)s=l.contentWindow;else break;l=wi(s.document)}return l}function Ie(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function We(s,l){var u=Be(l);l=s.focusedElem;var p=s.selectionRange;if(u!==l&&l&&l.ownerDocument&&_e(l.ownerDocument.documentElement,l)){if(p!==null&&Ie(l)){if(s=p.start,u=p.end,u===void 0&&(u=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(u,l.value.length);else if(u=(s=l.ownerDocument||document)&&s.defaultView||window,u.getSelection){u=u.getSelection();var b=l.textContent.length,C=Math.min(p.start,b);p=p.end===void 0?C:Math.min(p.end,b),!u.extend&&C>p&&(b=p,p=C,C=b),b=fe(l,C);var D=fe(l,p);b&&D&&(u.rangeCount!==1||u.anchorNode!==b.node||u.anchorOffset!==b.offset||u.focusNode!==D.node||u.focusOffset!==D.offset)&&(s=s.createRange(),s.setStart(b.node,b.offset),u.removeAllRanges(),C>p?(u.addRange(s),u.extend(D.node,D.offset)):(s.setEnd(D.node,D.offset),u.addRange(s)))}}for(s=[],u=l;u=u.parentNode;)u.nodeType===1&&s.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)u=s[l],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var ut=hr&&"documentMode"in document&&11>=document.documentMode,Qe=null,te=null,ve=null,de=!1;function Ae(s,l,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;de||Qe==null||Qe!==wi(p)||(p=Qe,"selectionStart"in p&&Ie(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ve&&re(ve,p)||(ve=p,p=Vd(te,"onSelect"),0<p.length&&(l=new zo("onSelect","select",null,l,u),s.push({event:l,listeners:p}),l.target=Qe)))}function Ve(s,l){var u={};return u[s.toLowerCase()]=l.toLowerCase(),u["Webkit"+s]="webkit"+l,u["Moz"+s]="moz"+l,u}var Mt={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionrun:Ve("Transition","TransitionRun"),transitionstart:Ve("Transition","TransitionStart"),transitioncancel:Ve("Transition","TransitionCancel"),transitionend:Ve("Transition","TransitionEnd")},Ht={},Vt={};hr&&(Vt=document.createElement("div").style,"AnimationEvent"in window||(delete Mt.animationend.animation,delete Mt.animationiteration.animation,delete Mt.animationstart.animation),"TransitionEvent"in window||delete Mt.transitionend.transition);function fi(s){if(Ht[s])return Ht[s];if(!Mt[s])return s;var l=Mt[s],u;for(u in l)if(l.hasOwnProperty(u)&&u in Vt)return Ht[s]=l[u];return s}var Ms=fi("animationend"),Bi=fi("animationiteration"),eo=fi("animationstart"),Xy=fi("transitionrun"),Du=fi("transitionstart"),cd=fi("transitioncancel"),jc=fi("transitionend"),Tn=new Map,ng="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Os(s,l){Tn.set(s,l),Ts(l,[s])}var mr=[],zu=0,Dh=0;function fd(){for(var s=zu,l=Dh=zu=0;l<s;){var u=mr[l];mr[l++]=null;var p=mr[l];mr[l++]=null;var b=mr[l];mr[l++]=null;var C=mr[l];if(mr[l++]=null,p!==null&&b!==null){var D=p.pending;D===null?b.next=b:(b.next=D.next,D.next=b),p.pending=b}C!==0&&zh(u,b,C)}}function Ha(s,l,u,p){mr[zu++]=s,mr[zu++]=l,mr[zu++]=u,mr[zu++]=p,Dh|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function Io(s,l,u,p){return Ha(s,l,u,p),$a(s)}function to(s,l){return Ha(s,null,null,l),$a(s)}function zh(s,l,u){s.lanes|=u;var p=s.alternate;p!==null&&(p.lanes|=u);for(var b=!1,C=s.return;C!==null;)C.childLanes|=u,p=C.alternate,p!==null&&(p.childLanes|=u),C.tag===22&&(s=C.stateNode,s===null||s._visibility&1||(b=!0)),s=C,C=C.return;b&&l!==null&&s.tag===3&&(C=s.stateNode,b=31-pi(u),C=C.hiddenUpdates,s=C[b],s===null?C[b]=[l]:s.push(l),l.lane=u|536870912)}function $a(s){if(50<vf)throw vf=0,Dp=null,Error(i(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Fa={},Nh=new WeakMap;function gr(s,l){if(typeof s=="object"&&s!==null){var u=Nh.get(s);return u!==void 0?u:(l={value:s,source:l,stack:Je(l)},Nh.set(s,l),l)}return{value:s,source:l,stack:Je(l)}}var Ua=[],jo=0,Bo=null,Ga=0,As=[],ks=0,Wa=null,Ds=1,zs="";function hl(s,l){Ua[jo++]=Ga,Ua[jo++]=Bo,Bo=s,Ga=l}function ig(s,l,u){As[ks++]=Ds,As[ks++]=zs,As[ks++]=Wa,Wa=s;var p=Ds;s=zs;var b=32-pi(p)-1;p&=~(1<<b),u+=1;var C=32-pi(l)+b;if(30<C){var D=b-b%5;C=(p&(1<<D)-1).toString(32),p>>=D,b-=D,Ds=1<<32-pi(l)+b|u<<b|p,zs=C+s}else Ds=1<<C|u<<b|p,zs=s}function dd(s){s.return!==null&&(hl(s,1),ig(s,1,0))}function Lh(s){for(;s===Bo;)Bo=Ua[--jo],Ua[jo]=null,Ga=Ua[--jo],Ua[jo]=null;for(;s===Wa;)Wa=As[--ks],As[ks]=null,zs=As[--ks],As[ks]=null,Ds=As[--ks],As[ks]=null}var vr=null,ln=null,Nt=!1,no=null,Ho=!1,hd=Error(i(519));function Va(s){var l=Error(i(418,""));throw pl(gr(l,s)),hd}function pd(s){var l=s.stateNode,u=s.type,p=s.memoizedProps;switch(l[mi]=s,l[ui]=p,u){case"dialog":an("cancel",l),an("close",l);break;case"iframe":case"object":case"embed":an("load",l);break;case"video":case"audio":for(u=0;u<Sf.length;u++)an(Sf[u],l);break;case"source":an("error",l);break;case"img":case"image":case"link":an("error",l),an("load",l);break;case"details":an("toggle",l);break;case"input":an("invalid",l),Ui(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),ll(l);break;case"select":an("invalid",l);break;case"textarea":an("invalid",l),al(l,p.value,p.defaultValue,p.children),ll(l)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||p.suppressHydrationWarning===!0||Gt(l.textContent,u)?(p.popover!=null&&(an("beforetoggle",l),an("toggle",l)),p.onScroll!=null&&an("scroll",l),p.onScrollEnd!=null&&an("scrollend",l),p.onClick!=null&&(l.onclick=qd),l=!0):l=!1,l||Va(s)}function Nu(s){for(vr=s.return;vr;)switch(vr.tag){case 3:case 27:Ho=!0;return;case 5:case 13:Ho=!1;return;default:vr=vr.return}}function qa(s){if(s!==vr)return!1;if(!Nt)return Nu(s),Nt=!0,!1;var l=!1,u;if((u=s.tag!==3&&s.tag!==27)&&((u=s.tag===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||_f(s.type,s.memoizedProps)),u=!u),u&&(l=!0),l&&ln&&Va(s),Nu(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(l===0){ln=po(s.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;s=s.nextSibling}ln=null}}else ln=vr?po(s.stateNode.nextSibling):null;return!0}function $o(){ln=vr=null,Nt=!1}function pl(s){no===null?no=[s]:no.push(s)}var ml=Error(i(460)),Bc=Error(i(474)),Ql={then:function(){}};function rg(s){return s=s.status,s==="fulfilled"||s==="rejected"}function md(){}function sg(s,l,u){switch(u=s[u],u===void 0?s.push(l):u!==l&&(l.then(md,md),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,s===ml?Error(i(483)):s;default:if(typeof l.status=="string")l.then(md,md);else{if(s=Nn,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=l,s.status="pending",s.then(function(p){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=p}},function(p){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,s===ml?Error(i(483)):s}throw Hc=l,ml}}var Hc=null;function og(){if(Hc===null)throw Error(i(459));var s=Hc;return Hc=null,s}var gl=null,vl=0;function $c(s){var l=vl;return vl+=1,gl===null&&(gl=[]),sg(gl,s,l)}function $(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function yl(s,l){throw l.$$typeof===o?Error(i(525)):(s=Object.prototype.toString.call(l),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function Fc(s){var l=s._init;return l(s._payload)}function Qr(s){function l(pe,ae){if(s){var ye=pe.deletions;ye===null?(pe.deletions=[ae],pe.flags|=16):ye.push(ae)}}function u(pe,ae){if(!s)return null;for(;ae!==null;)l(pe,ae),ae=ae.sibling;return null}function p(pe){for(var ae=new Map;pe!==null;)pe.key!==null?ae.set(pe.key,pe):ae.set(pe.index,pe),pe=pe.sibling;return ae}function b(pe,ae){return pe=pa(pe,ae),pe.index=0,pe.sibling=null,pe}function C(pe,ae,ye){return pe.index=ye,s?(ye=pe.alternate,ye!==null?(ye=ye.index,ye<ae?(pe.flags|=33554434,ae):ye):(pe.flags|=33554434,ae)):(pe.flags|=1048576,ae)}function D(pe){return s&&pe.alternate===null&&(pe.flags|=33554434),pe}function U(pe,ae,ye,Ne){return ae===null||ae.tag!==6?(ae=Cp(ye,pe.mode,Ne),ae.return=pe,ae):(ae=b(ae,ye),ae.return=pe,ae)}function ee(pe,ae,ye,Ne){var ht=ye.type;return ht===d?Ee(pe,ae,ye.props.children,Ne,ye.key):ae!==null&&(ae.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===V&&Fc(ht)===ae.type)?(ae=b(ae,ye.props),$(ae,ye),ae.return=pe,ae):(ae=df(ye.type,ye.key,ye.props,null,pe.mode,Ne),$(ae,ye),ae.return=pe,ae)}function ce(pe,ae,ye,Ne){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ye.containerInfo||ae.stateNode.implementation!==ye.implementation?(ae=Tp(ye,pe.mode,Ne),ae.return=pe,ae):(ae=b(ae,ye.children||[]),ae.return=pe,ae)}function Ee(pe,ae,ye,Ne,ht){return ae===null||ae.tag!==7?(ae=tu(ye,pe.mode,Ne,ht),ae.return=pe,ae):(ae=b(ae,ye),ae.return=pe,ae)}function je(pe,ae,ye){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Cp(""+ae,pe.mode,ye),ae.return=pe,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case a:return ye=df(ae.type,ae.key,ae.props,null,pe.mode,ye),$(ye,ae),ye.return=pe,ye;case f:return ae=Tp(ae,pe.mode,ye),ae.return=pe,ae;case V:var Ne=ae._init;return ae=Ne(ae._payload),je(pe,ae,ye)}if(et(ae)||me(ae))return ae=tu(ae,pe.mode,ye,null),ae.return=pe,ae;if(typeof ae.then=="function")return je(pe,$c(ae),ye);if(ae.$$typeof===R)return je(pe,Ld(pe,ae),ye);yl(pe,ae)}return null}function Se(pe,ae,ye,Ne){var ht=ae!==null?ae.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ht!==null?null:U(pe,ae,""+ye,Ne);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case a:return ye.key===ht?ee(pe,ae,ye,Ne):null;case f:return ye.key===ht?ce(pe,ae,ye,Ne):null;case V:return ht=ye._init,ye=ht(ye._payload),Se(pe,ae,ye,Ne)}if(et(ye)||me(ye))return ht!==null?null:Ee(pe,ae,ye,Ne,null);if(typeof ye.then=="function")return Se(pe,ae,$c(ye),Ne);if(ye.$$typeof===R)return Se(pe,ae,Ld(pe,ye),Ne);yl(pe,ye)}return null}function Te(pe,ae,ye,Ne,ht){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return pe=pe.get(ye)||null,U(ae,pe,""+Ne,ht);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case a:return pe=pe.get(Ne.key===null?ye:Ne.key)||null,ee(ae,pe,Ne,ht);case f:return pe=pe.get(Ne.key===null?ye:Ne.key)||null,ce(ae,pe,Ne,ht);case V:var en=Ne._init;return Ne=en(Ne._payload),Te(pe,ae,ye,Ne,ht)}if(et(Ne)||me(Ne))return pe=pe.get(ye)||null,Ee(ae,pe,Ne,ht,null);if(typeof Ne.then=="function")return Te(pe,ae,ye,$c(Ne),ht);if(Ne.$$typeof===R)return Te(pe,ae,ye,Ld(ae,Ne),ht);yl(ae,Ne)}return null}function bt(pe,ae,ye,Ne){for(var ht=null,en=null,xt=ae,Ot=ae=0,wn=null;xt!==null&&Ot<ye.length;Ot++){xt.index>Ot?(wn=xt,xt=null):wn=xt.sibling;var hn=Se(pe,xt,ye[Ot],Ne);if(hn===null){xt===null&&(xt=wn);break}s&&xt&&hn.alternate===null&&l(pe,xt),ae=C(hn,ae,Ot),en===null?ht=hn:en.sibling=hn,en=hn,xt=wn}if(Ot===ye.length)return u(pe,xt),Nt&&hl(pe,Ot),ht;if(xt===null){for(;Ot<ye.length;Ot++)xt=je(pe,ye[Ot],Ne),xt!==null&&(ae=C(xt,ae,Ot),en===null?ht=xt:en.sibling=xt,en=xt);return Nt&&hl(pe,Ot),ht}for(xt=p(xt);Ot<ye.length;Ot++)wn=Te(xt,pe,Ot,ye[Ot],Ne),wn!==null&&(s&&wn.alternate!==null&&xt.delete(wn.key===null?Ot:wn.key),ae=C(wn,ae,Ot),en===null?ht=wn:en.sibling=wn,en=wn);return s&&xt.forEach(function(wa){return l(pe,wa)}),Nt&&hl(pe,Ot),ht}function $t(pe,ae,ye,Ne){if(ye==null)throw Error(i(151));for(var ht=null,en=null,xt=ae,Ot=ae=0,wn=null,hn=ye.next();xt!==null&&!hn.done;Ot++,hn=ye.next()){xt.index>Ot?(wn=xt,xt=null):wn=xt.sibling;var wa=Se(pe,xt,hn.value,Ne);if(wa===null){xt===null&&(xt=wn);break}s&&xt&&wa.alternate===null&&l(pe,xt),ae=C(wa,ae,Ot),en===null?ht=wa:en.sibling=wa,en=wa,xt=wn}if(hn.done)return u(pe,xt),Nt&&hl(pe,Ot),ht;if(xt===null){for(;!hn.done;Ot++,hn=ye.next())hn=je(pe,hn.value,Ne),hn!==null&&(ae=C(hn,ae,Ot),en===null?ht=hn:en.sibling=hn,en=hn);return Nt&&hl(pe,Ot),ht}for(xt=p(xt);!hn.done;Ot++,hn=ye.next())hn=Te(xt,pe,Ot,hn.value,Ne),hn!==null&&(s&&hn.alternate!==null&&xt.delete(hn.key===null?Ot:hn.key),ae=C(hn,ae,Ot),en===null?ht=hn:en.sibling=hn,en=hn);return s&&xt.forEach(function(j0){return l(pe,j0)}),Nt&&hl(pe,Ot),ht}function ei(pe,ae,ye,Ne){if(typeof ye=="object"&&ye!==null&&ye.type===d&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case a:e:{for(var ht=ye.key;ae!==null;){if(ae.key===ht){if(ht=ye.type,ht===d){if(ae.tag===7){u(pe,ae.sibling),Ne=b(ae,ye.props.children),Ne.return=pe,pe=Ne;break e}}else if(ae.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===V&&Fc(ht)===ae.type){u(pe,ae.sibling),Ne=b(ae,ye.props),$(Ne,ye),Ne.return=pe,pe=Ne;break e}u(pe,ae);break}else l(pe,ae);ae=ae.sibling}ye.type===d?(Ne=tu(ye.props.children,pe.mode,Ne,ye.key),Ne.return=pe,pe=Ne):(Ne=df(ye.type,ye.key,ye.props,null,pe.mode,Ne),$(Ne,ye),Ne.return=pe,pe=Ne)}return D(pe);case f:e:{for(ht=ye.key;ae!==null;){if(ae.key===ht)if(ae.tag===4&&ae.stateNode.containerInfo===ye.containerInfo&&ae.stateNode.implementation===ye.implementation){u(pe,ae.sibling),Ne=b(ae,ye.children||[]),Ne.return=pe,pe=Ne;break e}else{u(pe,ae);break}else l(pe,ae);ae=ae.sibling}Ne=Tp(ye,pe.mode,Ne),Ne.return=pe,pe=Ne}return D(pe);case V:return ht=ye._init,ye=ht(ye._payload),ei(pe,ae,ye,Ne)}if(et(ye))return bt(pe,ae,ye,Ne);if(me(ye)){if(ht=me(ye),typeof ht!="function")throw Error(i(150));return ye=ht.call(ye),$t(pe,ae,ye,Ne)}if(typeof ye.then=="function")return ei(pe,ae,$c(ye),Ne);if(ye.$$typeof===R)return ei(pe,ae,Ld(pe,ye),Ne);yl(pe,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,ae!==null&&ae.tag===6?(u(pe,ae.sibling),Ne=b(ae,ye),Ne.return=pe,pe=Ne):(u(pe,ae),Ne=Cp(ye,pe.mode,Ne),Ne.return=pe,pe=Ne),D(pe)):u(pe,ae)}return function(pe,ae,ye,Ne){try{vl=0;var ht=ei(pe,ae,ye,Ne);return gl=null,ht}catch(xt){if(xt===ml)throw xt;var en=ss(29,xt,null,pe.mode);return en.lanes=Ne,en.return=pe,en}finally{}}}var qt=Qr(!0),lg=Qr(!1),Lu=At(null),gd=At(0);function Jl(s,l){s=Ol,Jt(gd,s),Jt(Lu,l),Ol=s|l.baseLanes}function Ph(){Jt(gd,Ol),Jt(Lu,Lu.current)}function Ih(){Ol=gd.current,Ke(Lu),Ke(gd)}var Ns=At(null),Fo=null;function ea(s){var l=s.alternate;Jt(Ci,Ci.current&1),Jt(Ns,s),Fo===null&&(l===null||Lu.current!==null||l.memoizedState!==null)&&(Fo=s)}function Uo(s){if(s.tag===22){if(Jt(Ci,Ci.current),Jt(Ns,s),Fo===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(Fo=s)}}else ta()}function ta(){Jt(Ci,Ci.current),Jt(Ns,Ns.current)}function bl(s){Ke(Ns),Fo===s&&(Fo=null),Ke(Ci)}var Ci=At(0);function vd(s){for(var l=s;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ky=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(u,p){s.push(p)}};this.abort=function(){l.aborted=!0,s.forEach(function(u){return u()})}},Sl=n.unstable_scheduleCallback,Zy=n.unstable_NormalPriority,Ti={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jh(){return{controller:new Ky,data:new Map,refCount:0}}function Uc(s){s.refCount--,s.refCount===0&&Sl(Zy,function(){s.controller.abort()})}var Gc=null,wl=0,Pu=0,Iu=null;function io(s,l){if(Gc===null){var u=Gc=[];wl=0,Pu=Fp(),Iu={status:"pending",value:void 0,then:function(p){u.push(p)}}}return wl++,l.then(ag,ag),l}function ag(){if(--wl===0&&Gc!==null){Iu!==null&&(Iu.status="fulfilled");var s=Gc;Gc=null,Pu=0,Iu=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function Qy(s,l){var u=[],p={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return s.then(function(){p.status="fulfilled",p.value=l;for(var b=0;b<u.length;b++)(0,u[b])(l)},function(b){for(p.status="rejected",p.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),p}var ug=ge.S;ge.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&io(s,l),ug!==null&&ug(s,l)};var Ya=At(null);function Bh(){var s=Ya.current;return s!==null?s:Nn.pooledCache}function Wc(s,l){l===null?Jt(Ya,Ya.current):Jt(Ya,l.pool)}function Hh(){var s=Bh();return s===null?null:{parent:Ti._currentValue,pool:s}}var na=0,Zt=null,En=null,Yn=null,Xa=!1,ju=!1,ia=!1,yd=0,Jr=0,ra=null,Ka=0;function Sn(){throw Error(i(321))}function $h(s,l){if(l===null)return!1;for(var u=0;u<l.length&&u<s.length;u++)if(!X(s[u],l[u]))return!1;return!0}function bd(s,l,u,p,b,C){return na=C,Zt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ge.H=s===null||s.memoizedState===null?Nr:Go,ia=!1,C=u(p,b),ia=!1,ju&&(C=Bu(l,u,p,b)),Fh(s),C}function Fh(s){ge.H=ri;var l=En!==null&&En.next!==null;if(na=0,Yn=En=Zt=null,Xa=!1,Jr=0,ra=null,l)throw Error(i(300));s===null||Ei||(s=s.dependencies,s!==null&&Nd(s)&&(Ei=!0))}function Bu(s,l,u,p){Zt=s;var b=0;do{if(ju&&(ra=null),Jr=0,ju=!1,25<=b)throw Error(i(301));if(b+=1,Yn=En=null,s.updateQueue!=null){var C=s.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}ge.H=la,C=l(u,p)}while(ju);return C}function sa(){var s=ge.H,l=s.useState()[0];return l=typeof l.then=="function"?Za(l):l,s=s.useState()[0],(En!==null?En.memoizedState:null)!==s&&(Zt.flags|=1024),l}function Sd(){var s=yd!==0;return yd=0,s}function Uh(s,l,u){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~u}function Hu(s){if(Xa){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Xa=!1}na=0,Yn=En=Zt=null,ju=!1,Jr=yd=0,ra=null}function zr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?Zt.memoizedState=Yn=s:Yn=Yn.next=s,Yn}function di(){if(En===null){var s=Zt.alternate;s=s!==null?s.memoizedState:null}else s=En.next;var l=Yn===null?Zt.memoizedState:Yn.next;if(l!==null)Yn=l,En=s;else{if(s===null)throw Zt.alternate===null?Error(i(467)):Error(i(310));En=s,s={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},Yn===null?Zt.memoizedState=Yn=s:Yn=Yn.next=s}return Yn}var vi;vi=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Za(s){var l=Jr;return Jr+=1,ra===null&&(ra=[]),s=sg(ra,s,l),l=Zt,(Yn===null?l.memoizedState:Yn.next)===null&&(l=l.alternate,ge.H=l===null||l.memoizedState===null?Nr:Go),s}function Vc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Za(s);if(s.$$typeof===R)return nr(s)}throw Error(i(438,String(s)))}function Ls(s){var l=null,u=Zt.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var p=Zt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=vi(),Zt.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(s),p=0;p<s;p++)u[p]=J;return l.index++,u}function ro(s,l){return typeof l=="function"?l(s):l}function Qa(s){var l=di();return _l(l,En,s)}function _l(s,l,u){var p=s.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=u;var b=s.baseQueue,C=p.pending;if(C!==null){if(b!==null){var D=b.next;b.next=C.next,C.next=D}l.baseQueue=b=C,p.pending=null}if(C=s.baseState,b===null)s.memoizedState=C;else{l=b.next;var U=D=null,ee=null,ce=l,Ee=!1;do{var je=ce.lane&-536870913;if(je!==ce.lane?(dn&je)===je:(na&je)===je){var Se=ce.revertLane;if(Se===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),je===Pu&&(Ee=!0);else if((na&Se)===Se){ce=ce.next,Se===Pu&&(Ee=!0);continue}else je={lane:0,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},ee===null?(U=ee=je,D=C):ee=ee.next=je,Zt.lanes|=Se,ma|=Se;je=ce.action,ia&&u(C,je),C=ce.hasEagerState?ce.eagerState:u(C,je)}else Se={lane:je,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},ee===null?(U=ee=Se,D=C):ee=ee.next=Se,Zt.lanes|=je,ma|=je;ce=ce.next}while(ce!==null&&ce!==l);if(ee===null?D=C:ee.next=U,!X(C,s.memoizedState)&&(Ei=!0,Ee&&(u=Iu,u!==null)))throw u;s.memoizedState=C,s.baseState=D,s.baseQueue=ee,p.lastRenderedState=C}return b===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function wd(s){var l=di(),u=l.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var p=u.dispatch,b=u.pending,C=l.memoizedState;if(b!==null){u.pending=null;var D=b=b.next;do C=s(C,D.action),D=D.next;while(D!==b);X(C,l.memoizedState)||(Ei=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),u.lastRenderedState=C}return[C,p]}function tr(s,l,u){var p=Zt,b=di(),C=Nt;if(C){if(u===void 0)throw Error(i(407));u=u()}else u=l();var D=!X((En||b).memoizedState,u);if(D&&(b.memoizedState=u,Ei=!0),b=b.queue,Td(fg.bind(null,p,b,s),[s]),b.getSnapshot!==l||D||Yn!==null&&Yn.memoizedState.tag&1){if(p.flags|=2048,oa(9,cg.bind(null,p,b,u,l),{destroy:void 0},null),Nn===null)throw Error(i(349));C||na&60||_d(p,l,u)}return u}function _d(s,l,u){s.flags|=16384,s={getSnapshot:l,value:u},l=Zt.updateQueue,l===null?(l=vi(),Zt.updateQueue=l,l.stores=[s]):(u=l.stores,u===null?l.stores=[s]:u.push(s))}function cg(s,l,u,p){l.value=u,l.getSnapshot=p,dg(l)&&xd(s)}function fg(s,l,u){return u(function(){dg(l)&&xd(s)})}function dg(s){var l=s.getSnapshot;s=s.value;try{var u=l();return!X(s,u)}catch{return!0}}function xd(s){var l=to(s,2);l!==null&&rr(l,s,2)}function Gh(s){var l=zr();if(typeof s=="function"){var u=s;if(s=u(),ia){hi(!0);try{u()}finally{hi(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:s},l}function $u(s,l,u,p){return s.baseState=u,_l(s,En,typeof p=="function"?p:ro)}function hg(s,l,u,p,b){if(Vu(s))throw Error(i(485));if(s=l.action,s!==null){var C={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){C.listeners.push(D)}};ge.T!==null?u(!0):C.isTransition=!1,p(C),u=l.pending,u===null?(C.next=l.pending=C,pg(l,C)):(C.next=u.next,l.pending=u.next=C)}}function pg(s,l){var u=l.action,p=l.payload,b=s.state;if(l.isTransition){var C=ge.T,D={};ge.T=D;try{var U=u(b,p),ee=ge.S;ee!==null&&ee(D,U),mg(s,l,U)}catch(ce){Wh(s,l,ce)}finally{ge.T=C}}else try{C=u(b,p),mg(s,l,C)}catch(ce){Wh(s,l,ce)}}function mg(s,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){Fu(s,l,p)},function(p){return Wh(s,l,p)}):Fu(s,l,u)}function Fu(s,l,u){l.status="fulfilled",l.value=u,gg(l),s.state=u,l=s.pending,l!==null&&(u=l.next,u===l?s.pending=null:(u=u.next,l.next=u,pg(s,u)))}function Wh(s,l,u){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=u,gg(l),l=l.next;while(l!==p)}s.action=null}function gg(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function Cd(s,l){return l}function Vh(s,l){if(Nt){var u=Nn.formState;if(u!==null){e:{var p=Zt;if(Nt){if(ln){t:{for(var b=ln,C=Ho;b.nodeType!==8;){if(!C){b=null;break t}if(b=po(b.nextSibling),b===null){b=null;break t}}C=b.data,b=C==="F!"||C==="F"?b:null}if(b){ln=po(b.nextSibling),p=b.data==="F!";break e}}Va(p)}p=!1}p&&(l=u[0])}}return u=zr(),u.memoizedState=u.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cd,lastRenderedState:l},u.queue=p,u=es.bind(null,Zt,p),p.dispatch=u,p=Gh(!1),C=Wu.bind(null,Zt,!1,p.queue),p=zr(),b={state:l,dispatch:null,action:s,pending:null},p.queue=b,u=hg.bind(null,Zt,b,C,u),b.dispatch=u,p.memoizedState=s,[l,u,!1]}function vg(s){var l=di();return yg(l,En,s)}function yg(s,l,u){l=_l(s,l,Cd)[0],s=Qa(ro)[0],l=typeof l=="object"&&l!==null&&typeof l.then=="function"?Za(l):l;var p=di(),b=p.queue,C=b.dispatch;return u!==p.memoizedState&&(Zt.flags|=2048,oa(9,Jy.bind(null,b,u),{destroy:void 0},null)),[l,C,s]}function Jy(s,l){s.action=l}function qh(s){var l=di(),u=En;if(u!==null)return yg(l,u,s);di(),l=l.memoizedState,u=di();var p=u.queue.dispatch;return u.memoizedState=s,[l,p,!1]}function oa(s,l,u,p){return s={tag:s,create:l,inst:u,deps:p,next:null},l=Zt.updateQueue,l===null&&(l=vi(),Zt.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,l.lastEffect=s),s}function bg(){return di().memoizedState}function Uu(s,l,u,p){var b=zr();Zt.flags|=s,b.memoizedState=oa(1|l,u,{destroy:void 0},p===void 0?null:p)}function qc(s,l,u,p){var b=di();p=p===void 0?null:p;var C=b.memoizedState.inst;En!==null&&p!==null&&$h(p,En.memoizedState.deps)?b.memoizedState=oa(l,u,C,p):(Zt.flags|=s,b.memoizedState=oa(1|l,u,C,p))}function Yh(s,l){Uu(8390656,8,s,l)}function Td(s,l){qc(2048,8,s,l)}function Yc(s,l){return qc(4,2,s,l)}function Sg(s,l){return qc(4,4,s,l)}function Xh(s,l){if(typeof l=="function"){s=s();var u=l(s);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function Kh(s,l,u){u=u!=null?u.concat([s]):null,qc(4,4,Xh.bind(null,l,s),u)}function Zh(){}function Qh(s,l){var u=di();l=l===void 0?null:l;var p=u.memoizedState;return l!==null&&$h(l,p[1])?p[0]:(u.memoizedState=[s,l],s)}function wg(s,l){var u=di();l=l===void 0?null:l;var p=u.memoizedState;if(l!==null&&$h(l,p[1]))return p[0];if(p=s(),ia){hi(!0);try{s()}finally{hi(!1)}}return u.memoizedState=[p,l],p}function Xc(s,l,u){return u===void 0||na&1073741824?s.memoizedState=l:(s.memoizedState=u,s=Vg(),Zt.lanes|=s,ma|=s,u)}function Jh(s,l,u,p){return X(u,l)?u:Lu.current!==null?(s=Xc(s,u,p),X(s,l)||(Ei=!0),s):na&42?(s=Vg(),Zt.lanes|=s,ma|=s,l):(Ei=!0,s.memoizedState=u)}function Ed(s,l,u,p,b){var C=Fe.p;Fe.p=C!==0&&8>C?C:8;var D=ge.T,U={};ge.T=U,Wu(s,!1,l,u);try{var ee=b(),ce=ge.S;if(ce!==null&&ce(U,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var Ee=Qy(ee,p);Zc(s,l,Ee,as(s))}else Zc(s,l,p,as(s))}catch(je){Zc(s,l,{then:function(){},status:"rejected",reason:je},as())}finally{Fe.p=C,ge.T=D}}function e0(){}function Kc(s,l,u,p){if(s.tag!==5)throw Error(i(476));var b=Kt(s).queue;Ed(s,b,l,tt,u===null?e0:function(){return _g(s),u(p)})}function Kt(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:tt},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:u},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function _g(s){var l=Kt(s).next.queue;Zc(s,l,{},as())}function ep(){return nr(Tf)}function Gu(){return di().memoizedState}function tp(){return di().memoizedState}function t0(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var u=as();s=uo(u);var p=ts(l,s,u);p!==null&&(rr(p,l,u),Tt(p,l,u)),l={cache:jh()},s.payload=l;return}l=l.return}}function n0(s,l,u){var p=as();u={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Vu(s)?np(l,u):(u=Io(s,l,u,p),u!==null&&(rr(u,s,p),ip(u,l,p)))}function es(s,l,u){var p=as();Zc(s,l,u,p)}function Zc(s,l,u,p){var b={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Vu(s))np(l,b);else{var C=s.alternate;if(s.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var D=l.lastRenderedState,U=C(D,u);if(b.hasEagerState=!0,b.eagerState=U,X(U,D))return Ha(s,l,b,0),Nn===null&&fd(),!1}catch{}finally{}if(u=Io(s,l,b,p),u!==null)return rr(u,s,p),ip(u,l,p),!0}return!1}function Wu(s,l,u,p){if(p={lane:2,revertLane:Fp(),action:p,hasEagerState:!1,eagerState:null,next:null},Vu(s)){if(l)throw Error(i(479))}else l=Io(s,u,p,2),l!==null&&rr(l,s,2)}function Vu(s){var l=s.alternate;return s===Zt||l!==null&&l===Zt}function np(s,l){ju=Xa=!0;var u=s.pending;u===null?l.next=l:(l.next=u.next,u.next=l),s.pending=l}function ip(s,l,u){if(u&4194176){var p=l.lanes;p&=s.pendingLanes,u|=p,l.lanes=u,Co(s,u)}}var ri={readContext:nr,use:Vc,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useLayoutEffect:Sn,useInsertionEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useSyncExternalStore:Sn,useId:Sn};ri.useCacheRefresh=Sn,ri.useMemoCache=Sn,ri.useHostTransitionStatus=Sn,ri.useFormState=Sn,ri.useActionState=Sn,ri.useOptimistic=Sn;var Nr={readContext:nr,use:Vc,useCallback:function(s,l){return zr().memoizedState=[s,l===void 0?null:l],s},useContext:nr,useEffect:Yh,useImperativeHandle:function(s,l,u){u=u!=null?u.concat([s]):null,Uu(4194308,4,Xh.bind(null,l,s),u)},useLayoutEffect:function(s,l){return Uu(4194308,4,s,l)},useInsertionEffect:function(s,l){Uu(4,2,s,l)},useMemo:function(s,l){var u=zr();l=l===void 0?null:l;var p=s();if(ia){hi(!0);try{s()}finally{hi(!1)}}return u.memoizedState=[p,l],p},useReducer:function(s,l,u){var p=zr();if(u!==void 0){var b=u(l);if(ia){hi(!0);try{u(l)}finally{hi(!1)}}}else b=l;return p.memoizedState=p.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},p.queue=s,s=s.dispatch=n0.bind(null,Zt,s),[p.memoizedState,s]},useRef:function(s){var l=zr();return s={current:s},l.memoizedState=s},useState:function(s){s=Gh(s);var l=s.queue,u=es.bind(null,Zt,l);return l.dispatch=u,[s.memoizedState,u]},useDebugValue:Zh,useDeferredValue:function(s,l){var u=zr();return Xc(u,s,l)},useTransition:function(){var s=Gh(!1);return s=Ed.bind(null,Zt,s.queue,!0,!1),zr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,u){var p=Zt,b=zr();if(Nt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=l(),Nn===null)throw Error(i(349));dn&60||_d(p,l,u)}b.memoizedState=u;var C={value:u,getSnapshot:l};return b.queue=C,Yh(fg.bind(null,p,C,s),[s]),p.flags|=2048,oa(9,cg.bind(null,p,C,u,l),{destroy:void 0},null),u},useId:function(){var s=zr(),l=Nn.identifierPrefix;if(Nt){var u=zs,p=Ds;u=(p&~(1<<32-pi(p)-1)).toString(32)+u,l=":"+l+"R"+u,u=yd++,0<u&&(l+="H"+u.toString(32)),l+=":"}else u=Ka++,l=":"+l+"r"+u.toString(32)+":";return s.memoizedState=l},useCacheRefresh:function(){return zr().memoizedState=t0.bind(null,Zt)}};Nr.useMemoCache=Ls,Nr.useHostTransitionStatus=ep,Nr.useFormState=Vh,Nr.useActionState=Vh,Nr.useOptimistic=function(s){var l=zr();l.memoizedState=l.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Wu.bind(null,Zt,!0,u),u.dispatch=l,[s,l]};var Go={readContext:nr,use:Vc,useCallback:Qh,useContext:nr,useEffect:Td,useImperativeHandle:Kh,useInsertionEffect:Yc,useLayoutEffect:Sg,useMemo:wg,useReducer:Qa,useRef:bg,useState:function(){return Qa(ro)},useDebugValue:Zh,useDeferredValue:function(s,l){var u=di();return Jh(u,En.memoizedState,s,l)},useTransition:function(){var s=Qa(ro)[0],l=di().memoizedState;return[typeof s=="boolean"?s:Za(s),l]},useSyncExternalStore:tr,useId:Gu};Go.useCacheRefresh=tp,Go.useMemoCache=Ls,Go.useHostTransitionStatus=ep,Go.useFormState=vg,Go.useActionState=vg,Go.useOptimistic=function(s,l){var u=di();return $u(u,En,s,l)};var la={readContext:nr,use:Vc,useCallback:Qh,useContext:nr,useEffect:Td,useImperativeHandle:Kh,useInsertionEffect:Yc,useLayoutEffect:Sg,useMemo:wg,useReducer:wd,useRef:bg,useState:function(){return wd(ro)},useDebugValue:Zh,useDeferredValue:function(s,l){var u=di();return En===null?Xc(u,s,l):Jh(u,En.memoizedState,s,l)},useTransition:function(){var s=wd(ro)[0],l=di().memoizedState;return[typeof s=="boolean"?s:Za(s),l]},useSyncExternalStore:tr,useId:Gu};la.useCacheRefresh=tp,la.useMemoCache=Ls,la.useHostTransitionStatus=ep,la.useFormState=qh,la.useActionState=qh,la.useOptimistic=function(s,l){var u=di();return En!==null?$u(u,En,s,l):(u.baseState=s,[s,u.queue.dispatch])};function qu(s,l,u,p){l=s.memoizedState,u=u(p,l),u=u==null?l:xe({},l,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Rd={isMounted:function(s){return(s=s._reactInternals)?Ze(s)===s:!1},enqueueSetState:function(s,l,u){s=s._reactInternals;var p=as(),b=uo(p);b.payload=l,u!=null&&(b.callback=u),l=ts(s,b,p),l!==null&&(rr(l,s,p),Tt(l,s,p))},enqueueReplaceState:function(s,l,u){s=s._reactInternals;var p=as(),b=uo(p);b.tag=1,b.payload=l,u!=null&&(b.callback=u),l=ts(s,b,p),l!==null&&(rr(l,s,p),Tt(l,s,p))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var u=as(),p=uo(u);p.tag=2,l!=null&&(p.callback=l),l=ts(s,p,u),l!==null&&(rr(l,s,u),Tt(l,s,u))}};function Md(s,l,u,p,b,C,D){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,C,D):l.prototype&&l.prototype.isPureReactComponent?!re(u,p)||!re(b,C):!0}function rp(s,l,u,p){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,p),l.state!==s&&Rd.enqueueReplaceState(l,l.state,null)}function xl(s,l){var u=l;if("ref"in l){u={};for(var p in l)p!=="ref"&&(u[p]=l[p])}if(s=s.defaultProps){u===l&&(u=xe({},u));for(var b in s)u[b]===void 0&&(u[b]=s[b])}return u}var Yu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Cl(s){Yu(s)}function xg(s){console.error(s)}function Tl(s){Yu(s)}function Qc(s,l){try{var u=s.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function sp(s,l,u){try{var p=s.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Jc(s,l,u){return u=uo(u),u.tag=3,u.payload={element:null},u.callback=function(){Qc(s,l)},u}function Cg(s){return s=uo(s),s.tag=3,s}function Tg(s,l,u,p){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var C=p.value;s.payload=function(){return b(C)},s.callback=function(){sp(l,u,p)}}var D=u.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(s.callback=function(){sp(l,u,p),typeof b!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var U=p.stack;this.componentDidCatch(p.value,{componentStack:U!==null?U:""})})}function i0(s,l,u,p,b){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=u.alternate,l!==null&&Ju(l,u,b,!0),u=Ns.current,u!==null){switch(u.tag){case 13:return Fo===null?Np():u.alternate===null&&oi===0&&(oi=3),u.flags&=-257,u.flags|=65536,u.lanes=b,p===Ql?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([p]):l.add(p),Pp(s,p,b)),!1;case 22:return u.flags|=65536,p===Ql?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([p]):u.add(p)),Pp(s,p,b)),!1}throw Error(i(435,u.tag))}return Pp(s,p,b),Np(),!1}if(Nt)return l=Ns.current,l!==null?(!(l.flags&65536)&&(l.flags|=256),l.flags|=65536,l.lanes=b,p!==hd&&(s=Error(i(422),{cause:p}),pl(gr(s,u)))):(p!==hd&&(l=Error(i(423),{cause:p}),pl(gr(l,u))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,p=gr(p,u),b=Jc(s.stateNode,p,b),ec(s,b),oi!==4&&(oi=2)),!1;var C=Error(i(520),{cause:p});if(C=gr(C,u),pf===null?pf=[C]:pf.push(C),oi!==4&&(oi=2),l===null)return!0;p=gr(p,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,s=b&-b,u.lanes|=s,s=Jc(u.stateNode,p,s),ec(u,s),!1;case 1:if(l=u.type,C=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Zo===null||!Zo.has(C))))return u.flags|=65536,b&=-b,u.lanes|=b,b=Cg(b),Tg(b,s,u,p),ec(u,b),!1}u=u.return}while(u!==null);return!1}var op=Error(i(461)),Ei=!1;function Yi(s,l,u,p){l.child=s===null?lg(l,null,u,p):qt(l,s.child,u,p)}function lp(s,l,u,p,b){u=u.render;var C=l.ref;if("ref"in p){var D={};for(var U in p)U!=="ref"&&(D[U]=p[U])}else D=p;return fa(l),p=bd(s,l,u,D,C,b),U=Sd(),s!==null&&!Ei?(Uh(s,l,b),oo(s,l,b)):(Nt&&U&&dd(l),l.flags|=1,Yi(s,l,p,b),l.child)}function ap(s,l,u,p,b){if(s===null){var C=u.type;return typeof C=="function"&&!xp(C)&&C.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=C,yr(s,l,C,p,b)):(s=df(u.type,null,p,l,l.mode,b),s.ref=l.ref,s.return=l,l.child=s)}if(C=s.child,!Zu(s,b)){var D=C.memoizedProps;if(u=u.compare,u=u!==null?u:re,u(D,p)&&s.ref===l.ref)return oo(s,l,b)}return l.flags|=1,s=pa(C,p),s.ref=l.ref,s.return=l,l.child=s}function yr(s,l,u,p,b){if(s!==null){var C=s.memoizedProps;if(re(C,p)&&s.ref===l.ref)if(Ei=!1,l.pendingProps=p=C,Zu(s,b))s.flags&131072&&(Ei=!0);else return l.lanes=s.lanes,oo(s,l,b)}return Xu(s,l,u,p,b)}function so(s,l,u){var p=l.pendingProps,b=p.children,C=(l.stateNode._pendingVisibility&2)!==0,D=s!==null?s.memoizedState:null;if(ef(s,l),p.mode==="hidden"||C){if(l.flags&128){if(p=D!==null?D.baseLanes|u:u,s!==null){for(b=l.child=s.child,C=0;b!==null;)C=C|b.lanes|b.childLanes,b=b.sibling;l.childLanes=C&~p}else l.childLanes=0,l.child=null;return Eg(s,l,p,u)}if(u&536870912)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&Wc(l,D!==null?D.cachePool:null),D!==null?Jl(l,D):Ph(),Uo(l);else return l.lanes=l.childLanes=536870912,Eg(s,l,D!==null?D.baseLanes|u:u,u)}else D!==null?(Wc(l,D.cachePool),Jl(l,D),ta(),l.memoizedState=null):(s!==null&&Wc(l,null),Ph(),ta());return Yi(s,l,b,u),l.child}function Eg(s,l,u,p){var b=Bh();return b=b===null?null:{parent:Ti._currentValue,pool:b},l.memoizedState={baseLanes:u,cachePool:b},s!==null&&Wc(l,null),Ph(),Uo(l),s!==null&&Ju(s,l,p,!0),null}function ef(s,l){var u=l.ref;if(u===null)s!==null&&s.ref!==null&&(l.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(s===null||s.ref!==u)&&(l.flags|=2097664)}}function Xu(s,l,u,p,b){return fa(l),u=bd(s,l,u,p,void 0,b),p=Sd(),s!==null&&!Ei?(Uh(s,l,b),oo(s,l,b)):(Nt&&p&&dd(l),l.flags|=1,Yi(s,l,u,b),l.child)}function Ja(s,l,u,p,b,C){return fa(l),l.updateQueue=null,u=Bu(l,p,u,b),Fh(s),p=Sd(),s!==null&&!Ei?(Uh(s,l,C),oo(s,l,C)):(Nt&&p&&dd(l),l.flags|=1,Yi(s,l,u,C),l.child)}function up(s,l,u,p,b){if(fa(l),l.stateNode===null){var C=Fa,D=u.contextType;typeof D=="object"&&D!==null&&(C=nr(D)),C=new u(p,C),l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Rd,l.stateNode=C,C._reactInternals=l,C=l.stateNode,C.props=p,C.state=l.memoizedState,C.refs={},rf(l),D=u.contextType,C.context=typeof D=="object"&&D!==null?nr(D):Fa,C.state=l.memoizedState,D=u.getDerivedStateFromProps,typeof D=="function"&&(qu(l,u,D,p),C.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(D=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),D!==C.state&&Rd.enqueueReplaceState(C,C.state,null),lf(l,p,C,b),co(),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(s===null){C=l.stateNode;var U=l.memoizedProps,ee=xl(u,U);C.props=ee;var ce=C.context,Ee=u.contextType;D=Fa,typeof Ee=="object"&&Ee!==null&&(D=nr(Ee));var je=u.getDerivedStateFromProps;Ee=typeof je=="function"||typeof C.getSnapshotBeforeUpdate=="function",U=l.pendingProps!==U,Ee||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(U||ce!==D)&&rp(l,C,p,D),qo=!1;var Se=l.memoizedState;C.state=Se,lf(l,p,C,b),co(),ce=l.memoizedState,U||Se!==ce||qo?(typeof je=="function"&&(qu(l,u,je,p),ce=l.memoizedState),(ee=qo||Md(l,u,ee,p,Se,ce,D))?(Ee||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=ce),C.props=p,C.state=ce,C.context=D,p=ee):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{C=l.stateNode,sf(s,l),D=l.memoizedProps,Ee=xl(u,D),C.props=Ee,je=l.pendingProps,Se=C.context,ce=u.contextType,ee=Fa,typeof ce=="object"&&ce!==null&&(ee=nr(ce)),U=u.getDerivedStateFromProps,(ce=typeof U=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(D!==je||Se!==ee)&&rp(l,C,p,ee),qo=!1,Se=l.memoizedState,C.state=Se,lf(l,p,C,b),co();var Te=l.memoizedState;D!==je||Se!==Te||qo||s!==null&&s.dependencies!==null&&Nd(s.dependencies)?(typeof U=="function"&&(qu(l,u,U,p),Te=l.memoizedState),(Ee=qo||Md(l,u,Ee,p,Se,Te,ee)||s!==null&&s.dependencies!==null&&Nd(s.dependencies))?(ce||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,Te,ee),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,Te,ee)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||D===s.memoizedProps&&Se===s.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&Se===s.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=Te),C.props=p,C.state=Te,C.context=ee,p=Ee):(typeof C.componentDidUpdate!="function"||D===s.memoizedProps&&Se===s.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&Se===s.memoizedState||(l.flags|=1024),p=!1)}return C=p,ef(s,l),p=(l.flags&128)!==0,C||p?(C=l.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:C.render(),l.flags|=1,s!==null&&p?(l.child=qt(l,s.child,null,b),l.child=qt(l,null,u,b)):Yi(s,l,u,b),l.memoizedState=C.state,s=l.child):s=oo(s,l,b),s}function cp(s,l,u,p){return $o(),l.flags|=256,Yi(s,l,u,p),l.child}var fp={dehydrated:null,treeContext:null,retryLane:0};function Od(s){return{baseLanes:s,cachePool:Hh()}}function aa(s,l,u){return s=s!==null?s.childLanes&~u:0,l&&(s|=Ps),s}function Ku(s,l,u){var p=l.pendingProps,b=!1,C=(l.flags&128)!==0,D;if((D=C)||(D=s!==null&&s.memoizedState===null?!1:(Ci.current&2)!==0),D&&(b=!0,l.flags&=-129),D=(l.flags&32)!==0,l.flags&=-33,s===null){if(Nt){if(b?ea(l):ta(),Nt){var U=ln,ee;if(ee=U){e:{for(ee=U,U=Ho;ee.nodeType!==8;){if(!U){U=null;break e}if(ee=po(ee.nextSibling),ee===null){U=null;break e}}U=ee}U!==null?(l.memoizedState={dehydrated:U,treeContext:Wa!==null?{id:Ds,overflow:zs}:null,retryLane:536870912},ee=ss(18,null,null,0),ee.stateNode=U,ee.return=l,l.child=ee,vr=l,ln=null,ee=!0):ee=!1}ee||Va(l)}if(U=l.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return U.data==="$!"?l.lanes=16:l.lanes=536870912,null;bl(l)}return U=p.children,p=p.fallback,b?(ta(),b=l.mode,U=Ad({mode:"hidden",children:U},b),p=tu(p,b,u,null),U.return=l,p.return=l,U.sibling=p,l.child=U,b=l.child,b.memoizedState=Od(u),b.childLanes=aa(s,D,u),l.memoizedState=fp,p):(ea(l),dp(l,U))}if(ee=s.memoizedState,ee!==null&&(U=ee.dehydrated,U!==null)){if(C)l.flags&256?(ea(l),l.flags&=-257,l=kd(s,l,u)):l.memoizedState!==null?(ta(),l.child=s.child,l.flags|=128,l=null):(ta(),b=p.fallback,U=l.mode,p=Ad({mode:"visible",children:p.children},U),b=tu(b,U,u,null),b.flags|=2,p.return=l,b.return=l,p.sibling=b,l.child=p,qt(l,s.child,null,u),p=l.child,p.memoizedState=Od(u),p.childLanes=aa(s,D,u),l.memoizedState=fp,l=b);else if(ea(l),U.data==="$!"){if(D=U.nextSibling&&U.nextSibling.dataset,D)var ce=D.dgst;D=ce,p=Error(i(419)),p.stack="",p.digest=D,pl({value:p,source:null,stack:null}),l=kd(s,l,u)}else if(Ei||Ju(s,l,u,!1),D=(u&s.childLanes)!==0,Ei||D){if(D=Nn,D!==null){if(p=u&-u,p&42)p=1;else switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=64;break;case 268435456:p=134217728;break;default:p=0}if(p=p&(D.suspendedLanes|u)?0:p,p!==0&&p!==ee.retryLane)throw ee.retryLane=p,to(s,p),rr(D,s,p),op}U.data==="$?"||Np(),l=kd(s,l,u)}else U.data==="$?"?(l.flags|=128,l.child=s.child,l=p0.bind(null,s),U._reactRetry=l,l=null):(s=ee.treeContext,ln=po(U.nextSibling),vr=l,Nt=!0,no=null,Ho=!1,s!==null&&(As[ks++]=Ds,As[ks++]=zs,As[ks++]=Wa,Ds=s.id,zs=s.overflow,Wa=l),l=dp(l,p.children),l.flags|=4096);return l}return b?(ta(),b=p.fallback,U=l.mode,ee=s.child,ce=ee.sibling,p=pa(ee,{mode:"hidden",children:p.children}),p.subtreeFlags=ee.subtreeFlags&31457280,ce!==null?b=pa(ce,b):(b=tu(b,U,u,null),b.flags|=2),b.return=l,p.return=l,p.sibling=b,l.child=p,p=b,b=l.child,U=s.child.memoizedState,U===null?U=Od(u):(ee=U.cachePool,ee!==null?(ce=Ti._currentValue,ee=ee.parent!==ce?{parent:ce,pool:ce}:ee):ee=Hh(),U={baseLanes:U.baseLanes|u,cachePool:ee}),b.memoizedState=U,b.childLanes=aa(s,D,u),l.memoizedState=fp,p):(ea(l),u=s.child,s=u.sibling,u=pa(u,{mode:"visible",children:p.children}),u.return=l,u.sibling=null,s!==null&&(D=l.deletions,D===null?(l.deletions=[s],l.flags|=16):D.push(s)),l.child=u,l.memoizedState=null,u)}function dp(s,l){return l=Ad({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Ad(s,l){return Fg(s,l,0,null)}function kd(s,l,u){return qt(l,s.child,null,u),s=dp(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function tf(s,l,u){s.lanes|=l;var p=s.alternate;p!==null&&(p.lanes|=l),ao(s.return,l,u)}function Dd(s,l,u,p,b){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:b}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=p,C.tail=u,C.tailMode=b)}function nf(s,l,u){var p=l.pendingProps,b=p.revealOrder,C=p.tail;if(Yi(s,l,p.children,u),p=Ci.current,p&2)p=p&1|2,l.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&tf(s,u,l);else if(s.tag===19)tf(s,u,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}switch(Jt(Ci,p),b){case"forwards":for(u=l.child,b=null;u!==null;)s=u.alternate,s!==null&&vd(s)===null&&(b=u),u=u.sibling;u=b,u===null?(b=l.child,l.child=null):(b=u.sibling,u.sibling=null),Dd(l,!1,b,u,C);break;case"backwards":for(u=null,b=l.child,l.child=null;b!==null;){if(s=b.alternate,s!==null&&vd(s)===null){l.child=b;break}s=b.sibling,b.sibling=u,u=b,b=s}Dd(l,!0,u,null,C);break;case"together":Dd(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function oo(s,l,u){if(s!==null&&(l.dependencies=s.dependencies),ma|=l.lanes,!(u&l.childLanes))if(s!==null){if(Ju(s,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(i(153));if(l.child!==null){for(s=l.child,u=pa(s,s.pendingProps),l.child=u,u.return=l;s.sibling!==null;)s=s.sibling,u=u.sibling=pa(s,s.pendingProps),u.return=l;u.sibling=null}return l.child}function Zu(s,l){return s.lanes&l?!0:(s=s.dependencies,!!(s!==null&&Nd(s)))}function r0(s,l,u){switch(l.tag){case 3:pt(l,l.stateNode.containerInfo),ca(l,Ti,s.memoizedState.cache),$o();break;case 27:case 5:Ct(l);break;case 4:pt(l,l.stateNode.containerInfo);break;case 10:ca(l,l.type,l.memoizedProps.value);break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(ea(l),l.flags|=128,null):u&l.child.childLanes?Ku(s,l,u):(ea(l),s=oo(s,l,u),s!==null?s.sibling:null);ea(l);break;case 19:var b=(s.flags&128)!==0;if(p=(u&l.childLanes)!==0,p||(Ju(s,l,u,!1),p=(u&l.childLanes)!==0),b){if(p)return nf(s,l,u);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Jt(Ci,Ci.current),p)break;return null;case 22:case 23:return l.lanes=0,so(s,l,u);case 24:ca(l,Ti,s.memoizedState.cache)}return oo(s,l,u)}function hp(s,l,u){if(s!==null)if(s.memoizedProps!==l.pendingProps)Ei=!0;else{if(!Zu(s,u)&&!(l.flags&128))return Ei=!1,r0(s,l,u);Ei=!!(s.flags&131072)}else Ei=!1,Nt&&l.flags&1048576&&ig(l,Ga,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var p=l.elementType,b=p._init;if(p=b(p._payload),l.type=p,typeof p=="function")xp(p)?(s=xl(p,s),l.tag=1,l=up(null,l,p,s,u)):(l.tag=0,l=Xu(null,l,p,s,u));else{if(p!=null){if(b=p.$$typeof,b===O){l.tag=11,l=lp(null,l,p,s,u);break e}else if(b===H){l.tag=14,l=ap(null,l,p,s,u);break e}}throw l=ue(p)||p,Error(i(306,l,""))}}return l;case 0:return Xu(s,l,l.type,l.pendingProps,u);case 1:return p=l.type,b=xl(p,l.pendingProps),up(s,l,p,b,u);case 3:e:{if(pt(l,l.stateNode.containerInfo),s===null)throw Error(i(387));var C=l.pendingProps;b=l.memoizedState,p=b.element,sf(s,l),lf(l,C,null,u);var D=l.memoizedState;if(C=D.cache,ca(l,Ti,C),C!==b.cache&&zd(l,[Ti],u,!0),co(),C=D.element,b.isDehydrated)if(b={element:C,isDehydrated:!1,cache:D.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=cp(s,l,C,u);break e}else if(C!==p){p=gr(Error(i(424)),l),pl(p),l=cp(s,l,C,u);break e}else for(ln=po(l.stateNode.containerInfo.firstChild),vr=l,Nt=!0,no=null,Ho=!0,u=lg(l,null,C,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if($o(),C===p){l=oo(s,l,u);break e}Yi(s,l,C,u)}l=l.child}return l;case 26:return ef(s,l),s===null?(u=nm(l.type,null,l.pendingProps,null))?l.memoizedState=u:Nt||(u=l.type,s=l.pendingProps,p=Yd(Ye.current).createElement(u),p[mi]=l,p[ui]=s,Ki(p,u,s),$n(p),l.stateNode=p):l.memoizedState=nm(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Ct(l),s===null&&Nt&&(p=l.stateNode=tm(l.type,l.pendingProps,Ye.current),vr=l,Ho=!0,ln=po(p.firstChild)),p=l.pendingProps.children,s!==null||Nt?Yi(s,l,p,u):l.child=qt(l,null,p,u),ef(s,l),l.child;case 5:return s===null&&Nt&&((b=p=ln)&&(p=w0(p,l.type,l.pendingProps,Ho),p!==null?(l.stateNode=p,vr=l,ln=po(p.firstChild),Ho=!1,b=!0):b=!1),b||Va(l)),Ct(l),b=l.type,C=l.pendingProps,D=s!==null?s.memoizedProps:null,p=C.children,_f(b,C)?p=null:D!==null&&_f(b,D)&&(l.flags|=32),l.memoizedState!==null&&(b=bd(s,l,sa,null,null,u),Tf._currentValue=b),ef(s,l),Yi(s,l,p,u),l.child;case 6:return s===null&&Nt&&((s=u=ln)&&(u=_0(u,l.pendingProps,Ho),u!==null?(l.stateNode=u,vr=l,ln=null,s=!0):s=!1),s||Va(l)),null;case 13:return Ku(s,l,u);case 4:return pt(l,l.stateNode.containerInfo),p=l.pendingProps,s===null?l.child=qt(l,null,p,u):Yi(s,l,p,u),l.child;case 11:return lp(s,l,l.type,l.pendingProps,u);case 7:return Yi(s,l,l.pendingProps,u),l.child;case 8:return Yi(s,l,l.pendingProps.children,u),l.child;case 12:return Yi(s,l,l.pendingProps.children,u),l.child;case 10:return p=l.pendingProps,ca(l,l.type,p.value),Yi(s,l,p.children,u),l.child;case 9:return b=l.type._context,p=l.pendingProps.children,fa(l),b=nr(b),p=p(b),l.flags|=1,Yi(s,l,p,u),l.child;case 14:return ap(s,l,l.type,l.pendingProps,u);case 15:return yr(s,l,l.type,l.pendingProps,u);case 19:return nf(s,l,u);case 22:return so(s,l,u);case 24:return fa(l),p=nr(Ti),s===null?(b=Bh(),b===null&&(b=Nn,C=jh(),b.pooledCache=C,C.refCount++,C!==null&&(b.pooledCacheLanes|=u),b=C),l.memoizedState={parent:p,cache:b},rf(l),ca(l,Ti,b)):(s.lanes&u&&(sf(s,l),lf(l,null,null,u),co()),b=s.memoizedState,C=l.memoizedState,b.parent!==p?(b={parent:p,cache:p},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),ca(l,Ti,p)):(p=C.cache,ca(l,Ti,p),p!==b.cache&&zd(l,[Ti],u,!0))),Yi(s,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}var Qu=At(null),ua=null,lo=null;function ca(s,l,u){Jt(Qu,l._currentValue),l._currentValue=u}function Wo(s){s._currentValue=Qu.current,Ke(Qu)}function ao(s,l,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),s===u)break;s=s.return}}function zd(s,l,u,p){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var C=b.dependencies;if(C!==null){var D=b.child;C=C.firstContext;e:for(;C!==null;){var U=C;C=b;for(var ee=0;ee<l.length;ee++)if(U.context===l[ee]){C.lanes|=u,U=C.alternate,U!==null&&(U.lanes|=u),ao(C.return,u,s),p||(D=null);break e}C=U.next}}else if(b.tag===18){if(D=b.return,D===null)throw Error(i(341));D.lanes|=u,C=D.alternate,C!==null&&(C.lanes|=u),ao(D,u,s),D=null}else D=b.child;if(D!==null)D.return=b;else for(D=b;D!==null;){if(D===s){D=null;break}if(b=D.sibling,b!==null){b.return=D.return,D=b;break}D=D.return}b=D}}function Ju(s,l,u,p){s=null;for(var b=l,C=!1;b!==null;){if(!C){if(b.flags&524288)C=!0;else if(b.flags&262144)break}if(b.tag===10){var D=b.alternate;if(D===null)throw Error(i(387));if(D=D.memoizedProps,D!==null){var U=b.type;X(b.pendingProps.value,D.value)||(s!==null?s.push(U):s=[U])}}else if(b===nt.current){if(D=b.alternate,D===null)throw Error(i(387));D.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(Tf):s=[Tf])}b=b.return}s!==null&&zd(l,s,u,p),l.flags|=262144}function Nd(s){for(s=s.firstContext;s!==null;){if(!X(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function fa(s){ua=s,lo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function nr(s){return Vo(ua,s)}function Ld(s,l){return ua===null&&fa(s),Vo(s,l)}function Vo(s,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},lo===null){if(s===null)throw Error(i(308));lo=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else lo=lo.next=l;return u}var qo=!1;function rf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function uo(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ts(s,l,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,Qn&2){var b=p.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),p.pending=l,l=$a(s),zh(s,null,u),l}return Ha(s,p,l,u),$a(s)}function Tt(s,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194176)!==0)){var p=l.lanes;p&=s.pendingLanes,u|=p,l.lanes=u,Co(s,u)}}function ec(s,l){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var b=null,C=null;if(u=u.firstBaseUpdate,u!==null){do{var D={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};C===null?b=C=D:C=C.next=D,u=u.next}while(u!==null);C===null?b=C=l:C=C.next=l}else b=C=l;u={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:C,shared:p.shared,callbacks:p.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=l}var of=!1;function co(){if(of){var s=Iu;if(s!==null)throw s}}function lf(s,l,u,p){of=!1;var b=s.updateQueue;qo=!1;var C=b.firstBaseUpdate,D=b.lastBaseUpdate,U=b.shared.pending;if(U!==null){b.shared.pending=null;var ee=U,ce=ee.next;ee.next=null,D===null?C=ce:D.next=ce,D=ee;var Ee=s.alternate;Ee!==null&&(Ee=Ee.updateQueue,U=Ee.lastBaseUpdate,U!==D&&(U===null?Ee.firstBaseUpdate=ce:U.next=ce,Ee.lastBaseUpdate=ee))}if(C!==null){var je=b.baseState;D=0,Ee=ce=ee=null,U=C;do{var Se=U.lane&-536870913,Te=Se!==U.lane;if(Te?(dn&Se)===Se:(p&Se)===Se){Se!==0&&Se===Pu&&(of=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var bt=s,$t=U;Se=l;var ei=u;switch($t.tag){case 1:if(bt=$t.payload,typeof bt=="function"){je=bt.call(ei,je,Se);break e}je=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=$t.payload,Se=typeof bt=="function"?bt.call(ei,je,Se):bt,Se==null)break e;je=xe({},je,Se);break e;case 2:qo=!0}}Se=U.callback,Se!==null&&(s.flags|=64,Te&&(s.flags|=8192),Te=b.callbacks,Te===null?b.callbacks=[Se]:Te.push(Se))}else Te={lane:Se,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Ee===null?(ce=Ee=Te,ee=je):Ee=Ee.next=Te,D|=Se;if(U=U.next,U===null){if(U=b.shared.pending,U===null)break;Te=U,U=Te.next,Te.next=null,b.lastBaseUpdate=Te,b.shared.pending=null}}while(!0);Ee===null&&(ee=je),b.baseState=ee,b.firstBaseUpdate=ce,b.lastBaseUpdate=Ee,C===null&&(b.shared.lanes=0),ma|=D,s.lanes=D,s.memoizedState=je}}function Pd(s,l){if(typeof s!="function")throw Error(i(191,s));s.call(l)}function pp(s,l){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)Pd(u[s],l)}function yi(s,l){try{var u=l.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var b=p.next;u=b;do{if((u.tag&s)===s){p=void 0;var C=u.create,D=u.inst;p=C(),D.destroy=p}u=u.next}while(u!==b)}}catch(U){jn(l,l.return,U)}}function da(s,l,u){try{var p=l.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var C=b.next;p=C;do{if((p.tag&s)===s){var D=p.inst,U=D.destroy;if(U!==void 0){D.destroy=void 0,b=l;var ee=u;try{U()}catch(ce){jn(b,ee,ce)}}}p=p.next}while(p!==C)}}catch(ce){jn(l,l.return,ce)}}function Rg(s){var l=s.updateQueue;if(l!==null){var u=s.stateNode;try{pp(l,u)}catch(p){jn(s,s.return,p)}}}function mp(s,l,u){u.props=xl(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(p){jn(s,l,p)}}function eu(s,l){try{var u=s.ref;if(u!==null){var p=s.stateNode;switch(s.tag){case 26:case 27:case 5:var b=p;break;default:b=p}typeof u=="function"?s.refCleanup=u(b):u.current=b}}catch(C){jn(s,l,C)}}function Lr(s,l){var u=s.ref,p=s.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(b){jn(s,l,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){jn(s,l,b)}else u.current=null}function Mg(s){var l=s.type,u=s.memoizedProps,p=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(b){jn(s,s.return,b)}}function Og(s,l,u){try{var p=s.stateNode;ya(p,s.type,u,l),p[ui]=l}catch(b){jn(s,s.return,b)}}function Ag(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function fo(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ag(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Xi(s,l,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,l?u.nodeType===8?u.parentNode.insertBefore(s,l):u.insertBefore(s,l):(u.nodeType===8?(l=u.parentNode,l.insertBefore(s,u)):(l=u,l.appendChild(s)),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=qd));else if(p!==4&&p!==27&&(s=s.child,s!==null))for(Xi(s,l,u),s=s.sibling;s!==null;)Xi(s,l,u),s=s.sibling}function tc(s,l,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,l?u.insertBefore(s,l):u.appendChild(s);else if(p!==4&&p!==27&&(s=s.child,s!==null))for(tc(s,l,u),s=s.sibling;s!==null;)tc(s,l,u),s=s.sibling}var El=!1,Xn=!1,gp=!1,kg=typeof WeakSet=="function"?WeakSet:Set,si=null,vp=!1;function Dg(s,l){if(s=s.containerInfo,Xp=Ef,s=Be(s),Ie(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var b=p.anchorOffset,C=p.focusNode;p=p.focusOffset;try{u.nodeType,C.nodeType}catch{u=null;break e}var D=0,U=-1,ee=-1,ce=0,Ee=0,je=s,Se=null;t:for(;;){for(var Te;je!==u||b!==0&&je.nodeType!==3||(U=D+b),je!==C||p!==0&&je.nodeType!==3||(ee=D+p),je.nodeType===3&&(D+=je.nodeValue.length),(Te=je.firstChild)!==null;)Se=je,je=Te;for(;;){if(je===s)break t;if(Se===u&&++ce===b&&(U=D),Se===C&&++Ee===p&&(ee=D),(Te=je.nextSibling)!==null)break;je=Se,Se=je.parentNode}je=Te}u=U===-1||ee===-1?null:{start:U,end:ee}}else u=null}u=u||{start:0,end:0}}else u=null;for(Kp={focusedElem:s,selectionRange:u},Ef=!1,si=l;si!==null;)if(l=si,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,si=s;else for(;si!==null;){switch(l=si,C=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if(s&1024&&C!==null){s=void 0,u=l,b=C.memoizedProps,C=C.memoizedState,p=u.stateNode;try{var bt=xl(u.type,b,u.elementType===u.type);s=p.getSnapshotBeforeUpdate(bt,C),p.__reactInternalSnapshotBeforeUpdate=s}catch($t){jn(u,u.return,$t)}}break;case 3:if(s&1024){if(s=l.stateNode.containerInfo,u=s.nodeType,u===9)em(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":em(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(i(163))}if(s=l.sibling,s!==null){s.return=l.return,si=s;break}si=l.return}return bt=vp,vp=!1,bt}function zg(s,l,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:Xo(s,u),p&4&&yi(5,u);break;case 1:if(Xo(s,u),p&4)if(s=u.stateNode,l===null)try{s.componentDidMount()}catch(U){jn(u,u.return,U)}else{var b=xl(u.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(b,l,s.__reactInternalSnapshotBeforeUpdate)}catch(U){jn(u,u.return,U)}}p&64&&Rg(u),p&512&&eu(u,u.return);break;case 3:if(Xo(s,u),p&64&&(p=u.updateQueue,p!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{pp(p,s)}catch(U){jn(u,u.return,U)}}break;case 26:Xo(s,u),p&512&&eu(u,u.return);break;case 27:case 5:Xo(s,u),l===null&&p&4&&Mg(u),p&512&&eu(u,u.return);break;case 12:Xo(s,u);break;case 13:Xo(s,u),p&4&&Lg(s,u);break;case 22:if(b=u.memoizedState!==null||El,!b){l=l!==null&&l.memoizedState!==null||Xn;var C=El,D=Xn;El=b,(Xn=l)&&!D?Pr(s,u,(u.subtreeFlags&8772)!==0):Xo(s,u),El=C,Xn=D}p&512&&(u.memoizedProps.mode==="manual"?eu(u,u.return):Lr(u,u.return));break;default:Xo(s,u)}}function Ng(s){var l=s.alternate;l!==null&&(s.alternate=null,Ng(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Gs(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var bi=null,ns=!1;function Yo(s,l,u){for(u=u.child;u!==null;)yp(s,l,u),u=u.sibling}function yp(s,l,u){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(ai,u)}catch{}switch(u.tag){case 26:Xn||Lr(u,l),Yo(s,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Xn||Lr(u,l);var p=bi,b=ns;for(bi=u.stateNode,Yo(s,l,u),u=u.stateNode,l=u.attributes;l.length;)u.removeAttributeNode(l[0]);Gs(u),bi=p,ns=b;break;case 5:Xn||Lr(u,l);case 6:b=bi;var C=ns;if(bi=null,Yo(s,l,u),bi=b,ns=C,bi!==null)if(ns)try{s=bi,p=u.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)}catch(D){jn(u,l,D)}else try{bi.removeChild(u.stateNode)}catch(D){jn(u,l,D)}break;case 18:bi!==null&&(ns?(l=bi,u=u.stateNode,l.nodeType===8?Jp(l.parentNode,u):l.nodeType===1&&Jp(l,u),kf(l)):Jp(bi,u.stateNode));break;case 4:p=bi,b=ns,bi=u.stateNode.containerInfo,ns=!0,Yo(s,l,u),bi=p,ns=b;break;case 0:case 11:case 14:case 15:Xn||da(2,u,l),Xn||da(4,u,l),Yo(s,l,u);break;case 1:Xn||(Lr(u,l),p=u.stateNode,typeof p.componentWillUnmount=="function"&&mp(u,l,p)),Yo(s,l,u);break;case 21:Yo(s,l,u);break;case 22:Xn||Lr(u,l),Xn=(p=Xn)||u.memoizedState!==null,Yo(s,l,u),Xn=p;break;default:Yo(s,l,u)}}function Lg(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{kf(s)}catch(u){jn(l,l.return,u)}}function bp(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new kg),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new kg),l;default:throw Error(i(435,s.tag))}}function Id(s,l){var u=bp(s);l.forEach(function(p){var b=m0.bind(null,s,p);u.has(p)||(u.add(p),p.then(b,b))})}function ir(s,l){var u=l.deletions;if(u!==null)for(var p=0;p<u.length;p++){var b=u[p],C=s,D=l,U=D;e:for(;U!==null;){switch(U.tag){case 27:case 5:bi=U.stateNode,ns=!1;break e;case 3:bi=U.stateNode.containerInfo,ns=!0;break e;case 4:bi=U.stateNode.containerInfo,ns=!0;break e}U=U.return}if(bi===null)throw Error(i(160));yp(C,D,b),bi=null,ns=!1,C=b.alternate,C!==null&&(C.return=null),b.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Sp(l,s),l=l.sibling}var is=null;function Sp(s,l){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ir(l,s),rs(s),p&4&&(da(3,s,s.return),yi(3,s),da(5,s,s.return));break;case 1:ir(l,s),rs(s),p&512&&(Xn||u===null||Lr(u,u.return)),p&64&&El&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var b=is;if(ir(l,s),rs(s),p&512&&(Xn||u===null||Lr(u,u.return)),p&4){var C=u!==null?u.memoizedState:null;if(p=s.memoizedState,u===null)if(p===null)if(s.stateNode===null){e:{p=s.type,u=s.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":C=b.getElementsByTagName("title")[0],(!C||C[xs]||C[mi]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=b.createElement(p),b.head.insertBefore(C,b.querySelector("head > title"))),Ki(C,p,u),C[mi]=s,$n(C),p=C;break e;case"link":var D=vv("link","href",b).get(p+(u.href||""));if(D){for(var U=0;U<D.length;U++)if(C=D[U],C.getAttribute("href")===(u.href==null?null:u.href)&&C.getAttribute("rel")===(u.rel==null?null:u.rel)&&C.getAttribute("title")===(u.title==null?null:u.title)&&C.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){D.splice(U,1);break t}}C=b.createElement(p),Ki(C,p,u),b.head.appendChild(C);break;case"meta":if(D=vv("meta","content",b).get(p+(u.content||""))){for(U=0;U<D.length;U++)if(C=D[U],C.getAttribute("content")===(u.content==null?null:""+u.content)&&C.getAttribute("name")===(u.name==null?null:u.name)&&C.getAttribute("property")===(u.property==null?null:u.property)&&C.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&C.getAttribute("charset")===(u.charSet==null?null:u.charSet)){D.splice(U,1);break t}}C=b.createElement(p),Ki(C,p,u),b.head.appendChild(C);break;default:throw Error(i(468,p))}C[mi]=s,$n(C),p=C}s.stateNode=p}else yv(b,s.type,s.stateNode);else s.stateNode=xf(b,p,s.memoizedProps);else C!==p?(C===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):C.count--,p===null?yv(b,s.type,s.stateNode):xf(b,p,s.memoizedProps)):p===null&&s.stateNode!==null&&Og(s,s.memoizedProps,u.memoizedProps)}break;case 27:if(p&4&&s.alternate===null){b=s.stateNode,C=s.memoizedProps;try{for(var ee=b.firstChild;ee;){var ce=ee.nextSibling,Ee=ee.nodeName;ee[xs]||Ee==="HEAD"||Ee==="BODY"||Ee==="SCRIPT"||Ee==="STYLE"||Ee==="LINK"&&ee.rel.toLowerCase()==="stylesheet"||b.removeChild(ee),ee=ce}for(var je=s.type,Se=b.attributes;Se.length;)b.removeAttributeNode(Se[0]);Ki(b,je,C),b[mi]=s,b[ui]=C}catch(bt){jn(s,s.return,bt)}}case 5:if(ir(l,s),rs(s),p&512&&(Xn||u===null||Lr(u,u.return)),s.flags&32){b=s.stateNode;try{Gi(b,"")}catch(bt){jn(s,s.return,bt)}}p&4&&s.stateNode!=null&&(b=s.memoizedProps,Og(s,b,u!==null?u.memoizedProps:b)),p&1024&&(gp=!0);break;case 6:if(ir(l,s),rs(s),p&4){if(s.stateNode===null)throw Error(i(162));p=s.memoizedProps,u=s.stateNode;try{u.nodeValue=p}catch(bt){jn(s,s.return,bt)}}break;case 3:if(eh=null,b=is,is=Zd(l.containerInfo),ir(l,s),is=b,rs(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{kf(l.containerInfo)}catch(bt){jn(s,s.return,bt)}gp&&(gp=!1,af(s));break;case 4:p=is,is=Zd(s.stateNode.containerInfo),ir(l,s),rs(s),is=p;break;case 12:ir(l,s),rs(s);break;case 13:ir(l,s),rs(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Op=fn()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Id(s,p)));break;case 22:if(p&512&&(Xn||u===null||Lr(u,u.return)),ee=s.memoizedState!==null,ce=u!==null&&u.memoizedState!==null,Ee=El,je=Xn,El=Ee||ee,Xn=je||ce,ir(l,s),Xn=je,El=Ee,rs(s),l=s.stateNode,l._current=s,l._visibility&=-3,l._visibility|=l._pendingVisibility&2,p&8192&&(l._visibility=ee?l._visibility&-2:l._visibility|1,ee&&(l=El||Xn,u===null||ce||l||br(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(u=null,l=s;;){if(l.tag===5||l.tag===26||l.tag===27){if(u===null){ce=u=l;try{if(b=ce.stateNode,ee)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{D=ce.stateNode,U=ce.memoizedProps.style;var Te=U!=null&&U.hasOwnProperty("display")?U.display:null;D.style.display=Te==null||typeof Te=="boolean"?"":(""+Te).trim()}}catch(bt){jn(ce,ce.return,bt)}}}else if(l.tag===6){if(u===null){ce=l;try{ce.stateNode.nodeValue=ee?"":ce.memoizedProps}catch(bt){jn(ce,ce.return,bt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=s.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,Id(s,u))));break;case 19:ir(l,s),rs(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Id(s,p)));break;case 21:break;default:ir(l,s),rs(s)}}function rs(s){var l=s.flags;if(l&2){try{if(s.tag!==27){e:{for(var u=s.return;u!==null;){if(Ag(u)){var p=u;break e}u=u.return}throw Error(i(160))}switch(p.tag){case 27:var b=p.stateNode,C=fo(s);tc(s,C,b);break;case 5:var D=p.stateNode;p.flags&32&&(Gi(D,""),p.flags&=-33);var U=fo(s);tc(s,U,D);break;case 3:case 4:var ee=p.stateNode.containerInfo,ce=fo(s);Xi(s,ce,ee);break;default:throw Error(i(161))}}}catch(Ee){jn(s,s.return,Ee)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function af(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;af(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Xo(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)zg(s,l.alternate,l),l=l.sibling}function br(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:da(4,l,l.return),br(l);break;case 1:Lr(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&mp(l,l.return,u),br(l);break;case 26:case 27:case 5:Lr(l,l.return),br(l);break;case 22:Lr(l,l.return),l.memoizedState===null&&br(l);break;default:br(l)}s=s.sibling}}function Pr(s,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,b=s,C=l,D=C.flags;switch(C.tag){case 0:case 11:case 15:Pr(b,C,u),yi(4,C);break;case 1:if(Pr(b,C,u),p=C,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ce){jn(p,p.return,ce)}if(p=C,b=p.updateQueue,b!==null){var U=p.stateNode;try{var ee=b.shared.hiddenCallbacks;if(ee!==null)for(b.shared.hiddenCallbacks=null,b=0;b<ee.length;b++)Pd(ee[b],U)}catch(ce){jn(p,p.return,ce)}}u&&D&64&&Rg(C),eu(C,C.return);break;case 26:case 27:case 5:Pr(b,C,u),u&&p===null&&D&4&&Mg(C),eu(C,C.return);break;case 12:Pr(b,C,u);break;case 13:Pr(b,C,u),u&&D&4&&Lg(b,C);break;case 22:C.memoizedState===null&&Pr(b,C,u),eu(C,C.return);break;default:Pr(b,C,u)}l=l.sibling}}function wp(s,l){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Uc(u))}function jd(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Uc(s))}function ha(s,l,u,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Pg(s,l,u,p),l=l.sibling}function Pg(s,l,u,p){var b=l.flags;switch(l.tag){case 0:case 11:case 15:ha(s,l,u,p),b&2048&&yi(9,l);break;case 3:ha(s,l,u,p),b&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Uc(s)));break;case 12:if(b&2048){ha(s,l,u,p),s=l.stateNode;try{var C=l.memoizedProps,D=C.id,U=C.onPostCommit;typeof U=="function"&&U(D,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ee){jn(l,l.return,ee)}}else ha(s,l,u,p);break;case 23:break;case 22:C=l.stateNode,l.memoizedState!==null?C._visibility&4?ha(s,l,u,p):uf(s,l):C._visibility&4?ha(s,l,u,p):(C._visibility|=4,nc(s,l,u,p,(l.subtreeFlags&10256)!==0)),b&2048&&wp(l.alternate,l);break;case 24:ha(s,l,u,p),b&2048&&jd(l.alternate,l);break;default:ha(s,l,u,p)}}function nc(s,l,u,p,b){for(b=b&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var C=s,D=l,U=u,ee=p,ce=D.flags;switch(D.tag){case 0:case 11:case 15:nc(C,D,U,ee,b),yi(8,D);break;case 23:break;case 22:var Ee=D.stateNode;D.memoizedState!==null?Ee._visibility&4?nc(C,D,U,ee,b):uf(C,D):(Ee._visibility|=4,nc(C,D,U,ee,b)),b&&ce&2048&&wp(D.alternate,D);break;case 24:nc(C,D,U,ee,b),b&&ce&2048&&jd(D.alternate,D);break;default:nc(C,D,U,ee,b)}l=l.sibling}}function uf(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=s,p=l,b=p.flags;switch(p.tag){case 22:uf(u,p),b&2048&&wp(p.alternate,p);break;case 24:uf(u,p),b&2048&&jd(p.alternate,p);break;default:uf(u,p)}l=l.sibling}}var cf=8192;function ic(s){if(s.subtreeFlags&cf)for(s=s.child;s!==null;)Ig(s),s=s.sibling}function Ig(s){switch(s.tag){case 26:ic(s),s.flags&cf&&s.memoizedState!==null&&O0(is,s.memoizedState,s.memoizedProps);break;case 5:ic(s);break;case 3:case 4:var l=is;is=Zd(s.stateNode.containerInfo),ic(s),is=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=cf,cf=16777216,ic(s),cf=l):ic(s));break;default:ic(s)}}function jg(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function ff(s){var l=s.deletions;if(s.flags&16){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];si=p,_p(p,s)}jg(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Bg(s),s=s.sibling}function Bg(s){switch(s.tag){case 0:case 11:case 15:ff(s),s.flags&2048&&da(9,s,s.return);break;case 3:ff(s);break;case 12:ff(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&4&&(s.return===null||s.return.tag!==13)?(l._visibility&=-5,Bd(s)):ff(s);break;default:ff(s)}}function Bd(s){var l=s.deletions;if(s.flags&16){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];si=p,_p(p,s)}jg(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:da(8,l,l.return),Bd(l);break;case 22:u=l.stateNode,u._visibility&4&&(u._visibility&=-5,Bd(l));break;default:Bd(l)}s=s.sibling}}function _p(s,l){for(;si!==null;){var u=si;switch(u.tag){case 0:case 11:case 15:da(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Uc(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,si=p;else e:for(u=s;si!==null;){p=si;var b=p.sibling,C=p.return;if(Ng(p),p===u){si=null;break e}if(b!==null){b.return=C,si=b;break e}si=C}}}function Hg(s,l,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(s,l,u,p){return new Hg(s,l,u,p)}function xp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function pa(s,l){var u=s.alternate;return u===null?(u=ss(s.tag,l,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=l,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&31457280,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,l=s.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function $g(s,l){s.flags&=31457282;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,l=u.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function df(s,l,u,p,b,C){var D=0;if(p=s,typeof s=="function")xp(s)&&(D=1);else if(typeof s=="string")D=R0(s,u,xn.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case d:return tu(u.children,b,C,l);case m:D=8,b|=24;break;case y:return s=ss(12,u,l,b|2),s.elementType=y,s.lanes=C,s;case k:return s=ss(13,u,l,b),s.elementType=k,s.lanes=C,s;case N:return s=ss(19,u,l,b),s.elementType=N,s.lanes=C,s;case Z:return Fg(u,b,C,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case x:case R:D=10;break e;case T:D=9;break e;case O:D=11;break e;case H:D=14;break e;case V:D=16,p=null;break e}D=29,u=Error(i(130,s===null?"null":typeof s,"")),p=null}return l=ss(D,u,l,b),l.elementType=s,l.type=p,l.lanes=C,l}function tu(s,l,u,p){return s=ss(7,s,p,l),s.lanes=u,s}function Fg(s,l,u,p){s=ss(22,s,p,l),s.elementType=Z,s.lanes=u;var b={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var C=b._current;if(C===null)throw Error(i(456));if(!(b._pendingVisibility&2)){var D=to(C,2);D!==null&&(b._pendingVisibility|=2,rr(D,C,2))}},attach:function(){var C=b._current;if(C===null)throw Error(i(456));if(b._pendingVisibility&2){var D=to(C,2);D!==null&&(b._pendingVisibility&=-3,rr(D,C,2))}}};return s.stateNode=b,s}function Cp(s,l,u){return s=ss(6,s,null,l),s.lanes=u,s}function Tp(s,l,u){return l=ss(4,s.children!==null?s.children:[],s.key,l),l.lanes=u,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function Rl(s){s.flags|=4}function Ug(s,l){if(l.type!=="stylesheet"||l.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!bv(l)){if(l=Ns.current,l!==null&&((dn&4194176)===dn?Fo!==null:(dn&62914560)!==dn&&!(dn&536870912)||l!==Fo))throw Hc=Ql,Bc;s.flags|=8192}}function Sr(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?bu():536870912,s.lanes|=l,sc|=l)}function hf(s,l){if(!Nt)switch(s.tailMode){case"hidden":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Zn(s){var l=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(l)for(var b=s.child;b!==null;)u|=b.lanes|b.childLanes,p|=b.subtreeFlags&31457280,p|=b.flags&31457280,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)u|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=p,s.childLanes=u,l}function s0(s,l,u){var p=l.pendingProps;switch(Lh(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(l),null;case 1:return Zn(l),null;case 3:return u=l.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Wo(Ti),ct(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(qa(l)?Rl(l):s===null||s.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,no!==null&&(oc(no),no=null))),Zn(l),null;case 26:return u=l.memoizedState,s===null?(Rl(l),u!==null?(Zn(l),Ug(l,u)):(Zn(l),l.flags&=-16777217)):u?u!==s.memoizedState?(Rl(l),Zn(l),Ug(l,u)):(Zn(l),l.flags&=-16777217):(s.memoizedProps!==p&&Rl(l),Zn(l),l.flags&=-16777217),null;case 27:sn(l),u=Ye.current;var b=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==p&&Rl(l);else{if(!p){if(l.stateNode===null)throw Error(i(166));return Zn(l),null}s=xn.current,qa(l)?pd(l):(s=tm(b,p,u),l.stateNode=s,Rl(l))}return Zn(l),null;case 5:if(sn(l),u=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==p&&Rl(l);else{if(!p){if(l.stateNode===null)throw Error(i(166));return Zn(l),null}if(s=xn.current,qa(l))pd(l);else{switch(b=Yd(Ye.current),s){case 1:s=b.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=b.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof p.is=="string"?b.createElement("select",{is:p.is}):b.createElement("select"),p.multiple?s.multiple=!0:p.size&&(s.size=p.size);break;default:s=typeof p.is=="string"?b.createElement(u,{is:p.is}):b.createElement(u)}}s[mi]=l,s[ui]=p;e:for(b=l.child;b!==null;){if(b.tag===5||b.tag===6)s.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break e;for(;b.sibling===null;){if(b.return===null||b.return===l)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}l.stateNode=s;e:switch(Ki(s,u,p),u){case"button":case"input":case"select":case"textarea":s=!!p.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Rl(l)}}return Zn(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==p&&Rl(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(i(166));if(s=Ye.current,qa(l)){if(s=l.stateNode,u=l.memoizedProps,p=null,b=vr,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}s[mi]=l,s=!!(s.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||Gt(s.nodeValue,u)),s||Va(l)}else s=Yd(s).createTextNode(p),s[mi]=l,l.stateNode=s}return Zn(l),null;case 13:if(p=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=qa(l),p!==null&&p.dehydrated!==null){if(s===null){if(!b)throw Error(i(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));b[mi]=l}else $o(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;Zn(l),b=!1}else no!==null&&(oc(no),no=null),b=!0;if(!b)return l.flags&256?(bl(l),l):(bl(l),null)}if(bl(l),l.flags&128)return l.lanes=u,l;if(u=p!==null,s=s!==null&&s.memoizedState!==null,u){p=l.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool);var C=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(C=p.memoizedState.cachePool.pool),C!==b&&(p.flags|=2048)}return u!==s&&u&&(l.child.flags|=8192),Sr(l,l.updateQueue),Zn(l),null;case 4:return ct(),s===null&&qp(l.stateNode.containerInfo),Zn(l),null;case 10:return Wo(l.type),Zn(l),null;case 19:if(Ke(Ci),b=l.memoizedState,b===null)return Zn(l),null;if(p=(l.flags&128)!==0,C=b.rendering,C===null)if(p)hf(b,!1);else{if(oi!==0||s!==null&&s.flags&128)for(s=l.child;s!==null;){if(C=vd(s),C!==null){for(l.flags|=128,hf(b,!1),s=C.updateQueue,l.updateQueue=s,Sr(l,s),l.subtreeFlags=0,s=u,u=l.child;u!==null;)$g(u,s),u=u.sibling;return Jt(Ci,Ci.current&1|2),l.child}s=s.sibling}b.tail!==null&&fn()>Hd&&(l.flags|=128,p=!0,hf(b,!1),l.lanes=4194304)}else{if(!p)if(s=vd(C),s!==null){if(l.flags|=128,p=!0,s=s.updateQueue,l.updateQueue=s,Sr(l,s),hf(b,!0),b.tail===null&&b.tailMode==="hidden"&&!C.alternate&&!Nt)return Zn(l),null}else 2*fn()-b.renderingStartTime>Hd&&u!==536870912&&(l.flags|=128,p=!0,hf(b,!1),l.lanes=4194304);b.isBackwards?(C.sibling=l.child,l.child=C):(s=b.last,s!==null?s.sibling=C:l.child=C,b.last=C)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=fn(),l.sibling=null,s=Ci.current,Jt(Ci,p?s&1|2:s&1),l):(Zn(l),null);case 22:case 23:return bl(l),Ih(),p=l.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?u&536870912&&!(l.flags&128)&&(Zn(l),l.subtreeFlags&6&&(l.flags|=8192)):Zn(l),u=l.updateQueue,u!==null&&Sr(l,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==u&&(l.flags|=2048),s!==null&&Ke(Ya),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Wo(Ti),Zn(l),null;case 25:return null}throw Error(i(156,l.tag))}function Gg(s,l){switch(Lh(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Wo(Ti),ct(),s=l.flags,s&65536&&!(s&128)?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return sn(l),null;case 13:if(bl(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(i(340));$o()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Ke(Ci),null;case 4:return ct(),null;case 10:return Wo(l.type),null;case 22:case 23:return bl(l),Ih(),s!==null&&Ke(Ya),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Wo(Ti),null;case 25:return null;default:return null}}function Wg(s,l){switch(Lh(l),l.tag){case 3:Wo(Ti),ct();break;case 26:case 27:case 5:sn(l);break;case 4:ct();break;case 13:bl(l);break;case 19:Ke(Ci);break;case 10:Wo(l.type);break;case 22:case 23:bl(l),Ih(),s!==null&&Ke(Ya);break;case 24:Wo(Ti)}}var o0={getCacheForType:function(s){var l=nr(Ti),u=l.data.get(s);return u===void 0&&(u=s(),l.data.set(s,u)),u}},l0=typeof WeakMap=="function"?WeakMap:Map,Qn=0,Nn=null,nn=null,dn=0,Fn=0,ls=null,Ml=!1,rc=!1,Ep=!1,Ol=0,oi=0,ma=0,nu=0,Rp=0,Ps=0,sc=0,pf=null,Ko=null,Mp=!1,Op=0,Hd=1/0,$d=null,Zo=null,mf=!1,iu=null,gf=0,Ap=0,kp=null,vf=0,Dp=null;function as(){if(Qn&2&&dn!==0)return dn&-dn;if(ge.T!==null){var s=Pu;return s!==0?s:Fp()}return ws()}function Vg(){Ps===0&&(Ps=!(dn&536870912)||Nt?Fs():536870912);var s=Ns.current;return s!==null&&(s.flags|=32),Ps}function rr(s,l,u){(s===Nn&&Fn===2||s.cancelPendingCommit!==null)&&(lc(s,0),Al(s,dn,Ps,!1)),Us(s,u),(!(Qn&2)||s!==Nn)&&(s===Nn&&(!(Qn&2)&&(nu|=u),oi===4&&Al(s,dn,Ps,!1)),ho(s))}function qg(s,l,u){if(Qn&6)throw Error(i(327));var p=!u&&(l&60)===0&&(l&s.expiredLanes)===0||$s(s,l),b=p?c0(s,l):Lp(s,l,!0),C=p;do{if(b===0){rc&&!p&&Al(s,l,0,!1);break}else if(b===6)Al(s,l,0,!Ml);else{if(u=s.current.alternate,C&&!a0(u)){b=Lp(s,l,!1),C=!1;continue}if(b===2){if(C=l,s.errorRecoveryDisabledLanes&C)var D=0;else D=s.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){l=D;e:{var U=s;b=pf;var ee=U.current.memoizedState.isDehydrated;if(ee&&(lc(U,D).flags|=256),D=Lp(U,D,!1),D!==2){if(Ep&&!ee){U.errorRecoveryDisabledLanes|=C,nu|=C,b=4;break e}C=Ko,Ko=b,C!==null&&oc(C)}b=D}if(C=!1,b!==2)continue}}if(b===1){lc(s,0),Al(s,l,0,!0);break}e:{switch(p=s,b){case 0:case 1:throw Error(i(345));case 4:if((l&4194176)===l){Al(p,l,Ps,!Ml);break e}break;case 2:Ko=null;break;case 3:case 5:break;default:throw Error(i(329))}if(p.finishedWork=u,p.finishedLanes=l,(l&62914560)===l&&(C=Op+300-fn(),10<C)){if(Al(p,l,Ps,!Ml),Or(p,0)!==0)break e;p.timeoutHandle=Qp(Yg.bind(null,p,u,Ko,$d,Mp,l,Ps,nu,sc,Ml,2,-0,0),C);break e}Yg(p,u,Ko,$d,Mp,l,Ps,nu,sc,Ml,0,-0,0)}}break}while(!0);ho(s)}function oc(s){Ko===null?Ko=s:Ko.push.apply(Ko,s)}function Yg(s,l,u,p,b,C,D,U,ee,ce,Ee,je,Se){var Te=l.subtreeFlags;if((Te&8192||(Te&16785408)===16785408)&&(Cf={stylesheets:null,count:0,unsuspend:M0},Ig(l),l=A0(),l!==null)){s.cancelPendingCommit=l(tv.bind(null,s,u,p,b,D,U,ee,1,je,Se)),Al(s,C,D,!ce);return}tv(s,u,p,b,D,U,ee,Ee,je,Se)}function a0(s){for(var l=s;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var b=u[p],C=b.getSnapshot;b=b.value;try{if(!X(C(),b))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Al(s,l,u,p){l&=~Rp,l&=~nu,s.suspendedLanes|=l,s.pingedLanes&=~l,p&&(s.warmLanes|=l),p=s.expirationTimes;for(var b=l;0<b;){var C=31-pi(b),D=1<<C;p[C]=-1,b&=~D}u!==0&&rl(s,u,l)}function Fd(){return Qn&6?!0:(ou(0),!1)}function zp(){if(nn!==null){if(Fn===0)var s=nn.return;else s=nn,lo=ua=null,Hu(s),gl=null,vl=0,s=nn;for(;s!==null;)Wg(s.alternate,s),s=s.return;nn=null}}function lc(s,l){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,Xd(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),zp(),Nn=s,nn=u=pa(s.current,null),dn=l,Fn=0,ls=null,Ml=!1,rc=$s(s,l),Ep=!1,sc=Ps=Rp=nu=ma=oi=0,Ko=pf=null,Mp=!1,l&8&&(l|=l&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=l;0<p;){var b=31-pi(p),C=1<<b;l|=s[b],p&=~C}return Ol=l,fd(),u}function Xg(s,l){Zt=null,ge.H=ri,l===ml?(l=og(),Fn=3):l===Bc?(l=og(),Fn=4):Fn=l===op?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ls=l,nn===null&&(oi=1,Qc(s,gr(l,s.current)))}function Kg(){var s=ge.H;return ge.H=ri,s===null?ri:s}function Zg(){var s=ge.A;return ge.A=o0,s}function Np(){oi=4,Ml||(dn&4194176)!==dn&&Ns.current!==null||(rc=!0),!(ma&134217727)&&!(nu&134217727)||Nn===null||Al(Nn,dn,Ps,!1)}function Lp(s,l,u){var p=Qn;Qn|=2;var b=Kg(),C=Zg();(Nn!==s||dn!==l)&&($d=null,lc(s,l)),l=!1;var D=oi;e:do try{if(Fn!==0&&nn!==null){var U=nn,ee=ls;switch(Fn){case 8:zp(),D=6;break e;case 3:case 2:case 6:Ns.current===null&&(l=!0);var ce=Fn;if(Fn=0,ls=null,ru(s,U,ee,ce),u&&rc){D=0;break e}break;default:ce=Fn,Fn=0,ls=null,ru(s,U,ee,ce)}}u0(),D=oi;break}catch(Ee){Xg(s,Ee)}while(!0);return l&&s.shellSuspendCounter++,lo=ua=null,Qn=p,ge.H=b,ge.A=C,nn===null&&(Nn=null,dn=0,fd()),D}function u0(){for(;nn!==null;)Qg(nn)}function c0(s,l){var u=Qn;Qn|=2;var p=Kg(),b=Zg();Nn!==s||dn!==l?($d=null,Hd=fn()+500,lc(s,l)):rc=$s(s,l);e:do try{if(Fn!==0&&nn!==null){l=nn;var C=ls;t:switch(Fn){case 1:Fn=0,ls=null,ru(s,l,C,1);break;case 2:if(rg(C)){Fn=0,ls=null,Jg(l);break}l=function(){Fn===2&&Nn===s&&(Fn=7),ho(s)},C.then(l,l);break e;case 3:Fn=7;break e;case 4:Fn=5;break e;case 7:rg(C)?(Fn=0,ls=null,Jg(l)):(Fn=0,ls=null,ru(s,l,C,7));break;case 5:var D=null;switch(nn.tag){case 26:D=nn.memoizedState;case 5:case 27:var U=nn;if(!D||bv(D)){Fn=0,ls=null;var ee=U.sibling;if(ee!==null)nn=ee;else{var ce=U.return;ce!==null?(nn=ce,yf(ce)):nn=null}break t}}Fn=0,ls=null,ru(s,l,C,5);break;case 6:Fn=0,ls=null,ru(s,l,C,6);break;case 8:zp(),oi=6;break e;default:throw Error(i(462))}}f0();break}catch(Ee){Xg(s,Ee)}while(!0);return lo=ua=null,ge.H=p,ge.A=b,Qn=u,nn!==null?0:(Nn=null,dn=0,fd(),oi)}function f0(){for(;nn!==null&&!ti();)Qg(nn)}function Qg(s){var l=hp(s.alternate,s,Ol);s.memoizedProps=s.pendingProps,l===null?yf(s):nn=l}function Jg(s){var l=s,u=l.alternate;switch(l.tag){case 15:case 0:l=Ja(u,l,l.pendingProps,l.type,void 0,dn);break;case 11:l=Ja(u,l,l.pendingProps,l.type.render,l.ref,dn);break;case 5:Hu(l);default:Wg(u,l),l=nn=$g(l,Ol),l=hp(u,l,Ol)}s.memoizedProps=s.pendingProps,l===null?yf(s):nn=l}function ru(s,l,u,p){lo=ua=null,Hu(l),gl=null,vl=0;var b=l.return;try{if(i0(s,b,l,u,dn)){oi=1,Qc(s,gr(u,s.current)),nn=null;return}}catch(C){if(b!==null)throw nn=b,C;oi=1,Qc(s,gr(u,s.current)),nn=null;return}l.flags&32768?(Nt||p===1?s=!0:rc||dn&536870912?s=!1:(Ml=s=!0,(p===2||p===3||p===6)&&(p=Ns.current,p!==null&&p.tag===13&&(p.flags|=16384))),ev(l,s)):yf(l)}function yf(s){var l=s;do{if(l.flags&32768){ev(l,Ml);return}s=l.return;var u=s0(l.alternate,l,Ol);if(u!==null){nn=u;return}if(l=l.sibling,l!==null){nn=l;return}nn=l=s}while(l!==null);oi===0&&(oi=5)}function ev(s,l){do{var u=Gg(s.alternate,s);if(u!==null){u.flags&=32767,nn=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(s=s.sibling,s!==null)){nn=s;return}nn=s=u}while(s!==null);oi=6,nn=null}function tv(s,l,u,p,b,C,D,U,ee,ce){var Ee=ge.T,je=Fe.p;try{Fe.p=2,ge.T=null,d0(s,l,u,p,je,b,C,D,U,ee,ce)}finally{ge.T=Ee,Fe.p=je}}function d0(s,l,u,p,b,C,D,U){do kl();while(iu!==null);if(Qn&6)throw Error(i(327));var ee=s.finishedWork;if(p=s.finishedLanes,ee===null)return null;if(s.finishedWork=null,s.finishedLanes=0,ee===s.current)throw Error(i(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var ce=ee.lanes|ee.childLanes;if(ce|=Dh,xo(s,p,ce,C,D,U),s===Nn&&(nn=Nn=null,dn=0),!(ee.subtreeFlags&10256)&&!(ee.flags&10256)||mf||(mf=!0,Ap=ce,kp=u,g0(Wt,function(){return kl(),null})),u=(ee.flags&15990)!==0,ee.subtreeFlags&15990||u?(u=ge.T,ge.T=null,C=Fe.p,Fe.p=2,D=Qn,Qn|=4,Dg(s,ee),Sp(ee,s),We(Kp,s.containerInfo),Ef=!!Xp,Kp=Xp=null,s.current=ee,zg(s,ee.alternate,ee),Pn(),Qn=D,Fe.p=C,ge.T=u):s.current=ee,mf?(mf=!1,iu=s,gf=p):nv(s,ce),ce=s.pendingLanes,ce===0&&(Zo=null),Si(ee.stateNode),ho(s),l!==null)for(b=s.onRecoverableError,ee=0;ee<l.length;ee++)ce=l[ee],b(ce.value,{componentStack:ce.stack});return gf&3&&kl(),ce=s.pendingLanes,p&4194218&&ce&42?s===Dp?vf++:(vf=0,Dp=s):vf=0,ou(0),null}function nv(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Uc(l)))}function kl(){if(iu!==null){var s=iu,l=Ap;Ap=0;var u=Ar(gf),p=ge.T,b=Fe.p;try{if(Fe.p=32>u?32:u,ge.T=null,iu===null)var C=!1;else{u=kp,kp=null;var D=iu,U=gf;if(iu=null,gf=0,Qn&6)throw Error(i(331));var ee=Qn;if(Qn|=4,Bg(D.current),Pg(D,D.current,U,u),Qn=ee,ou(0,!1),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(ai,D)}catch{}C=!0}return C}finally{Fe.p=b,ge.T=p,nv(s,l)}}return!1}function iv(s,l,u){l=gr(u,l),l=Jc(s.stateNode,l,2),s=ts(s,l,2),s!==null&&(Us(s,2),ho(s))}function jn(s,l,u){if(s.tag===3)iv(s,s,u);else for(;l!==null;){if(l.tag===3){iv(l,s,u);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Zo===null||!Zo.has(p))){s=gr(u,s),u=Cg(2),p=ts(l,u,2),p!==null&&(Tg(u,p,l,s),Us(p,2),ho(p));break}}l=l.return}}function Pp(s,l,u){var p=s.pingCache;if(p===null){p=s.pingCache=new l0;var b=new Set;p.set(l,b)}else b=p.get(l),b===void 0&&(b=new Set,p.set(l,b));b.has(u)||(Ep=!0,b.add(u),s=h0.bind(null,s,l,u),l.then(s,s))}function h0(s,l,u){var p=s.pingCache;p!==null&&p.delete(l),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Nn===s&&(dn&u)===u&&(oi===4||oi===3&&(dn&62914560)===dn&&300>fn()-Op?!(Qn&2)&&lc(s,0):Rp|=u,sc===dn&&(sc=0)),ho(s)}function rv(s,l){l===0&&(l=bu()),s=to(s,l),s!==null&&(Us(s,l),ho(s))}function p0(s){var l=s.memoizedState,u=0;l!==null&&(u=l.retryLane),rv(s,u)}function m0(s,l){var u=0;switch(s.tag){case 13:var p=s.stateNode,b=s.memoizedState;b!==null&&(u=b.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(l),rv(s,u)}function g0(s,l){return cn(s,l)}var Ud=null,ac=null,Ip=!1,su=!1,jp=!1,ga=0;function ho(s){s!==ac&&s.next===null&&(ac===null?Ud=ac=s:ac=ac.next=s),su=!0,Ip||(Ip=!0,v0(sv))}function ou(s,l){if(!jp&&su){jp=!0;do for(var u=!1,p=Ud;p!==null;){if(s!==0){var b=p.pendingLanes;if(b===0)var C=0;else{var D=p.suspendedLanes,U=p.pingedLanes;C=(1<<31-pi(42|s)+1)-1,C&=b&~(D&~U),C=C&201326677?C&201326677|1:C?C|2:0}C!==0&&(u=!0,$p(p,C))}else C=dn,C=Or(p,p===Nn?C:0),!(C&3)||$s(p,C)||(u=!0,$p(p,C));p=p.next}while(u);jp=!1}}function sv(){su=Ip=!1;var s=0;ga!==0&&(Dl()&&(s=ga),ga=0);for(var l=fn(),u=null,p=Ud;p!==null;){var b=p.next,C=Bp(p,l);C===0?(p.next=null,u===null?Ud=b:u.next=b,b===null&&(ac=u)):(u=p,(s!==0||C&3)&&(su=!0)),p=b}ou(s)}function Bp(s,l){for(var u=s.suspendedLanes,p=s.pingedLanes,b=s.expirationTimes,C=s.pendingLanes&-62914561;0<C;){var D=31-pi(C),U=1<<D,ee=b[D];ee===-1?(!(U&u)||U&p)&&(b[D]=yu(U,l)):ee<=l&&(s.expiredLanes|=U),C&=~U}if(l=Nn,u=dn,u=Or(s,s===l?u:0),p=s.callbackNode,u===0||s===l&&Fn===2||s.cancelPendingCommit!==null)return p!==null&&p!==null&&mt(p),s.callbackNode=null,s.callbackPriority=0;if(!(u&3)||$s(s,u)){if(l=u&-u,l===s.callbackPriority)return l;switch(p!==null&&mt(p),Ar(u)){case 2:case 8:u=kt;break;case 32:u=Wt;break;case 268435456:u=Bn;break;default:u=Wt}return p=Hp.bind(null,s),u=cn(u,p),s.callbackPriority=l,s.callbackNode=u,l}return p!==null&&p!==null&&mt(p),s.callbackPriority=2,s.callbackNode=null,2}function Hp(s,l){var u=s.callbackNode;if(kl()&&s.callbackNode!==u)return null;var p=dn;return p=Or(s,s===Nn?p:0),p===0?null:(qg(s,p,l),Bp(s,fn()),s.callbackNode!=null&&s.callbackNode===u?Hp.bind(null,s):null)}function $p(s,l){if(kl())return null;qg(s,l,!0)}function v0(s){li(function(){Qn&6?cn(Ut,s):s()})}function Fp(){return ga===0&&(ga=Fs()),ga}function ov(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Zs(""+s)}function bf(s,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,s.id&&u.setAttribute("form",s.id),l.parentNode.insertBefore(u,l),s=new FormData(s),u.parentNode.removeChild(u),s}function Gd(s,l,u,p,b){if(l==="submit"&&u&&u.stateNode===b){var C=ov((b[ui]||null).action),D=p.submitter;D&&(l=(l=D[ui]||null)?ov(l.formAction):D.getAttribute("formAction"),l!==null&&(C=l,D=null));var U=new zo("action","action",null,p,b);s.push({event:U,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ga!==0){var ee=D?bf(b,D):new FormData(b);Kc(u,{pending:!0,data:ee,method:b.method,action:C},null,ee)}}else typeof C=="function"&&(U.preventDefault(),ee=D?bf(b,D):new FormData(b),Kc(u,{pending:!0,data:ee,method:b.method,action:C},C,ee))},currentTarget:b}]})}}for(var Up=0;Up<ng.length;Up++){var Gp=ng[Up],Wp=Gp.toLowerCase(),lv=Gp[0].toUpperCase()+Gp.slice(1);Os(Wp,"on"+lv)}Os(Ms,"onAnimationEnd"),Os(Bi,"onAnimationIteration"),Os(eo,"onAnimationStart"),Os("dblclick","onDoubleClick"),Os("focusin","onFocus"),Os("focusout","onBlur"),Os(Xy,"onTransitionRun"),Os(Du,"onTransitionStart"),Os(cd,"onTransitionCancel"),Os(jc,"onTransitionEnd"),dr("onMouseEnter",["mouseout","mouseover"]),dr("onMouseLeave",["mouseout","mouseover"]),dr("onPointerEnter",["pointerout","pointerover"]),dr("onPointerLeave",["pointerout","pointerover"]),Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sf));function av(s,l){l=(l&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],b=p.event;p=p.listeners;e:{var C=void 0;if(l)for(var D=p.length-1;0<=D;D--){var U=p[D],ee=U.instance,ce=U.currentTarget;if(U=U.listener,ee!==C&&b.isPropagationStopped())break e;C=U,b.currentTarget=ce;try{C(b)}catch(Ee){Yu(Ee)}b.currentTarget=null,C=ee}else for(D=0;D<p.length;D++){if(U=p[D],ee=U.instance,ce=U.currentTarget,U=U.listener,ee!==C&&b.isPropagationStopped())break e;C=U,b.currentTarget=ce;try{C(b)}catch(Ee){Yu(Ee)}b.currentTarget=null,C=ee}}}}function an(s,l){var u=l[Rt];u===void 0&&(u=l[Rt]=new Set);var p=s+"__bubble";u.has(p)||(uv(l,s,2,!1),u.add(p))}function Vp(s,l,u){var p=0;l&&(p|=4),uv(u,s,p,l)}var Wd="_reactListening"+Math.random().toString(36).slice(2);function qp(s){if(!s[Wd]){s[Wd]=!0,wu.forEach(function(u){u!=="selectionchange"&&(y0.has(u)||Vp(u,!1,s),Vp(u,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Wd]||(l[Wd]=!0,Vp("selectionchange",!1,l))}}function uv(s,l,u,p){switch(xv(l)){case 2:var b=D0;break;case 8:b=z0;break;default:b=am}u=b.bind(null,l,u,s),b=void 0,!ko||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),p?b!==void 0?s.addEventListener(l,u,{capture:!0,passive:b}):s.addEventListener(l,u,!0):b!==void 0?s.addEventListener(l,u,{passive:b}):s.addEventListener(l,u,!1)}function Yp(s,l,u,p,b){var C=p;if(!(l&1)&&!(l&2)&&p!==null)e:for(;;){if(p===null)return;var D=p.tag;if(D===3||D===4){var U=p.stateNode.containerInfo;if(U===b||U.nodeType===8&&U.parentNode===b)break;if(D===4)for(D=p.return;D!==null;){var ee=D.tag;if((ee===3||ee===4)&&(ee=D.stateNode.containerInfo,ee===b||ee.nodeType===8&&ee.parentNode===b))return;D=D.return}for(;U!==null;){if(D=Vr(U),D===null)return;if(ee=D.tag,ee===5||ee===6||ee===26||ee===27){p=C=D;continue e}U=U.parentNode}}p=p.return}Cu(function(){var ce=C,Ee=Qs(u),je=[];e:{var Se=Tn.get(s);if(Se!==void 0){var Te=zo,bt=s;switch(s){case"keypress":if(on(u)===0)break e;case"keydown":case"keyup":Te=P;break;case"focusin":bt="focus",Te=fl;break;case"focusout":bt="blur",Te=fl;break;case"beforeblur":case"afterblur":Te=fl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Yl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Me;break;case Ms:case Bi:case eo:Te=Ru;break;case jc:Te=Re;break;case"scroll":case"scrollend":Te=Tu;break;case"wheel":Te=st;break;case"copy":case"cut":case"paste":Te=Ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=oe;break;case"toggle":case"beforetoggle":Te=jt}var $t=(l&4)!==0,ei=!$t&&(s==="scroll"||s==="scrollend"),pe=$t?Se!==null?Se+"Capture":null:Se;$t=[];for(var ae=ce,ye;ae!==null;){var Ne=ae;if(ye=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||ye===null||pe===null||(Ne=Ao(ae,pe),Ne!=null&&$t.push(wf(ae,Ne,ye))),ei)break;ae=ae.return}0<$t.length&&(Se=new Te(Se,bt,null,u,Ee),je.push({event:Se,listeners:$t}))}}if(!(l&7)){e:{if(Se=s==="mouseover"||s==="pointerover",Te=s==="mouseout"||s==="pointerout",Se&&u!==Ia&&(bt=u.relatedTarget||u.fromElement)&&(Vr(bt)||bt[Fi]))break e;if((Te||Se)&&(Se=Ee.window===Ee?Ee:(Se=Ee.ownerDocument)?Se.defaultView||Se.parentWindow:window,Te?(bt=u.relatedTarget||u.toElement,Te=ce,bt=bt?Vr(bt):null,bt!==null&&(ei=Ze(bt),$t=bt.tag,bt!==ei||$t!==5&&$t!==27&&$t!==6)&&(bt=null)):(Te=null,bt=ce),Te!==bt)){if($t=pr,Ne="onMouseLeave",pe="onMouseEnter",ae="mouse",(s==="pointerout"||s==="pointerover")&&($t=oe,Ne="onPointerLeave",pe="onPointerEnter",ae="pointer"),ei=Te==null?Se:Yr(Te),ye=bt==null?Se:Yr(bt),Se=new $t(Ne,ae+"leave",Te,u,Ee),Se.target=ei,Se.relatedTarget=ye,Ne=null,Vr(Ee)===ce&&($t=new $t(pe,ae+"enter",bt,u,Ee),$t.target=ye,$t.relatedTarget=ei,Ne=$t),ei=Ne,Te&&bt)t:{for($t=Te,pe=bt,ae=0,ye=$t;ye;ye=uc(ye))ae++;for(ye=0,Ne=pe;Ne;Ne=uc(Ne))ye++;for(;0<ae-ye;)$t=uc($t),ae--;for(;0<ye-ae;)pe=uc(pe),ye--;for(;ae--;){if($t===pe||pe!==null&&$t===pe.alternate)break t;$t=uc($t),pe=uc(pe)}$t=null}else $t=null;Te!==null&&Is(je,Se,Te,$t,!1),bt!==null&&ei!==null&&Is(je,ei,bt,$t,!0)}}e:{if(Se=ce?Yr(ce):window,Te=Se.nodeName&&Se.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Se.type==="file")var ht=ad;else if(dl(Se))if(ud)ht=j;else{ht=A;var en=E}else Te=Se.nodeName,!Te||Te.toLowerCase()!=="input"||Se.type!=="checkbox"&&Se.type!=="radio"?ce&&ul(ce.elementType)&&(ht=ad):ht=z;if(ht&&(ht=ht(s,ce))){Xl(je,ht,u,Ee);break e}en&&en(s,Se,ce),s==="focusout"&&ce&&Se.type==="number"&&ce.memoizedProps.value!=null&&Ys(Se,"number",Se.value)}switch(en=ce?Yr(ce):window,s){case"focusin":(dl(en)||en.contentEditable==="true")&&(Qe=en,te=ce,ve=null);break;case"focusout":ve=te=Qe=null;break;case"mousedown":de=!0;break;case"contextmenu":case"mouseup":case"dragend":de=!1,Ae(je,u,Ee);break;case"selectionchange":if(ut)break;case"keydown":case"keyup":Ae(je,u,Ee)}var xt;if(In)e:{switch(s){case"compositionstart":var Ot="onCompositionStart";break e;case"compositionend":Ot="onCompositionEnd";break e;case"compositionupdate":Ot="onCompositionUpdate";break e}Ot=void 0}else bn?yt(s,u)&&(Ot="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ot="onCompositionStart");Ot&&(Vi&&u.locale!=="ko"&&(bn||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&bn&&(xt=Do()):(Kr=Ee,Wl="value"in Kr?Kr.value:Kr.textContent,bn=!0)),en=Vd(ce,Ot),0<en.length&&(Ot=new Cn(Ot,s,null,u,Ee),je.push({event:Ot,listeners:en}),xt?Ot.data=xt:(xt=ii(u),xt!==null&&(Ot.data=xt)))),(xt=er?ji(s,u):Lo(s,u))&&(Ot=Vd(ce,"onBeforeInput"),0<Ot.length&&(en=new Cn("onBeforeInput","beforeinput",null,u,Ee),je.push({event:en,listeners:Ot}),en.data=xt)),Gd(je,s,ce,u,Ee)}av(je,l)})}function wf(s,l,u){return{instance:s,listener:l,currentTarget:u}}function Vd(s,l){for(var u=l+"Capture",p=[];s!==null;){var b=s,C=b.stateNode;b=b.tag,b!==5&&b!==26&&b!==27||C===null||(b=Ao(s,u),b!=null&&p.unshift(wf(s,b,C)),b=Ao(s,l),b!=null&&p.push(wf(s,b,C))),s=s.return}return p}function uc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Is(s,l,u,p,b){for(var C=l._reactName,D=[];u!==null&&u!==p;){var U=u,ee=U.alternate,ce=U.stateNode;if(U=U.tag,ee!==null&&ee===p)break;U!==5&&U!==26&&U!==27||ce===null||(ee=ce,b?(ce=Ao(u,C),ce!=null&&D.unshift(wf(u,ce,ee))):b||(ce=Ao(u,C),ce!=null&&D.push(wf(u,ce,ee)))),u=u.return}D.length!==0&&s.push({event:l,listeners:D})}var b0=/\r\n?/g,S0=/\u0000|\uFFFD/g;function va(s){return(typeof s=="string"?s:""+s).replace(b0,`
`).replace(S0,"")}function Gt(s,l){return l=va(l),va(s)===l}function qd(){}function Yt(s,l,u,p,b,C){switch(u){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||Gi(s,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&Gi(s,""+p);break;case"className":Vs(s,"class",p);break;case"tabIndex":Vs(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Vs(s,u,p);break;case"style":Pa(s,p,C);break;case"data":if(l!=="object"){Vs(s,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||u!=="href")){s.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(u);break}p=Zs(""+p),s.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(u==="formAction"?(l!=="input"&&Yt(s,l,"name",b.name,b,null),Yt(s,l,"formEncType",b.formEncType,b,null),Yt(s,l,"formMethod",b.formMethod,b,null),Yt(s,l,"formTarget",b.formTarget,b,null)):(Yt(s,l,"encType",b.encType,b,null),Yt(s,l,"method",b.method,b,null),Yt(s,l,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(u);break}p=Zs(""+p),s.setAttribute(u,p);break;case"onClick":p!=null&&(s.onclick=qd);break;case"onScroll":p!=null&&an("scroll",s);break;case"onScrollEnd":p!=null&&an("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(u=p.__html,u!=null){if(b.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}u=Zs(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,""+p):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":p===!0?s.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,p):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(u,p):s.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(u):s.setAttribute(u,p);break;case"popover":an("beforetoggle",s),an("toggle",s),ol(s,"popover",p);break;case"xlinkActuate":kr(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":kr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":kr(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":kr(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":kr(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":kr(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":kr(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":kr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":kr(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":ol(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Ro.get(u)||u,ol(s,u,p))}}function Jn(s,l,u,p,b,C){switch(u){case"style":Pa(s,p,C);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(u=p.__html,u!=null){if(b.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"children":typeof p=="string"?Gi(s,p):(typeof p=="number"||typeof p=="bigint")&&Gi(s,""+p);break;case"onScroll":p!=null&&an("scroll",s);break;case"onScrollEnd":p!=null&&an("scrollend",s);break;case"onClick":p!=null&&(s.onclick=qd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cs.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),l=u.slice(2,b?u.length-7:void 0),C=s[ui]||null,C=C!=null?C[u]:null,typeof C=="function"&&s.removeEventListener(l,C,b),typeof p=="function")){typeof C!="function"&&C!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(l,p,b);break e}u in s?s[u]=p:p===!0?s.setAttribute(u,""):ol(s,u,p)}}}function Ki(s,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":an("error",s),an("load",s);var p=!1,b=!1,C;for(C in u)if(u.hasOwnProperty(C)){var D=u[C];if(D!=null)switch(C){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Yt(s,l,C,D,u,null)}}b&&Yt(s,l,"srcSet",u.srcSet,u,null),p&&Yt(s,l,"src",u.src,u,null);return;case"input":an("invalid",s);var U=C=D=b=null,ee=null,ce=null;for(p in u)if(u.hasOwnProperty(p)){var Ee=u[p];if(Ee!=null)switch(p){case"name":b=Ee;break;case"type":D=Ee;break;case"checked":ee=Ee;break;case"defaultChecked":ce=Ee;break;case"value":C=Ee;break;case"defaultValue":U=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(i(137,l));break;default:Yt(s,l,p,Ee,u,null)}}Ui(s,C,U,ee,ce,D,b,!1),ll(s);return;case"select":an("invalid",s),p=D=C=null;for(b in u)if(u.hasOwnProperty(b)&&(U=u[b],U!=null))switch(b){case"value":C=U;break;case"defaultValue":D=U;break;case"multiple":p=U;default:Yt(s,l,b,U,u,null)}l=C,u=D,s.multiple=!!p,l!=null?Xs(s,!!p,l,!1):u!=null&&Xs(s,!!p,u,!0);return;case"textarea":an("invalid",s),C=b=p=null;for(D in u)if(u.hasOwnProperty(D)&&(U=u[D],U!=null))switch(D){case"value":p=U;break;case"defaultValue":b=U;break;case"children":C=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(91));break;default:Yt(s,l,D,U,u,null)}al(s,p,b,C),ll(s);return;case"option":for(ee in u)if(u.hasOwnProperty(ee)&&(p=u[ee],p!=null))switch(ee){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Yt(s,l,ee,p,u,null)}return;case"dialog":an("cancel",s),an("close",s);break;case"iframe":case"object":an("load",s);break;case"video":case"audio":for(p=0;p<Sf.length;p++)an(Sf[p],s);break;case"image":an("error",s),an("load",s);break;case"details":an("toggle",s);break;case"embed":case"source":case"link":an("error",s),an("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in u)if(u.hasOwnProperty(ce)&&(p=u[ce],p!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Yt(s,l,ce,p,u,null)}return;default:if(ul(l)){for(Ee in u)u.hasOwnProperty(Ee)&&(p=u[Ee],p!==void 0&&Jn(s,l,Ee,p,u,void 0));return}}for(U in u)u.hasOwnProperty(U)&&(p=u[U],p!=null&&Yt(s,l,U,p,u,null))}function ya(s,l,u,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,C=null,D=null,U=null,ee=null,ce=null,Ee=null;for(Te in u){var je=u[Te];if(u.hasOwnProperty(Te)&&je!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":ee=je;default:p.hasOwnProperty(Te)||Yt(s,l,Te,null,p,je)}}for(var Se in p){var Te=p[Se];if(je=u[Se],p.hasOwnProperty(Se)&&(Te!=null||je!=null))switch(Se){case"type":C=Te;break;case"name":b=Te;break;case"checked":ce=Te;break;case"defaultChecked":Ee=Te;break;case"value":D=Te;break;case"defaultValue":U=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(137,l));break;default:Te!==je&&Yt(s,l,Se,Te,p,je)}}qs(s,D,U,ee,ce,Ee,C,b);return;case"select":Te=D=U=Se=null;for(C in u)if(ee=u[C],u.hasOwnProperty(C)&&ee!=null)switch(C){case"value":break;case"multiple":Te=ee;default:p.hasOwnProperty(C)||Yt(s,l,C,null,p,ee)}for(b in p)if(C=p[b],ee=u[b],p.hasOwnProperty(b)&&(C!=null||ee!=null))switch(b){case"value":Se=C;break;case"defaultValue":U=C;break;case"multiple":D=C;default:C!==ee&&Yt(s,l,b,C,p,ee)}l=U,u=D,p=Te,Se!=null?Xs(s,!!u,Se,!1):!!p!=!!u&&(l!=null?Xs(s,!!u,l,!0):Xs(s,!!u,u?[]:"",!1));return;case"textarea":Te=Se=null;for(U in u)if(b=u[U],u.hasOwnProperty(U)&&b!=null&&!p.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:Yt(s,l,U,null,p,b)}for(D in p)if(b=p[D],C=u[D],p.hasOwnProperty(D)&&(b!=null||C!=null))switch(D){case"value":Se=b;break;case"defaultValue":Te=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:b!==C&&Yt(s,l,D,b,p,C)}Ks(s,Se,Te);return;case"option":for(var bt in u)if(Se=u[bt],u.hasOwnProperty(bt)&&Se!=null&&!p.hasOwnProperty(bt))switch(bt){case"selected":s.selected=!1;break;default:Yt(s,l,bt,null,p,Se)}for(ee in p)if(Se=p[ee],Te=u[ee],p.hasOwnProperty(ee)&&Se!==Te&&(Se!=null||Te!=null))switch(ee){case"selected":s.selected=Se&&typeof Se!="function"&&typeof Se!="symbol";break;default:Yt(s,l,ee,Se,p,Te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $t in u)Se=u[$t],u.hasOwnProperty($t)&&Se!=null&&!p.hasOwnProperty($t)&&Yt(s,l,$t,null,p,Se);for(ce in p)if(Se=p[ce],Te=u[ce],p.hasOwnProperty(ce)&&Se!==Te&&(Se!=null||Te!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(i(137,l));break;default:Yt(s,l,ce,Se,p,Te)}return;default:if(ul(l)){for(var ei in u)Se=u[ei],u.hasOwnProperty(ei)&&Se!==void 0&&!p.hasOwnProperty(ei)&&Jn(s,l,ei,void 0,p,Se);for(Ee in p)Se=p[Ee],Te=u[Ee],!p.hasOwnProperty(Ee)||Se===Te||Se===void 0&&Te===void 0||Jn(s,l,Ee,Se,p,Te);return}}for(var pe in u)Se=u[pe],u.hasOwnProperty(pe)&&Se!=null&&!p.hasOwnProperty(pe)&&Yt(s,l,pe,null,p,Se);for(je in p)Se=p[je],Te=u[je],!p.hasOwnProperty(je)||Se===Te||Se==null&&Te==null||Yt(s,l,je,Se,p,Te)}var Xp=null,Kp=null;function Yd(s){return s.nodeType===9?s:s.ownerDocument}function cv(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fv(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function _f(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Zp=null;function Dl(){var s=window.event;return s&&s.type==="popstate"?s===Zp?!1:(Zp=s,!0):(Zp=null,!1)}var Qp=typeof setTimeout=="function"?setTimeout:void 0,Xd=typeof clearTimeout=="function"?clearTimeout:void 0,Kn=typeof Promise=="function"?Promise:void 0,li=typeof queueMicrotask=="function"?queueMicrotask:typeof Kn<"u"?function(s){return Kn.resolve(null).then(s).catch(dv)}:Qp;function dv(s){setTimeout(function(){throw s})}function Jp(s,l){var u=l,p=0;do{var b=u.nextSibling;if(s.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(p===0){s.removeChild(b),kf(l);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=b}while(u);kf(l)}function em(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":em(u),Gs(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function w0(s,l,u,p){for(;s.nodeType===1;){var b=u;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[xs])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(C=s.getAttribute("rel"),C==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(C!==b.rel||s.getAttribute("href")!==(b.href==null?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(C=s.getAttribute("src"),(C!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&C&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var C=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===C)return s}else return s;if(s=po(s.nextSibling),s===null)break}return null}function _0(s,l,u){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=po(s.nextSibling),s===null))return null;return s}function po(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}function hv(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return s;l--}else u==="/$"&&l++}s=s.previousSibling}return null}function tm(s,l,u){switch(l=Yd(u),s){case"html":if(s=l.documentElement,!s)throw Error(i(452));return s;case"head":if(s=l.head,!s)throw Error(i(453));return s;case"body":if(s=l.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}var sr=new Map,Kd=new Set;function Zd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var Qo=Fe.d;Fe.d={f:Qd,r:us,D:x0,C:C0,L:T0,m:E0,X:zl,S:mv,M:Xt};function Qd(){var s=Qo.f(),l=Fd();return s||l}function us(s){var l=qr(s);l!==null&&l.tag===5&&l.type==="form"?_g(l):Qo.r(s)}var mo=typeof document>"u"?null:document;function pv(s,l,u){var p=mo;if(p&&typeof l=="string"&&l){var b=_i(l);b='link[rel="'+s+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),Kd.has(b)||(Kd.add(b),s={rel:s,crossOrigin:u,href:l},p.querySelector(b)===null&&(l=p.createElement("link"),Ki(l,"link",s),$n(l),p.head.appendChild(l)))}}function x0(s){Qo.D(s),pv("dns-prefetch",s,null)}function C0(s,l){Qo.C(s,l),pv("preconnect",s,l)}function T0(s,l,u){Qo.L(s,l,u);var p=mo;if(p&&s&&l){var b='link[rel="preload"][as="'+_i(l)+'"]';l==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+_i(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+_i(u.imageSizes)+'"]')):b+='[href="'+_i(s)+'"]';var C=b;switch(l){case"style":C=Zi(s);break;case"script":C=fc(s)}sr.has(C)||(s=xe({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:s,as:l},u),sr.set(C,s),p.querySelector(b)!==null||l==="style"&&p.querySelector(cc(C))||l==="script"&&p.querySelector(dc(C))||(l=p.createElement("link"),Ki(l,"link",s),$n(l),p.head.appendChild(l)))}}function E0(s,l){Qo.m(s,l);var u=mo;if(u&&s){var p=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+_i(p)+'"][href="'+_i(s)+'"]',C=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=fc(s)}if(!sr.has(C)&&(s=xe({rel:"modulepreload",href:s},l),sr.set(C,s),u.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(dc(C)))return}p=u.createElement("link"),Ki(p,"link",s),$n(p),u.head.appendChild(p)}}}function mv(s,l,u){Qo.S(s,l,u);var p=mo;if(p&&s){var b=Ws(p).hoistableStyles,C=Zi(s);l=l||"default";var D=b.get(C);if(!D){var U={loading:0,preload:null};if(D=p.querySelector(cc(C)))U.loading=5;else{s=xe({rel:"stylesheet",href:s,"data-precedence":l},u),(u=sr.get(C))&&im(s,u);var ee=D=p.createElement("link");$n(ee),Ki(ee,"link",s),ee._p=new Promise(function(ce,Ee){ee.onload=ce,ee.onerror=Ee}),ee.addEventListener("load",function(){U.loading|=1}),ee.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Jd(D,l,p)}D={type:"stylesheet",instance:D,count:1,state:U},b.set(C,D)}}}function zl(s,l){Qo.X(s,l);var u=mo;if(u&&s){var p=Ws(u).hoistableScripts,b=fc(s),C=p.get(b);C||(C=u.querySelector(dc(b)),C||(s=xe({src:s,async:!0},l),(l=sr.get(b))&&rm(s,l),C=u.createElement("script"),$n(C),Ki(C,"link",s),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(b,C))}}function Xt(s,l){Qo.M(s,l);var u=mo;if(u&&s){var p=Ws(u).hoistableScripts,b=fc(s),C=p.get(b);C||(C=u.querySelector(dc(b)),C||(s=xe({src:s,async:!0,type:"module"},l),(l=sr.get(b))&&rm(s,l),C=u.createElement("script"),$n(C),Ki(C,"link",s),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(b,C))}}function nm(s,l,u,p){var b=(b=Ye.current)?Zd(b):null;if(!b)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=Zi(u.href),u=Ws(b).hoistableStyles,p=u.get(l),p||(p={type:"style",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Zi(u.href);var C=Ws(b).hoistableStyles,D=C.get(s);if(D||(b=b.ownerDocument||b,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(s,D),(C=b.querySelector(cc(s)))&&!C._p&&(D.instance=C,D.state.loading=5),sr.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},sr.set(s,u),C||Rn(b,s,u,D.state))),l&&p===null)throw Error(i(528,""));return D}if(l&&p!==null)throw Error(i(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=fc(u),u=Ws(b).hoistableScripts,p=u.get(l),p||(p={type:"script",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Zi(s){return'href="'+_i(s)+'"'}function cc(s){return'link[rel="stylesheet"]['+s+"]"}function gv(s){return xe({},s,{"data-precedence":s.precedence,precedence:null})}function Rn(s,l,u,p){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=s.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Ki(l,"link",u),$n(l),s.head.appendChild(l))}function fc(s){return'[src="'+_i(s)+'"]'}function dc(s){return"script[async]"+s}function xf(s,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var p=s.querySelector('style[data-href~="'+_i(u.href)+'"]');if(p)return l.instance=p,$n(p),p;var b=xe({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),$n(p),Ki(p,"style",b),Jd(p,u.precedence,s),l.instance=p;case"stylesheet":b=Zi(u.href);var C=s.querySelector(cc(b));if(C)return l.state.loading|=4,l.instance=C,$n(C),C;p=gv(u),(b=sr.get(b))&&im(p,b),C=(s.ownerDocument||s).createElement("link"),$n(C);var D=C;return D._p=new Promise(function(U,ee){D.onload=U,D.onerror=ee}),Ki(C,"link",p),l.state.loading|=4,Jd(C,u.precedence,s),l.instance=C;case"script":return C=fc(u.src),(b=s.querySelector(dc(C)))?(l.instance=b,$n(b),b):(p=u,(b=sr.get(C))&&(p=xe({},u),rm(p,b)),s=s.ownerDocument||s,b=s.createElement("script"),$n(b),Ki(b,"link",p),s.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&!(l.state.loading&4)&&(p=l.instance,l.state.loading|=4,Jd(p,u.precedence,s));return l.instance}function Jd(s,l,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,C=b,D=0;D<p.length;D++){var U=p[D];if(U.dataset.precedence===l)C=U;else if(C!==b)break}C?C.parentNode.insertBefore(s,C.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(s,l.firstChild))}function im(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function rm(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var eh=null;function vv(s,l,u){if(eh===null){var p=new Map,b=eh=new Map;b.set(u,p)}else b=eh,p=b.get(u),p||(p=new Map,b.set(u,p));if(p.has(s))return p;for(p.set(s,null),u=u.getElementsByTagName(s),b=0;b<u.length;b++){var C=u[b];if(!(C[xs]||C[mi]||s==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var D=C.getAttribute(l)||"";D=s+D;var U=p.get(D);U?U.push(C):p.set(D,[C])}}return p}function yv(s,l,u){s=s.ownerDocument||s,s.head.insertBefore(u,l==="title"?s.querySelector("head > title"):null)}function R0(s,l,u){if(u===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function bv(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}var Cf=null;function M0(){}function O0(s,l,u){if(Cf===null)throw Error(i(475));var p=Cf;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&!(l.state.loading&4)){if(l.instance===null){var b=Zi(u.href),C=s.querySelector(cc(b));if(C){s=C._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(p.count++,p=th.bind(p),s.then(p,p)),l.state.loading|=4,l.instance=C,$n(C);return}C=s.ownerDocument||s,u=gv(u),(b=sr.get(b))&&im(u,b),C=C.createElement("link"),$n(C);var D=C;D._p=new Promise(function(U,ee){D.onload=U,D.onerror=ee}),Ki(C,"link",u),l.instance=C}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(l,s),(s=l.state.preload)&&!(l.state.loading&3)&&(p.count++,l=th.bind(p),s.addEventListener("load",l),s.addEventListener("error",l))}}function A0(){if(Cf===null)throw Error(i(475));var s=Cf;return s.stylesheets&&s.count===0&&sm(s,s.stylesheets),0<s.count?function(l){var u=setTimeout(function(){if(s.stylesheets&&sm(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u)}}:null}function th(){if(this.count--,this.count===0){if(this.stylesheets)sm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var hc=null;function sm(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,hc=new Map,l.forEach(om,s),hc=null,th.call(s))}function om(s,l){if(!(l.state.loading&4)){var u=hc.get(s);if(u)var p=u.get(null);else{u=new Map,hc.set(s,u);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<b.length;C++){var D=b[C];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(u.set(D.dataset.precedence,D),p=D)}p&&u.set(null,p)}b=l.instance,D=b.getAttribute("data-precedence"),C=u.get(D)||p,C===p&&u.set(null,b),u.set(D,b),this.count++,p=th.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),C?C.parentNode.insertBefore(b,C.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),l.state.loading|=4}}var Tf={$$typeof:R,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function k0(s,l,u,p,b,C,D,U){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=C,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Sv(s,l,u,p,b,C,D,U,ee,ce,Ee,je){return s=new k0(s,l,u,D,U,ee,ce,je),l=1,C===!0&&(l|=24),C=ss(3,null,null,l),s.current=C,C.stateNode=s,l=jh(),l.refCount++,s.pooledCache=l,l.refCount++,C.memoizedState={element:p,isDehydrated:u,cache:l},rf(C),s}function Ri(s){return s?(s=Fa,s):Fa}function wr(s,l,u,p,b,C){b=Ri(b),p.context===null?p.context=b:p.pendingContext=b,p=uo(l),p.payload={element:u},C=C===void 0?null:C,C!==null&&(p.callback=C),u=ts(s,p,l),u!==null&&(rr(u,s,l),Tt(u,s,l))}function wv(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<l?u:l}}function lm(s,l){wv(s,l),(s=s.alternate)&&wv(s,l)}function _v(s){if(s.tag===13){var l=to(s,67108864);l!==null&&rr(l,s,67108864),lm(s,67108864)}}var Ef=!0;function D0(s,l,u,p){var b=ge.T;ge.T=null;var C=Fe.p;try{Fe.p=2,am(s,l,u,p)}finally{Fe.p=C,ge.T=b}}function z0(s,l,u,p){var b=ge.T;ge.T=null;var C=Fe.p;try{Fe.p=8,am(s,l,u,p)}finally{Fe.p=C,ge.T=b}}function am(s,l,u,p){if(Ef){var b=nh(p);if(b===null)Yp(s,l,p,ih,u),Cv(s,p);else if(L0(b,s,l,u,p))p.stopPropagation();else if(Cv(s,p),l&4&&-1<N0.indexOf(s)){for(;b!==null;){var C=qr(b);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var D=Ss(C.pendingLanes);if(D!==0){var U=C;for(U.pendingLanes|=2,U.entangledLanes|=2;D;){var ee=1<<31-pi(D);U.entanglements[1]|=ee,D&=~ee}ho(C),!(Qn&6)&&(Hd=fn()+500,ou(0))}}break;case 13:U=to(C,2),U!==null&&rr(U,C,2),Fd(),lm(C,2)}if(C=nh(p),C===null&&Yp(s,l,p,ih,u),C===b)break;b=C}b!==null&&p.stopPropagation()}else Yp(s,l,p,null,u)}}function nh(s){return s=Qs(s),um(s)}var ih=null;function um(s){if(ih=null,s=Vr(s),s!==null){var l=Ze(s);if(l===null)s=null;else{var u=l.tag;if(u===13){if(s=dt(l),s!==null)return s;s=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return ih=s,null}function xv(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ni()){case Ut:return 2;case kt:return 8;case Wt:case Dn:return 32;case Bn:return 268435456;default:return 32}default:return 32}}var rh=!1,Nl=null,ba=null,Sa=null,Rf=new Map,Mf=new Map,cs=[],N0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cv(s,l){switch(s){case"focusin":case"focusout":Nl=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":Rf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mf.delete(l.pointerId)}}function Of(s,l,u,p,b,C){return s===null||s.nativeEvent!==C?(s={blockedOn:l,domEventName:u,eventSystemFlags:p,nativeEvent:C,targetContainers:[b]},l!==null&&(l=qr(l),l!==null&&_v(l)),s):(s.eventSystemFlags|=p,l=s.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),s)}function L0(s,l,u,p,b){switch(l){case"focusin":return Nl=Of(Nl,s,l,u,p,b),!0;case"dragenter":return ba=Of(ba,s,l,u,p,b),!0;case"mouseover":return Sa=Of(Sa,s,l,u,p,b),!0;case"pointerover":var C=b.pointerId;return Rf.set(C,Of(Rf.get(C)||null,s,l,u,p,b)),!0;case"gotpointercapture":return C=b.pointerId,Mf.set(C,Of(Mf.get(C)||null,s,l,u,p,b)),!0}return!1}function Tv(s){var l=Vr(s.target);if(l!==null){var u=Ze(l);if(u!==null){if(l=u.tag,l===13){if(l=dt(u),l!==null){s.blockedOn=l,Wr(s.priority,function(){if(u.tag===13){var p=as(),b=to(u,p);b!==null&&rr(b,u,p),lm(u,p)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Af(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var u=nh(s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);Ia=p,u.target.dispatchEvent(p),Ia=null}else return l=qr(u),l!==null&&_v(l),s.blockedOn=u,!1;l.shift()}return!0}function cm(s,l,u){Af(s)&&u.delete(l)}function P0(){rh=!1,Nl!==null&&Af(Nl)&&(Nl=null),ba!==null&&Af(ba)&&(ba=null),Sa!==null&&Af(Sa)&&(Sa=null),Rf.forEach(cm),Mf.forEach(cm)}function sh(s,l){s.blockedOn===l&&(s.blockedOn=null,rh||(rh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,P0)))}var oh=null;function Ev(s){oh!==s&&(oh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){oh===s&&(oh=null);for(var l=0;l<s.length;l+=3){var u=s[l],p=s[l+1],b=s[l+2];if(typeof p!="function"){if(um(p||u)===null)continue;break}var C=qr(u);C!==null&&(s.splice(l,3),l-=3,Kc(C,{pending:!0,data:b,method:u.method,action:p},p,b))}}))}function kf(s){function l(ee){return sh(ee,s)}Nl!==null&&sh(Nl,s),ba!==null&&sh(ba,s),Sa!==null&&sh(Sa,s),Rf.forEach(l),Mf.forEach(l);for(var u=0;u<cs.length;u++){var p=cs[u];p.blockedOn===s&&(p.blockedOn=null)}for(;0<cs.length&&(u=cs[0],u.blockedOn===null);)Tv(u),u.blockedOn===null&&cs.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var b=u[p],C=u[p+1],D=b[ui]||null;if(typeof C=="function")D||Ev(u);else if(D){var U=null;if(C&&C.hasAttribute("formAction")){if(b=C,D=C[ui]||null)U=D.formAction;else if(um(b)!==null)continue}else U=D.action;typeof U=="function"?u[p+1]=U:(u.splice(p,3),p-=3),Ev(u)}}}function fm(s){this._internalRoot=s}lh.prototype.render=fm.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(i(409));var u=l.current,p=as();wr(u,p,s,l,null,null)},lh.prototype.unmount=fm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;s.tag===0&&kl(),wr(s.current,2,null,s,null,null),Fd(),l[Fi]=null}};function lh(s){this._internalRoot=s}lh.prototype.unstable_scheduleHydration=function(s){if(s){var l=ws();s={blockedOn:null,target:s,priority:l};for(var u=0;u<cs.length&&l!==0&&l<cs[u].priority;u++);cs.splice(u,0,s),u===0&&Tv(s)}};var Rv=e.version;if(Rv!=="19.0.0")throw Error(i(527,Rv,"19.0.0"));Fe.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=Ce(l),s=s!==null?rt(s):null,s=s===null?null:s.stateNode,s};var I0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:ge,findFiberByHostInstance:Vr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{ai=ah.inject(I0),An=ah}catch{}}return hm.createRoot=function(s,l){if(!r(s))throw Error(i(299));var u=!1,p="",b=Cl,C=xg,D=Tl,U=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks)),l=Sv(s,1,!1,null,null,u,p,b,C,D,U,null),s[Fi]=l.current,qp(s.nodeType===8?s.parentNode:s),new fm(l)},hm.hydrateRoot=function(s,l,u){if(!r(s))throw Error(i(299));var p=!1,b="",C=Cl,D=xg,U=Tl,ee=null,ce=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(D=u.onCaughtError),u.onRecoverableError!==void 0&&(U=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(ee=u.unstable_transitionCallbacks),u.formState!==void 0&&(ce=u.formState)),l=Sv(s,1,!0,l,u??null,p,b,C,D,U,ee,ce),l.context=Ri(null),u=l.current,p=as(),b=uo(p),b.callback=null,ts(u,b,p),l.current.lanes=p,Us(l,p),ho(l),s[Fi]=l.current,qp(s),new lh(l)},hm.version="19.0.0",hm}var kS;function _R(){if(kS)return W0.exports;kS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),W0.exports=wR(),W0.exports}var xR=_R();function _r(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var CR=typeof Symbol=="function"&&Symbol.observable||"@@observable",DS=CR,X0=()=>Math.random().toString(36).substring(7).split("").join("."),TR={INIT:`@@redux/INIT${X0()}`,REPLACE:`@@redux/REPLACE${X0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${X0()}`},Kv=TR;function T1(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function cx(n,e,t){if(typeof n!="function")throw new Error(_r(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(_r(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(_r(1));return t(cx)(n,e)}let i=n,r=e,o=new Map,a=o,f=0,d=!1;function m(){a===o&&(a=new Map,o.forEach((N,H)=>{a.set(H,N)}))}function y(){if(d)throw new Error(_r(3));return r}function x(N){if(typeof N!="function")throw new Error(_r(4));if(d)throw new Error(_r(5));let H=!0;m();const V=f++;return a.set(V,N),function(){if(H){if(d)throw new Error(_r(6));H=!1,m(),a.delete(V),o=null}}}function T(N){if(!T1(N))throw new Error(_r(7));if(typeof N.type>"u")throw new Error(_r(8));if(typeof N.type!="string")throw new Error(_r(17));if(d)throw new Error(_r(9));try{d=!0,r=i(r,N)}finally{d=!1}return(o=a).forEach(V=>{V()}),N}function R(N){if(typeof N!="function")throw new Error(_r(10));i=N,T({type:Kv.REPLACE})}function O(){const N=x;return{subscribe(H){if(typeof H!="object"||H===null)throw new Error(_r(11));function V(){const J=H;J.next&&J.next(y())}return V(),{unsubscribe:N(V)}},[DS](){return this}}}return T({type:Kv.INIT}),{dispatch:T,subscribe:x,getState:y,replaceReducer:R,[DS]:O}}function ER(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Kv.INIT})>"u")throw new Error(_r(12));if(typeof t(void 0,{type:Kv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_r(13))})}function fx(n){const e=Object.keys(n),t={};for(let o=0;o<e.length;o++){const a=e[o];typeof n[a]=="function"&&(t[a]=n[a])}const i=Object.keys(t);let r;try{ER(t)}catch(o){r=o}return function(a={},f){if(r)throw r;let d=!1;const m={};for(let y=0;y<i.length;y++){const x=i[y],T=t[x],R=a[x],O=T(R,f);if(typeof O>"u")throw f&&f.type,new Error(_r(14));m[x]=O,d=d||O!==R}return d=d||i.length!==Object.keys(a).length,d?m:a}}function Zv(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function RR(...n){return e=>(t,i)=>{const r=e(t,i);let o=()=>{throw new Error(_r(15))};const a={getState:r.getState,dispatch:(d,...m)=>o(d,...m)},f=n.map(d=>d(a));return o=Zv(...f)(r.dispatch),{...r,dispatch:o}}}function MR(n){return T1(n)&&"type"in n&&typeof n.type=="string"}var dx=Symbol.for("immer-nothing"),zS=Symbol.for("immer-draftable"),wo=Symbol.for("immer-state");function Il(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Sh=Object.getPrototypeOf;function Xf(n){return!!n&&!!n[wo]}function gu(n){var e;return n?hx(n)||Array.isArray(n)||!!n[zS]||!!((e=n.constructor)!=null&&e[zS])||Ry(n)||My(n):!1}var OR=Object.prototype.constructor.toString();function hx(n){if(!n||typeof n!="object")return!1;const e=Sh(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===OR}function Qv(n,e){Ey(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,i)=>e(i,t,n))}function Ey(n){const e=n[wo];return e?e.type_:Array.isArray(n)?1:Ry(n)?2:My(n)?3:0}function zb(n,e){return Ey(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function px(n,e,t){const i=Ey(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function AR(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Ry(n){return n instanceof Map}function My(n){return n instanceof Set}function zf(n){return n.copy_||n.base_}function Nb(n,e){if(Ry(n))return new Map(n);if(My(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=hx(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[wo];let r=Reflect.ownKeys(i);for(let o=0;o<r.length;o++){const a=r[o],f=i[a];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(i[a]={configurable:!0,writable:!0,enumerable:f.enumerable,value:n[a]})}return Object.create(Sh(n),i)}else{const i=Sh(n);if(i!==null&&t)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function E1(n,e=!1){return Oy(n)||Xf(n)||!gu(n)||(Ey(n)>1&&(n.set=n.add=n.clear=n.delete=kR),Object.freeze(n),e&&Object.entries(n).forEach(([t,i])=>E1(i,!0))),n}function kR(){Il(2)}function Oy(n){return Object.isFrozen(n)}var DR={};function Kf(n){const e=DR[n];return e||Il(0,n),e}var Dm;function mx(){return Dm}function zR(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function NS(n,e){e&&(Kf("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Lb(n){Pb(n),n.drafts_.forEach(NR),n.drafts_=null}function Pb(n){n===Dm&&(Dm=n.parent_)}function LS(n){return Dm=zR(Dm,n)}function NR(n){const e=n[wo];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function PS(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[wo].modified_&&(Lb(e),Il(4)),gu(n)&&(n=Jv(e,n),e.parent_||ey(e,n)),e.patches_&&Kf("Patches").generateReplacementPatches_(t[wo].base_,n,e.patches_,e.inversePatches_)):n=Jv(e,t,[]),Lb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==dx?n:void 0}function Jv(n,e,t){if(Oy(e))return e;const i=e[wo];if(!i)return Qv(e,(r,o)=>IS(n,i,e,r,o,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return ey(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let o=r,a=!1;i.type_===3&&(o=new Set(r),r.clear(),a=!0),Qv(o,(f,d)=>IS(n,i,r,f,d,t,a)),ey(n,r,!1),t&&n.patches_&&Kf("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function IS(n,e,t,i,r,o,a){if(Xf(r)){const f=o&&e&&e.type_!==3&&!zb(e.assigned_,i)?o.concat(i):void 0,d=Jv(n,r,f);if(px(t,i,d),Xf(d))n.canAutoFreeze_=!1;else return}else a&&t.add(r);if(gu(r)&&!Oy(r)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Jv(n,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,i)&&ey(n,r)}}function ey(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&E1(e,t)}function LR(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:mx(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,o=R1;t&&(r=[i],o=zm);const{revoke:a,proxy:f}=Proxy.revocable(r,o);return i.draft_=f,i.revoke_=a,f}var R1={get(n,e){if(e===wo)return n;const t=zf(n);if(!zb(t,e))return PR(n,t,e);const i=t[e];return n.finalized_||!gu(i)?i:i===K0(n.base_,e)?(Z0(n),n.copy_[e]=jb(i,n)):i},has(n,e){return e in zf(n)},ownKeys(n){return Reflect.ownKeys(zf(n))},set(n,e,t){const i=gx(zf(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=K0(zf(n),e),o=r==null?void 0:r[wo];if(o&&o.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(AR(t,r)&&(t!==void 0||zb(n.base_,e)))return!0;Z0(n),Ib(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return K0(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Z0(n),Ib(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=zf(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){Il(11)},getPrototypeOf(n){return Sh(n.base_)},setPrototypeOf(){Il(12)}},zm={};Qv(R1,(n,e)=>{zm[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});zm.deleteProperty=function(n,e){return zm.set.call(this,n,e,void 0)};zm.set=function(n,e,t){return R1.set.call(this,n[0],e,t,n[0])};function K0(n,e){const t=n[wo];return(t?zf(t):n)[e]}function PR(n,e,t){var r;const i=gx(e,t);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(n.draft_):void 0}function gx(n,e){if(!(e in n))return;let t=Sh(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Sh(t)}}function Ib(n){n.modified_||(n.modified_=!0,n.parent_&&Ib(n.parent_))}function Z0(n){n.copy_||(n.copy_=Nb(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var IR=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const o=t;t=e;const a=this;return function(d=o,...m){return a.produce(d,y=>t.call(this,y,...m))}}typeof t!="function"&&Il(6),i!==void 0&&typeof i!="function"&&Il(7);let r;if(gu(e)){const o=LS(this),a=jb(e,void 0);let f=!0;try{r=t(a),f=!1}finally{f?Lb(o):Pb(o)}return NS(o,i),PS(r,o)}else if(!e||typeof e!="object"){if(r=t(e),r===void 0&&(r=e),r===dx&&(r=void 0),this.autoFreeze_&&E1(r,!0),i){const o=[],a=[];Kf("Patches").generateReplacementPatches_(e,r,o,a),i(o,a)}return r}else Il(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(a,...f)=>this.produceWithPatches(a,d=>e(d,...f));let i,r;return[this.produce(e,t,(a,f)=>{i=a,r=f}),i,r]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){gu(n)||Il(8),Xf(n)&&(n=jR(n));const e=LS(this),t=jb(n,void 0);return t[wo].isManual_=!0,Pb(e),t}finishDraft(n,e){const t=n&&n[wo];(!t||!t.isManual_)&&Il(9);const{scope_:i}=t;return NS(i,e),PS(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}t>-1&&(e=e.slice(t+1));const i=Kf("Patches").applyPatches_;return Xf(n)?i(n,e):this.produce(n,r=>i(r,e))}};function jb(n,e){const t=Ry(n)?Kf("MapSet").proxyMap_(n,e):My(n)?Kf("MapSet").proxySet_(n,e):LR(n,e);return(e?e.scope_:mx()).drafts_.push(t),t}function jR(n){return Xf(n)||Il(10,n),vx(n)}function vx(n){if(!gu(n)||Oy(n))return n;const e=n[wo];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Nb(n,e.scope_.immer_.useStrictShallowCopy_)}else t=Nb(n,!0);return Qv(t,(i,r)=>{px(t,i,vx(r))}),e&&(e.finalized_=!1),t}var _o=new IR,yx=_o.produce;_o.produceWithPatches.bind(_o);_o.setAutoFreeze.bind(_o);_o.setUseStrictShallowCopy.bind(_o);_o.applyPatches.bind(_o);_o.createDraft.bind(_o);_o.finishDraft.bind(_o);function bx(n){return({dispatch:t,getState:i})=>r=>o=>typeof o=="function"?o(t,i,n):r(o)}var Sx=bx(),BR=bx,HR=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Zv:Zv.apply(null,arguments)};function jS(n,e){function t(...i){if(e){let r=e(...i);if(!r)throw new Error(Hl(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>MR(i)&&i.type===n,t}var wx=class ym extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ym.prototype)}static get[Symbol.species](){return ym}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ym(...e[0].concat(this)):new ym(...e.concat(this))}};function BS(n){return gu(n)?yx(n,()=>{}):n}function Bb(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function $R(n){return typeof n=="boolean"}var FR=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:o=!0}=e??{};let a=new wx;return t&&($R(t)?a.push(Sx):a.push(BR(t.extraArgument))),a},UR="RTK_autoBatch",HS=n=>e=>{setTimeout(e,n)},GR=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let r=!0,o=!1,a=!1;const f=new Set,d=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:HS(10):n.type==="callback"?n.queueNotification:HS(n.timeout),m=()=>{a=!1,o&&(o=!1,f.forEach(y=>y()))};return Object.assign({},i,{subscribe(y){const x=()=>r&&y(),T=i.subscribe(x);return f.add(y),()=>{T(),f.delete(y)}},dispatch(y){var x;try{return r=!((x=y==null?void 0:y.meta)!=null&&x[UR]),o=!r,o&&(a||(a=!0,d(m))),i.dispatch(y)}finally{r=!0}}})},WR=n=>function(t){const{autoBatch:i=!0}=t??{};let r=new wx(n);return i&&r.push(GR(typeof i=="object"?i:void 0)),r};function VR(n){const e=FR(),{reducer:t=void 0,middleware:i,devTools:r=!0,preloadedState:o=void 0,enhancers:a=void 0}=n||{};let f;if(typeof t=="function")f=t;else if(T1(t))f=fx(t);else throw new Error(Hl(1));let d;typeof i=="function"?d=i(e):d=e();let m=Zv;r&&(m=HR({trace:!1,...typeof r=="object"&&r}));const y=RR(...d),x=WR(y);let T=typeof a=="function"?a(x):x();const R=m(...T);return cx(f,o,R)}function _x(n){const e={},t=[];let i;const r={addCase(o,a){const f=typeof o=="string"?o:o.type;if(!f)throw new Error(Hl(28));if(f in e)throw new Error(Hl(29));return e[f]=a,r},addMatcher(o,a){return t.push({matcher:o,reducer:a}),r},addDefaultCase(o){return i=o,r}};return n(r),[e,t,i]}function qR(n){return typeof n=="function"}function YR(n,e){let[t,i,r]=_x(e),o;if(qR(n))o=()=>BS(n());else{const f=BS(n);o=()=>f}function a(f=o(),d){let m=[t[d.type],...i.filter(({matcher:y})=>y(d)).map(({reducer:y})=>y)];return m.filter(y=>!!y).length===0&&(m=[r]),m.reduce((y,x)=>{if(x)if(Xf(y)){const R=x(y,d);return R===void 0?y:R}else{if(gu(y))return yx(y,T=>x(T,d));{const T=x(y,d);if(T===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return T}}return y},f)}return a.getInitialState=o,a}var XR="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",KR=(n=21)=>{let e="",t=n;for(;t--;)e+=XR[Math.random()*64|0];return e},ZR=Symbol.for("rtk-slice-createasyncthunk");function QR(n,e){return`${n}/${e}`}function JR({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[ZR];return function(r){const{name:o,reducerPath:a=o}=r;if(!o)throw new Error(Hl(11));const f=(typeof r.reducers=="function"?r.reducers(tM()):r.reducers)||{},d=Object.keys(f),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(Z,J){const se=typeof Z=="string"?Z:Z.type;if(!se)throw new Error(Hl(12));if(se in m.sliceCaseReducersByType)throw new Error(Hl(13));return m.sliceCaseReducersByType[se]=J,y},addMatcher(Z,J){return m.sliceMatchers.push({matcher:Z,reducer:J}),y},exposeAction(Z,J){return m.actionCreators[Z]=J,y},exposeCaseReducer(Z,J){return m.sliceCaseReducersByName[Z]=J,y}};d.forEach(Z=>{const J=f[Z],se={reducerName:Z,type:QR(o,Z),createNotation:typeof r.reducers=="function"};iM(J)?sM(se,J,y,e):nM(se,J,y)});function x(){const[Z={},J=[],se=void 0]=typeof r.extraReducers=="function"?_x(r.extraReducers):[r.extraReducers],me={...Z,...m.sliceCaseReducersByType};return YR(r.initialState,G=>{for(let ue in me)G.addCase(ue,me[ue]);for(let ue of m.sliceMatchers)G.addMatcher(ue.matcher,ue.reducer);for(let ue of J)G.addMatcher(ue.matcher,ue.reducer);se&&G.addDefaultCase(se)})}const T=Z=>Z,R=new Map;let O;function k(Z,J){return O||(O=x()),O(Z,J)}function N(){return O||(O=x()),O.getInitialState()}function H(Z,J=!1){function se(G){let ue=G[Z];return typeof ue>"u"&&J&&(ue=N()),ue}function me(G=T){const ue=Bb(R,J,()=>new WeakMap);return Bb(ue,G,()=>{const ge={};for(const[xe,Pe]of Object.entries(r.selectors??{}))ge[xe]=eM(Pe,G,N,J);return ge})}return{reducerPath:Z,getSelectors:me,get selectors(){return me(se)},selectSlice:se}}const V={name:o,reducer:k,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:N,...H(a),injectInto(Z,{reducerPath:J,...se}={}){const me=J??a;return Z.inject({reducerPath:me,reducer:k},se),{...V,...H(me,!0)}}};return V}}function eM(n,e,t,i){function r(o,...a){let f=e(o);return typeof f>"u"&&i&&(f=t()),n(f,...a)}return r.unwrapped=n,r}var M1=JR();function tM(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function nM({type:n,reducerName:e,createNotation:t},i,r){let o,a;if("reducer"in i){if(t&&!rM(i))throw new Error(Hl(17));o=i.reducer,a=i.prepare}else o=i;r.addCase(n,o).exposeCaseReducer(e,o).exposeAction(e,a?jS(n,a):jS(n))}function iM(n){return n._reducerDefinitionType==="asyncThunk"}function rM(n){return n._reducerDefinitionType==="reducerWithPrepare"}function sM({type:n,reducerName:e},t,i,r){if(!r)throw new Error(Hl(18));const{payloadCreator:o,fulfilled:a,pending:f,rejected:d,settled:m,options:y}=t,x=r(n,o,y);i.exposeAction(e,x),a&&i.addCase(x.fulfilled,a),f&&i.addCase(x.pending,f),d&&i.addCase(x.rejected,d),m&&i.addMatcher(x.settled,m),i.exposeCaseReducer(e,{fulfilled:a||Ov,pending:f||Ov,rejected:d||Ov,settled:m||Ov})}function Ov(){}var oM=n=>"reducerPath"in n&&typeof n.reducerPath=="string",lM=n=>n.flatMap(e=>oM(e)?[[e.reducerPath,e.reducer]]:Object.entries(e)),O1=Symbol.for("rtk-state-proxy-original"),aM=n=>!!n&&!!n[O1],uM=new WeakMap,cM=(n,e)=>Bb(uM,n,()=>new Proxy(n,{get:(t,i,r)=>{if(i===O1)return t;const o=Reflect.get(t,i,r);if(typeof o>"u"){const a=e[i.toString()];if(a){const f=a(void 0,{type:KR()});if(typeof f>"u")throw new Error(Hl(24));return f}}return o}})),fM=n=>{if(!aM(n))throw new Error(Hl(25));return n[O1]},dM=(n={})=>n;function hM(...n){const e=Object.fromEntries(lM(n)),t=()=>Object.keys(e).length?fx(e):dM;let i=t();function r(f,d){return i(f,d)}r.withLazyLoadedSlices=()=>r;const o=(f,d={})=>{const{reducerPath:m,reducer:y}=f,x=e[m];return!d.overrideExisting&&x&&x!==y||(e[m]=y,i=t()),r},a=Object.assign(function(d,m){return function(x,...T){return d(cM(m?m(x,...T):x,e),...T)}},{original:fM});return Object.assign(r,{inject:o,selector:a})}function Hl(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const pM={cues:[],activeCueIndex:void 0,selectedCueIndex:void 0},xx=M1({name:"cueSlice",initialState:pM,reducers:{setCues(n,e){return{...n,cues:e.payload}},setActiveCueIndex(n,e){return{...n,activeCueIndex:e.payload}},setSelectedCueIndex(n,e){return{...n,selectedCueIndex:e.payload}},updateCue(n,e){const{cueIndex:t,updates:i}=e.payload,r=[...n.cues],o=r[t];return o&&Object.assign(o,i),{...n,cues:r}}}}),{setCues:mM,setActiveCueIndex:A1,setSelectedCueIndex:Cx,updateCue:k1}=xx.actions;var bm={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var gM=bm.exports,$S;function vM(){return $S||($S=1,function(n,e){(function(){var t,i="4.17.21",r=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",f="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",m=500,y="__lodash_placeholder__",x=1,T=2,R=4,O=1,k=2,N=1,H=2,V=4,Z=8,J=16,se=32,me=64,G=128,ue=256,ge=512,xe=30,Pe="...",Xe=800,ke=16,qe=1,lt=2,Oe=3,Je=1/0,Ze=9007199254740991,dt=17976931348623157e292,ie=NaN,Ce=4294967295,rt=Ce-1,et=Ce>>>1,Fe=[["ary",G],["bind",N],["bindKey",H],["curry",Z],["curryRight",J],["flip",ge],["partial",se],["partialRight",me],["rearg",ue]],tt="[object Arguments]",St="[object Array]",kn="[object AsyncFunction]",At="[object Boolean]",Ke="[object Date]",Jt="[object DOMException]",xn="[object Error]",Et="[object Function]",Ye="[object GeneratorFunction]",nt="[object Map]",pt="[object Number]",ct="[object Null]",Ct="[object Object]",sn="[object Promise]",It="[object Proxy]",cn="[object RegExp]",mt="[object Set]",ti="[object String]",Pn="[object Symbol]",fn="[object Undefined]",ni="[object WeakMap]",Ut="[object WeakSet]",kt="[object ArrayBuffer]",Wt="[object DataView]",Dn="[object Float32Array]",Bn="[object Float64Array]",zn="[object Int8Array]",Hn="[object Int16Array]",ai="[object Int32Array]",An="[object Uint8Array]",Si="[object Uint8ClampedArray]",hi="[object Uint16Array]",pi="[object Uint32Array]",il=/\b__p \+= '';/g,Ur=/\b(__p \+=) '' \+/g,bs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Mr=/&(?:amp|lt|gt|quot|#39);/g,Hs=/[&<>"']/g,Ss=RegExp(Mr.source),Or=RegExp(Hs.source),$s=/<%-([\s\S]+?)%>/g,yu=/<%([\s\S]+?)%>/g,Fs=/<%=([\s\S]+?)%>/g,bu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gr=/^\w*$/,Us=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xo=/[\\^$.*+?()[\]{}|]/g,rl=RegExp(xo.source),Co=/^\s+/,Ar=/\s/,ws=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Wr=/\{\n\/\* \[wrapped with (.+)\] \*/,_s=/,? & /,mi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ui=/[()=,{}\[\]\/\s]/,Fi=/\\(\\)?/g,Rt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ka=/\w*$/,sl=/^[-+]0x[0-9a-f]+$/i,Su=/^0b[01]+$/i,xs=/^\[object .+?Constructor\]$/,Gs=/^0o[0-7]+$/i,Vr=/^(?:0|[1-9]\d*)$/,qr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yr=/($^)/,Ws=/['\n\r\u2028\u2029\\]/g,$n="\\ud800-\\udfff",wu="\\u0300-\\u036f",Cs="\\ufe20-\\ufe2f",Ts="\\u20d0-\\u20ff",dr=wu+Cs+Ts,hr="\\u2700-\\u27bf",To="a-z\\xdf-\\xf6\\xf8-\\xff",Da="\\xac\\xb1\\xd7\\xf7",za="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Na="\\u2000-\\u206f",ol=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vs="A-Z\\xc0-\\xd6\\xd8-\\xde",kr="\\ufe0e\\ufe0f",Ni=Da+za+Na+ol,Ul="['’]",Pc="["+$n+"]",ll="["+Ni+"]",Es="["+dr+"]",wi="\\d+",Eo="["+hr+"]",_i="["+To+"]",qs="[^"+$n+Ni+wi+hr+To+Vs+"]",Ui="\\ud83c[\\udffb-\\udfff]",Ys="(?:"+Es+"|"+Ui+")",Xs="[^"+$n+"]",Ks="(?:\\ud83c[\\udde6-\\uddff]){2}",al="[\\ud800-\\udbff][\\udc00-\\udfff]",Gi="["+Vs+"]",_u="\\u200d",La="(?:"+_i+"|"+qs+")",Pa="(?:"+Gi+"|"+qs+")",ul="(?:"+Ul+"(?:d|ll|m|re|s|t|ve))?",Ro="(?:"+Ul+"(?:D|LL|M|RE|S|T|VE))?",Gl=Ys+"?",Zs="["+kr+"]?",Ia="(?:"+_u+"(?:"+[Xs,Ks,al].join("|")+")"+Zs+Gl+")*",Qs="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mo="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Xr=Zs+Gl+Ia,xu="(?:"+[Eo,Ks,al].join("|")+")"+Xr,Oo="(?:"+[Xs+Es+"?",Es,Ks,al,Pc].join("|")+")",Cu=RegExp(Ul,"g"),Ao=RegExp(Es,"g"),ko=RegExp(Ui+"(?="+Ui+")|"+Oo+Xr,"g"),cl=RegExp([Gi+"?"+_i+"+"+ul+"(?="+[ll,Gi,"$"].join("|")+")",Pa+"+"+Ro+"(?="+[ll,Gi+La,"$"].join("|")+")",Gi+"?"+La+"+"+ul,Gi+"+"+Ro,Mo,Qs,wi,xu].join("|"),"g"),Kr=RegExp("["+_u+$n+dr+kr+"]"),Wl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Do=-1,on={};on[Dn]=on[Bn]=on[zn]=on[Hn]=on[ai]=on[An]=on[Si]=on[hi]=on[pi]=!0,on[tt]=on[St]=on[kt]=on[At]=on[Wt]=on[Ke]=on[xn]=on[Et]=on[nt]=on[pt]=on[Ct]=on[cn]=on[mt]=on[ti]=on[ni]=!1;var gn={};gn[tt]=gn[St]=gn[kt]=gn[Wt]=gn[At]=gn[Ke]=gn[Dn]=gn[Bn]=gn[zn]=gn[Hn]=gn[ai]=gn[nt]=gn[pt]=gn[Ct]=gn[cn]=gn[mt]=gn[ti]=gn[Pn]=gn[An]=gn[Si]=gn[hi]=gn[pi]=!0,gn[xn]=gn[Et]=gn[ni]=!1;var ql={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},xi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Js={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},zo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Rs=parseFloat,Tu=parseInt,Dr=typeof Mv=="object"&&Mv&&Mv.Object===Object&&Mv,ja=typeof self=="object"&&self&&self.Object===Object&&self,Gn=Dr||ja||Function("return this")(),Wi=e&&!e.nodeType&&e,pr=Wi&&!0&&n&&!n.nodeType&&n,Eu=pr&&pr.exports===Wi,Yl=Eu&&Dr.process,Li=function(){try{var te=pr&&pr.require&&pr.require("util").types;return te||Yl&&Yl.binding&&Yl.binding("util")}catch{}}(),fl=Li&&Li.isArrayBuffer,gi=Li&&Li.isDate,Ru=Li&&Li.isMap,Mu=Li&&Li.isRegExp,Ou=Li&&Li.isSet,Ba=Li&&Li.isTypedArray;function Cn(te,ve,de){switch(de.length){case 0:return te.call(ve);case 1:return te.call(ve,de[0]);case 2:return te.call(ve,de[0],de[1]);case 3:return te.call(ve,de[0],de[1],de[2])}return te.apply(ve,de)}function Au(te,ve,de,Ae){for(var Ve=-1,Mt=te==null?0:te.length;++Ve<Mt;){var Ht=te[Ve];ve(Ae,Ht,de(Ht),te)}return Ae}function Pi(te,ve){for(var de=-1,Ae=te==null?0:te.length;++de<Ae&&ve(te[de],de,te)!==!1;);return te}function Zr(te,ve){for(var de=te==null?0:te.length;de--&&ve(te[de],de,te)!==!1;);return te}function No(te,ve){for(var de=-1,Ae=te==null?0:te.length;++de<Ae;)if(!ve(te[de],de,te))return!1;return!0}function Ii(te,ve){for(var de=-1,Ae=te==null?0:te.length,Ve=0,Mt=[];++de<Ae;){var Ht=te[de];ve(Ht,de,te)&&(Mt[Ve++]=Ht)}return Mt}function I(te,ve){var de=te==null?0:te.length;return!!de&&Bt(te,ve,0)>-1}function P(te,ve,de){for(var Ae=-1,Ve=te==null?0:te.length;++Ae<Ve;)if(de(ve,te[Ae]))return!0;return!1}function Y(te,ve){for(var de=-1,Ae=te==null?0:te.length,Ve=Array(Ae);++de<Ae;)Ve[de]=ve(te[de],de,te);return Ve}function oe(te,ve){for(var de=-1,Ae=ve.length,Ve=te.length;++de<Ae;)te[Ve+de]=ve[de];return te}function be(te,ve,de,Ae){var Ve=-1,Mt=te==null?0:te.length;for(Ae&&Mt&&(de=te[++Ve]);++Ve<Mt;)de=ve(de,te[Ve],Ve,te);return de}function Me(te,ve,de,Ae){var Ve=te==null?0:te.length;for(Ae&&Ve&&(de=te[--Ve]);Ve--;)de=ve(de,te[Ve],Ve,te);return de}function De(te,ve){for(var de=-1,Ae=te==null?0:te.length;++de<Ae;)if(ve(te[de],de,te))return!0;return!1}var Re=Vi("length");function Ue(te){return te.split("")}function st(te){return te.match(mi)||[]}function gt(te,ve,de){var Ae;return de(te,function(Ve,Mt,Ht){if(ve(Ve,Mt,Ht))return Ae=Mt,!1}),Ae}function jt(te,ve,de,Ae){for(var Ve=te.length,Mt=de+(Ae?1:-1);Ae?Mt--:++Mt<Ve;)if(ve(te[Mt],Mt,te))return Mt;return-1}function Bt(te,ve,de){return ve===ve?F(te,ve,de):jt(te,Wn,de)}function In(te,ve,de,Ae){for(var Ve=de-1,Mt=te.length;++Ve<Mt;)if(Ae(te[Ve],ve))return Ve;return-1}function Wn(te){return te!==te}function er(te,ve){var de=te==null?0:te.length;return de?ii(te,ve)/de:ie}function Vi(te){return function(ve){return ve==null?t:ve[te]}}function qi(te){return function(ve){return te==null?t:te[ve]}}function Ge(te,ve,de,Ae,Ve){return Ve(te,function(Mt,Ht,Vt){de=Ae?(Ae=!1,Mt):ve(de,Mt,Ht,Vt)}),de}function yt(te,ve){var de=te.length;for(te.sort(ve);de--;)te[de]=te[de].value;return te}function ii(te,ve){for(var de,Ae=-1,Ve=te.length;++Ae<Ve;){var Mt=ve(te[Ae]);Mt!==t&&(de=de===t?Mt:de+Mt)}return de}function bn(te,ve){for(var de=-1,Ae=Array(te);++de<te;)Ae[de]=ve(de);return Ae}function ji(te,ve){return Y(ve,function(de){return[de,te[de]]})}function Lo(te){return te&&te.slice(0,fe(te)+1).replace(Co,"")}function ci(te){return function(ve){return te(ve)}}function dl(te,ve){return Y(ve,function(de){return te[de]})}function Xl(te,ve){return te.has(ve)}function Kl(te,ve){for(var de=-1,Ae=te.length;++de<Ae&&Bt(ve,te[de],0)>-1;);return de}function Zl(te,ve){for(var de=te.length;de--&&Bt(ve,te[de],0)>-1;);return de}function kh(te,ve){for(var de=te.length,Ae=0;de--;)te[de]===ve&&++Ae;return Ae}var ku=qi(ql),ad=qi(xi);function ud(te){return"\\"+zo[te]}function Ic(te,ve){return te==null?t:te[ve]}function Po(te){return Kr.test(te)}function v(te){return Wl.test(te)}function g(te){for(var ve,de=[];!(ve=te.next()).done;)de.push(ve.value);return de}function w(te){var ve=-1,de=Array(te.size);return te.forEach(function(Ae,Ve){de[++ve]=[Ve,Ae]}),de}function E(te,ve){return function(de){return te(ve(de))}}function A(te,ve){for(var de=-1,Ae=te.length,Ve=0,Mt=[];++de<Ae;){var Ht=te[de];(Ht===ve||Ht===y)&&(te[de]=y,Mt[Ve++]=de)}return Mt}function z(te){var ve=-1,de=Array(te.size);return te.forEach(function(Ae){de[++ve]=Ae}),de}function j(te){var ve=-1,de=Array(te.size);return te.forEach(function(Ae){de[++ve]=[Ae,Ae]}),de}function F(te,ve,de){for(var Ae=de-1,Ve=te.length;++Ae<Ve;)if(te[Ae]===ve)return Ae;return-1}function X(te,ve,de){for(var Ae=de+1;Ae--;)if(te[Ae]===ve)return Ae;return Ae}function re(te){return Po(te)?Be(te):Re(te)}function K(te){return Po(te)?Ie(te):Ue(te)}function fe(te){for(var ve=te.length;ve--&&Ar.test(te.charAt(ve)););return ve}var _e=qi(Js);function Be(te){for(var ve=ko.lastIndex=0;ko.test(te);)++ve;return ve}function Ie(te){return te.match(ko)||[]}function We(te){return te.match(cl)||[]}var ut=function te(ve){ve=ve==null?Gn:Qe.defaults(Gn.Object(),ve,Qe.pick(Gn,Vl));var de=ve.Array,Ae=ve.Date,Ve=ve.Error,Mt=ve.Function,Ht=ve.Math,Vt=ve.Object,fi=ve.RegExp,Ms=ve.String,Bi=ve.TypeError,eo=de.prototype,Xy=Mt.prototype,Du=Vt.prototype,cd=ve["__core-js_shared__"],jc=Xy.toString,Tn=Du.hasOwnProperty,ng=0,Os=function(){var c=/[^.]+$/.exec(cd&&cd.keys&&cd.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),mr=Du.toString,zu=jc.call(Vt),Dh=Gn._,fd=fi("^"+jc.call(Tn).replace(xo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ha=Eu?ve.Buffer:t,Io=ve.Symbol,to=ve.Uint8Array,zh=Ha?Ha.allocUnsafe:t,$a=E(Vt.getPrototypeOf,Vt),Fa=Vt.create,Nh=Du.propertyIsEnumerable,gr=eo.splice,Ua=Io?Io.isConcatSpreadable:t,jo=Io?Io.iterator:t,Bo=Io?Io.toStringTag:t,Ga=function(){try{var c=co(Vt,"defineProperty");return c({},"",{}),c}catch{}}(),As=ve.clearTimeout!==Gn.clearTimeout&&ve.clearTimeout,ks=Ae&&Ae.now!==Gn.Date.now&&Ae.now,Wa=ve.setTimeout!==Gn.setTimeout&&ve.setTimeout,Ds=Ht.ceil,zs=Ht.floor,hl=Vt.getOwnPropertySymbols,ig=Ha?Ha.isBuffer:t,dd=ve.isFinite,Lh=eo.join,vr=E(Vt.keys,Vt),ln=Ht.max,Nt=Ht.min,no=Ae.now,Ho=ve.parseInt,hd=Ht.random,Va=eo.reverse,pd=co(ve,"DataView"),Nu=co(ve,"Map"),qa=co(ve,"Promise"),$o=co(ve,"Set"),pl=co(ve,"WeakMap"),ml=co(Vt,"create"),Bc=pl&&new pl,Ql={},rg=Pr(pd),md=Pr(Nu),sg=Pr(qa),Hc=Pr($o),og=Pr(pl),gl=Io?Io.prototype:t,vl=gl?gl.valueOf:t,$c=gl?gl.toString:t;function $(c){if(li(c)&&!Gt(c)&&!(c instanceof qt)){if(c instanceof Qr)return c;if(Tn.call(c,"__wrapped__"))return jd(c)}return new Qr(c)}var yl=function(){function c(){}return function(h){if(!Kn(h))return{};if(Fa)return Fa(h);c.prototype=h;var S=new c;return c.prototype=t,S}}();function Fc(){}function Qr(c,h){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=t}$.templateSettings={escape:$s,evaluate:yu,interpolate:Fs,variable:"",imports:{_:$}},$.prototype=Fc.prototype,$.prototype.constructor=$,Qr.prototype=yl(Fc.prototype),Qr.prototype.constructor=Qr;function qt(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ce,this.__views__=[]}function lg(){var c=new qt(this.__wrapped__);return c.__actions__=yr(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=yr(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=yr(this.__views__),c}function Lu(){if(this.__filtered__){var c=new qt(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function gd(){var c=this.__wrapped__.value(),h=this.__dir__,S=Gt(c),M=h<0,L=S?c.length:0,W=da(0,L,this.__views__),ne=W.start,le=W.end,he=le-ne,ze=M?le:ne-1,Le=this.__iteratees__,He=Le.length,ot=0,wt=Nt(he,this.__takeCount__);if(!S||!M&&L==he&&wt==he)return Rd(c,this.__actions__);var Dt=[];e:for(;he--&&ot<wt;){ze+=h;for(var tn=-1,zt=c[ze];++tn<He;){var un=Le[tn],vn=un.iteratee,go=un.type,fs=vn(zt);if(go==lt)zt=fs;else if(!fs){if(go==qe)continue e;break e}}Dt[ot++]=zt}return Dt}qt.prototype=yl(Fc.prototype),qt.prototype.constructor=qt;function Jl(c){var h=-1,S=c==null?0:c.length;for(this.clear();++h<S;){var M=c[h];this.set(M[0],M[1])}}function Ph(){this.__data__=ml?ml(null):{},this.size=0}function Ih(c){var h=this.has(c)&&delete this.__data__[c];return this.size-=h?1:0,h}function Ns(c){var h=this.__data__;if(ml){var S=h[c];return S===d?t:S}return Tn.call(h,c)?h[c]:t}function Fo(c){var h=this.__data__;return ml?h[c]!==t:Tn.call(h,c)}function ea(c,h){var S=this.__data__;return this.size+=this.has(c)?0:1,S[c]=ml&&h===t?d:h,this}Jl.prototype.clear=Ph,Jl.prototype.delete=Ih,Jl.prototype.get=Ns,Jl.prototype.has=Fo,Jl.prototype.set=ea;function Uo(c){var h=-1,S=c==null?0:c.length;for(this.clear();++h<S;){var M=c[h];this.set(M[0],M[1])}}function ta(){this.__data__=[],this.size=0}function bl(c){var h=this.__data__,S=Xa(h,c);if(S<0)return!1;var M=h.length-1;return S==M?h.pop():gr.call(h,S,1),--this.size,!0}function Ci(c){var h=this.__data__,S=Xa(h,c);return S<0?t:h[S][1]}function vd(c){return Xa(this.__data__,c)>-1}function Ky(c,h){var S=this.__data__,M=Xa(S,c);return M<0?(++this.size,S.push([c,h])):S[M][1]=h,this}Uo.prototype.clear=ta,Uo.prototype.delete=bl,Uo.prototype.get=Ci,Uo.prototype.has=vd,Uo.prototype.set=Ky;function Sl(c){var h=-1,S=c==null?0:c.length;for(this.clear();++h<S;){var M=c[h];this.set(M[0],M[1])}}function Zy(){this.size=0,this.__data__={hash:new Jl,map:new(Nu||Uo),string:new Jl}}function Ti(c){var h=ec(this,c).delete(c);return this.size-=h?1:0,h}function jh(c){return ec(this,c).get(c)}function Uc(c){return ec(this,c).has(c)}function Gc(c,h){var S=ec(this,c),M=S.size;return S.set(c,h),this.size+=S.size==M?0:1,this}Sl.prototype.clear=Zy,Sl.prototype.delete=Ti,Sl.prototype.get=jh,Sl.prototype.has=Uc,Sl.prototype.set=Gc;function wl(c){var h=-1,S=c==null?0:c.length;for(this.__data__=new Sl;++h<S;)this.add(c[h])}function Pu(c){return this.__data__.set(c,d),this}function Iu(c){return this.__data__.has(c)}wl.prototype.add=wl.prototype.push=Pu,wl.prototype.has=Iu;function io(c){var h=this.__data__=new Uo(c);this.size=h.size}function ag(){this.__data__=new Uo,this.size=0}function Qy(c){var h=this.__data__,S=h.delete(c);return this.size=h.size,S}function ug(c){return this.__data__.get(c)}function Ya(c){return this.__data__.has(c)}function Bh(c,h){var S=this.__data__;if(S instanceof Uo){var M=S.__data__;if(!Nu||M.length<r-1)return M.push([c,h]),this.size=++S.size,this;S=this.__data__=new Sl(M)}return S.set(c,h),this.size=S.size,this}io.prototype.clear=ag,io.prototype.delete=Qy,io.prototype.get=ug,io.prototype.has=Ya,io.prototype.set=Bh;function Wc(c,h){var S=Gt(c),M=!S&&va(c),L=!S&&!M&&ya(c),W=!S&&!M&&!L&&mo(c),ne=S||M||L||W,le=ne?bn(c.length,Ms):[],he=le.length;for(var ze in c)(h||Tn.call(c,ze))&&!(ne&&(ze=="length"||L&&(ze=="offset"||ze=="parent")||W&&(ze=="buffer"||ze=="byteLength"||ze=="byteOffset")||fo(ze,he)))&&le.push(ze);return le}function Hh(c){var h=c.length;return h?c[Ed(0,h-1)]:t}function na(c,h){return af(yr(c),Ka(h,0,c.length))}function Zt(c){return af(yr(c))}function En(c,h,S){(S!==t&&!Is(c[h],S)||S===t&&!(h in c))&&Jr(c,h,S)}function Yn(c,h,S){var M=c[h];(!(Tn.call(c,h)&&Is(M,S))||S===t&&!(h in c))&&Jr(c,h,S)}function Xa(c,h){for(var S=c.length;S--;)if(Is(c[S][0],h))return S;return-1}function ju(c,h,S,M){return sa(c,function(L,W,ne){h(M,L,S(L),ne)}),M}function ia(c,h){return c&&so(h,Ri(h),c)}function yd(c,h){return c&&so(h,wr(h),c)}function Jr(c,h,S){h=="__proto__"&&Ga?Ga(c,h,{configurable:!0,enumerable:!0,value:S,writable:!0}):c[h]=S}function ra(c,h){for(var S=-1,M=h.length,L=de(M),W=c==null;++S<M;)L[S]=W?t:hc(c,h[S]);return L}function Ka(c,h,S){return c===c&&(S!==t&&(c=c<=S?c:S),h!==t&&(c=c>=h?c:h)),c}function Sn(c,h,S,M,L,W){var ne,le=h&x,he=h&T,ze=h&R;if(S&&(ne=L?S(c,M,L,W):S(c)),ne!==t)return ne;if(!Kn(c))return c;var Le=Gt(c);if(Le){if(ne=eu(c),!le)return yr(c,ne)}else{var He=yi(c),ot=He==Et||He==Ye;if(ya(c))return sp(c,le);if(He==Ct||He==tt||ot&&!L){if(ne=he||ot?{}:Lr(c),!le)return he?ef(c,yd(ne,c)):Eg(c,ia(ne,c))}else{if(!gn[He])return L?c:{};ne=Mg(c,He,le)}}W||(W=new io);var wt=W.get(c);if(wt)return wt;W.set(c,ne),Qo(c)?c.forEach(function(zt){ne.add(Sn(zt,h,S,zt,c,W))}):dv(c)&&c.forEach(function(zt,un){ne.set(un,Sn(zt,h,S,un,c,W))});var Dt=ze?he?rf:qo:he?wr:Ri,tn=Le?t:Dt(c);return Pi(tn||c,function(zt,un){tn&&(un=zt,zt=c[un]),Yn(ne,un,Sn(zt,h,S,un,c,W))}),ne}function $h(c){var h=Ri(c);return function(S){return bd(S,c,h)}}function bd(c,h,S){var M=S.length;if(c==null)return!M;for(c=Vt(c);M--;){var L=S[M],W=h[L],ne=c[L];if(ne===t&&!(L in c)||!W(ne))return!1}return!0}function Fh(c,h,S){if(typeof c!="function")throw new Bi(a);return ir(function(){c.apply(t,S)},h)}function Bu(c,h,S,M){var L=-1,W=I,ne=!0,le=c.length,he=[],ze=h.length;if(!le)return he;S&&(h=Y(h,ci(S))),M?(W=P,ne=!1):h.length>=r&&(W=Xl,ne=!1,h=new wl(h));e:for(;++L<le;){var Le=c[L],He=S==null?Le:S(Le);if(Le=M||Le!==0?Le:0,ne&&He===He){for(var ot=ze;ot--;)if(h[ot]===He)continue e;he.push(Le)}else W(h,He,M)||he.push(Le)}return he}var sa=up(Ls),Sd=up(ro,!0);function Uh(c,h){var S=!0;return sa(c,function(M,L,W){return S=!!h(M,L,W),S}),S}function Hu(c,h,S){for(var M=-1,L=c.length;++M<L;){var W=c[M],ne=h(W);if(ne!=null&&(le===t?ne===ne&&!us(ne):S(ne,le)))var le=ne,he=W}return he}function zr(c,h,S,M){var L=c.length;for(S=Xt(S),S<0&&(S=-S>L?0:L+S),M=M===t||M>L?L:Xt(M),M<0&&(M+=L),M=S>M?0:nm(M);S<M;)c[S++]=h;return c}function di(c,h){var S=[];return sa(c,function(M,L,W){h(M,L,W)&&S.push(M)}),S}function vi(c,h,S,M,L){var W=-1,ne=c.length;for(S||(S=Ag),L||(L=[]);++W<ne;){var le=c[W];h>0&&S(le)?h>1?vi(le,h-1,S,M,L):oe(L,le):M||(L[L.length]=le)}return L}var Za=cp(),Vc=cp(!0);function Ls(c,h){return c&&Za(c,h,Ri)}function ro(c,h){return c&&Vc(c,h,Ri)}function Qa(c,h){return Ii(h,function(S){return Dl(c[S])})}function _l(c,h){h=Cl(h,c);for(var S=0,M=h.length;c!=null&&S<M;)c=c[br(h[S++])];return S&&S==M?c:t}function wd(c,h,S){var M=h(c);return Gt(c)?M:oe(M,S(c))}function tr(c){return c==null?c===t?fn:ct:Bo&&Bo in Vt(c)?lf(c):ns(c)}function _d(c,h){return c>h}function cg(c,h){return c!=null&&Tn.call(c,h)}function fg(c,h){return c!=null&&h in Vt(c)}function dg(c,h,S){return c>=Nt(h,S)&&c<ln(h,S)}function xd(c,h,S){for(var M=S?P:I,L=c[0].length,W=c.length,ne=W,le=de(W),he=1/0,ze=[];ne--;){var Le=c[ne];ne&&h&&(Le=Y(Le,ci(h))),he=Nt(Le.length,he),le[ne]=!S&&(h||L>=120&&Le.length>=120)?new wl(ne&&Le):t}Le=c[0];var He=-1,ot=le[0];e:for(;++He<L&&ze.length<he;){var wt=Le[He],Dt=h?h(wt):wt;if(wt=S||wt!==0?wt:0,!(ot?Xl(ot,Dt):M(ze,Dt,S))){for(ne=W;--ne;){var tn=le[ne];if(!(tn?Xl(tn,Dt):M(c[ne],Dt,S)))continue e}ot&&ot.push(Dt),ze.push(wt)}}return ze}function Gh(c,h,S,M){return Ls(c,function(L,W,ne){h(M,S(L),W,ne)}),M}function $u(c,h,S){h=Cl(h,c),c=yp(c,h);var M=c==null?c:c[br(Sr(h))];return M==null?t:Cn(M,c,S)}function hg(c){return li(c)&&tr(c)==tt}function pg(c){return li(c)&&tr(c)==kt}function mg(c){return li(c)&&tr(c)==Ke}function Fu(c,h,S,M,L){return c===h?!0:c==null||h==null||!li(c)&&!li(h)?c!==c&&h!==h:Wh(c,h,S,M,Fu,L)}function Wh(c,h,S,M,L,W){var ne=Gt(c),le=Gt(h),he=ne?St:yi(c),ze=le?St:yi(h);he=he==tt?Ct:he,ze=ze==tt?Ct:ze;var Le=he==Ct,He=ze==Ct,ot=he==ze;if(ot&&ya(c)){if(!ya(h))return!1;ne=!0,Le=!1}if(ot&&!Le)return W||(W=new io),ne||mo(c)?fa(c,h,S,M,L,W):nr(c,h,he,S,M,L,W);if(!(S&O)){var wt=Le&&Tn.call(c,"__wrapped__"),Dt=He&&Tn.call(h,"__wrapped__");if(wt||Dt){var tn=wt?c.value():c,zt=Dt?h.value():h;return W||(W=new io),L(tn,zt,S,M,W)}}return ot?(W||(W=new io),Ld(c,h,S,M,L,W)):!1}function gg(c){return li(c)&&yi(c)==nt}function Cd(c,h,S,M){var L=S.length,W=L,ne=!M;if(c==null)return!W;for(c=Vt(c);L--;){var le=S[L];if(ne&&le[2]?le[1]!==c[le[0]]:!(le[0]in c))return!1}for(;++L<W;){le=S[L];var he=le[0],ze=c[he],Le=le[1];if(ne&&le[2]){if(ze===t&&!(he in c))return!1}else{var He=new io;if(M)var ot=M(ze,Le,he,c,h,He);if(!(ot===t?Fu(Le,ze,O|k,M,He):ot))return!1}}return!0}function Vh(c){if(!Kn(c)||gp(c))return!1;var h=Dl(c)?fd:xs;return h.test(Pr(c))}function vg(c){return li(c)&&tr(c)==cn}function yg(c){return li(c)&&yi(c)==mt}function Jy(c){return li(c)&&Xd(c.length)&&!!on[tr(c)]}function qh(c){return typeof c=="function"?c:c==null?wn:typeof c=="object"?Gt(c)?Td(c[0],c[1]):Yh(c):SS(c)}function oa(c){if(!si(c))return vr(c);var h=[];for(var S in Vt(c))Tn.call(c,S)&&S!="constructor"&&h.push(S);return h}function bg(c){if(!Kn(c))return bi(c);var h=si(c),S=[];for(var M in c)M=="constructor"&&(h||!Tn.call(c,M))||S.push(M);return S}function Uu(c,h){return c<h}function qc(c,h){var S=-1,M=Yt(c)?de(c.length):[];return sa(c,function(L,W,ne){M[++S]=h(L,W,ne)}),M}function Yh(c){var h=of(c);return h.length==1&&h[0][2]?Dg(h[0][0],h[0][1]):function(S){return S===c||Cd(S,c,h)}}function Td(c,h){return tc(c)&&vp(h)?Dg(br(c),h):function(S){var M=hc(S,c);return M===t&&M===h?om(S,c):Fu(h,M,O|k)}}function Yc(c,h,S,M,L){c!==h&&Za(h,function(W,ne){if(L||(L=new io),Kn(W))Sg(c,h,ne,S,Yc,M,L);else{var le=M?M(bp(c,ne),W,ne+"",c,h,L):t;le===t&&(le=W),En(c,ne,le)}},wr)}function Sg(c,h,S,M,L,W,ne){var le=bp(c,S),he=bp(h,S),ze=ne.get(he);if(ze){En(c,S,ze);return}var Le=W?W(le,he,S+"",c,h,ne):t,He=Le===t;if(He){var ot=Gt(he),wt=!ot&&ya(he),Dt=!ot&&!wt&&mo(he);Le=he,ot||wt||Dt?Gt(le)?Le=le:Jn(le)?Le=yr(le):wt?(He=!1,Le=sp(he,!0)):Dt?(He=!1,Le=op(he,!0)):Le=[]:sr(he)||va(he)?(Le=le,va(le)?Le=cc(le):(!Kn(le)||Dl(le))&&(Le=Lr(he))):He=!1}He&&(ne.set(he,Le),L(Le,he,M,W,ne),ne.delete(he)),En(c,S,Le)}function Xh(c,h){var S=c.length;if(S)return h+=h<0?S:0,fo(h,S)?c[h]:t}function Kh(c,h,S){h.length?h=Y(h,function(W){return Gt(W)?function(ne){return _l(ne,W.length===1?W[0]:W)}:W}):h=[wn];var M=-1;h=Y(h,ci(Tt()));var L=qc(c,function(W,ne,le){var he=Y(h,function(ze){return ze(W)});return{criteria:he,index:++M,value:W}});return yt(L,function(W,ne){return Yi(W,ne,S)})}function Zh(c,h){return Qh(c,h,function(S,M){return om(c,M)})}function Qh(c,h,S){for(var M=-1,L=h.length,W={};++M<L;){var ne=h[M],le=_l(c,ne);S(le,ne)&&Gu(W,Cl(ne,c),le)}return W}function wg(c){return function(h){return _l(h,c)}}function Xc(c,h,S,M){var L=M?In:Bt,W=-1,ne=h.length,le=c;for(c===h&&(h=yr(h)),S&&(le=Y(c,ci(S)));++W<ne;)for(var he=0,ze=h[W],Le=S?S(ze):ze;(he=L(le,Le,he,M))>-1;)le!==c&&gr.call(le,he,1),gr.call(c,he,1);return c}function Jh(c,h){for(var S=c?h.length:0,M=S-1;S--;){var L=h[S];if(S==M||L!==W){var W=L;fo(L)?gr.call(c,L,1):Go(c,L)}}return c}function Ed(c,h){return c+zs(hd()*(h-c+1))}function e0(c,h,S,M){for(var L=-1,W=ln(Ds((h-c)/(S||1)),0),ne=de(W);W--;)ne[M?W:++L]=c,c+=S;return ne}function Kc(c,h){var S="";if(!c||h<1||h>Ze)return S;do h%2&&(S+=c),h=zs(h/2),h&&(c+=c);while(h);return S}function Kt(c,h){return is(Yo(c,h,wn),c+"")}function _g(c){return Hh(cs(c))}function ep(c,h){var S=cs(c);return af(S,Ka(h,0,S.length))}function Gu(c,h,S,M){if(!Kn(c))return c;h=Cl(h,c);for(var L=-1,W=h.length,ne=W-1,le=c;le!=null&&++L<W;){var he=br(h[L]),ze=S;if(he==="__proto__"||he==="constructor"||he==="prototype")return c;if(L!=ne){var Le=le[he];ze=M?M(Le,he,le):t,ze===t&&(ze=Kn(Le)?Le:fo(h[L+1])?[]:{})}Yn(le,he,ze),le=le[he]}return c}var tp=Bc?function(c,h){return Bc.set(c,h),c}:wn,t0=Ga?function(c,h){return Ga(c,"toString",{configurable:!0,enumerable:!1,value:ht(h),writable:!0})}:wn;function n0(c){return af(cs(c))}function es(c,h,S){var M=-1,L=c.length;h<0&&(h=-h>L?0:L+h),S=S>L?L:S,S<0&&(S+=L),L=h>S?0:S-h>>>0,h>>>=0;for(var W=de(L);++M<L;)W[M]=c[M+h];return W}function Zc(c,h){var S;return sa(c,function(M,L,W){return S=h(M,L,W),!S}),!!S}function Wu(c,h,S){var M=0,L=c==null?M:c.length;if(typeof h=="number"&&h===h&&L<=et){for(;M<L;){var W=M+L>>>1,ne=c[W];ne!==null&&!us(ne)&&(S?ne<=h:ne<h)?M=W+1:L=W}return L}return Vu(c,h,wn,S)}function Vu(c,h,S,M){var L=0,W=c==null?0:c.length;if(W===0)return 0;h=S(h);for(var ne=h!==h,le=h===null,he=us(h),ze=h===t;L<W;){var Le=zs((L+W)/2),He=S(c[Le]),ot=He!==t,wt=He===null,Dt=He===He,tn=us(He);if(ne)var zt=M||Dt;else ze?zt=Dt&&(M||ot):le?zt=Dt&&ot&&(M||!wt):he?zt=Dt&&ot&&!wt&&(M||!tn):wt||tn?zt=!1:zt=M?He<=h:He<h;zt?L=Le+1:W=Le}return Nt(W,rt)}function np(c,h){for(var S=-1,M=c.length,L=0,W=[];++S<M;){var ne=c[S],le=h?h(ne):ne;if(!S||!Is(le,he)){var he=le;W[L++]=ne===0?0:ne}}return W}function ip(c){return typeof c=="number"?c:us(c)?ie:+c}function ri(c){if(typeof c=="string")return c;if(Gt(c))return Y(c,ri)+"";if(us(c))return $c?$c.call(c):"";var h=c+"";return h=="0"&&1/c==-1/0?"-0":h}function Nr(c,h,S){var M=-1,L=I,W=c.length,ne=!0,le=[],he=le;if(S)ne=!1,L=P;else if(W>=r){var ze=h?null:ca(c);if(ze)return z(ze);ne=!1,L=Xl,he=new wl}else he=h?[]:le;e:for(;++M<W;){var Le=c[M],He=h?h(Le):Le;if(Le=S||Le!==0?Le:0,ne&&He===He){for(var ot=he.length;ot--;)if(he[ot]===He)continue e;h&&he.push(He),le.push(Le)}else L(he,He,S)||(he!==le&&he.push(He),le.push(Le))}return le}function Go(c,h){return h=Cl(h,c),c=yp(c,h),c==null||delete c[br(Sr(h))]}function la(c,h,S,M){return Gu(c,h,S(_l(c,h)),M)}function qu(c,h,S,M){for(var L=c.length,W=M?L:-1;(M?W--:++W<L)&&h(c[W],W,c););return S?es(c,M?0:W,M?W+1:L):es(c,M?W+1:0,M?L:W)}function Rd(c,h){var S=c;return S instanceof qt&&(S=S.value()),be(h,function(M,L){return L.func.apply(L.thisArg,oe([M],L.args))},S)}function Md(c,h,S){var M=c.length;if(M<2)return M?Nr(c[0]):[];for(var L=-1,W=de(M);++L<M;)for(var ne=c[L],le=-1;++le<M;)le!=L&&(W[L]=Bu(W[L]||ne,c[le],h,S));return Nr(vi(W,1),h,S)}function rp(c,h,S){for(var M=-1,L=c.length,W=h.length,ne={};++M<L;){var le=M<W?h[M]:t;S(ne,c[M],le)}return ne}function xl(c){return Jn(c)?c:[]}function Yu(c){return typeof c=="function"?c:wn}function Cl(c,h){return Gt(c)?c:tc(c,h)?[c]:Xo(Rn(c))}var xg=Kt;function Tl(c,h,S){var M=c.length;return S=S===t?M:S,!h&&S>=M?c:es(c,h,S)}var Qc=As||function(c){return Gn.clearTimeout(c)};function sp(c,h){if(h)return c.slice();var S=c.length,M=zh?zh(S):new c.constructor(S);return c.copy(M),M}function Jc(c){var h=new c.constructor(c.byteLength);return new to(h).set(new to(c)),h}function Cg(c,h){var S=h?Jc(c.buffer):c.buffer;return new c.constructor(S,c.byteOffset,c.byteLength)}function Tg(c){var h=new c.constructor(c.source,ka.exec(c));return h.lastIndex=c.lastIndex,h}function i0(c){return vl?Vt(vl.call(c)):{}}function op(c,h){var S=h?Jc(c.buffer):c.buffer;return new c.constructor(S,c.byteOffset,c.length)}function Ei(c,h){if(c!==h){var S=c!==t,M=c===null,L=c===c,W=us(c),ne=h!==t,le=h===null,he=h===h,ze=us(h);if(!le&&!ze&&!W&&c>h||W&&ne&&he&&!le&&!ze||M&&ne&&he||!S&&he||!L)return 1;if(!M&&!W&&!ze&&c<h||ze&&S&&L&&!M&&!W||le&&S&&L||!ne&&L||!he)return-1}return 0}function Yi(c,h,S){for(var M=-1,L=c.criteria,W=h.criteria,ne=L.length,le=S.length;++M<ne;){var he=Ei(L[M],W[M]);if(he){if(M>=le)return he;var ze=S[M];return he*(ze=="desc"?-1:1)}}return c.index-h.index}function lp(c,h,S,M){for(var L=-1,W=c.length,ne=S.length,le=-1,he=h.length,ze=ln(W-ne,0),Le=de(he+ze),He=!M;++le<he;)Le[le]=h[le];for(;++L<ne;)(He||L<W)&&(Le[S[L]]=c[L]);for(;ze--;)Le[le++]=c[L++];return Le}function ap(c,h,S,M){for(var L=-1,W=c.length,ne=-1,le=S.length,he=-1,ze=h.length,Le=ln(W-le,0),He=de(Le+ze),ot=!M;++L<Le;)He[L]=c[L];for(var wt=L;++he<ze;)He[wt+he]=h[he];for(;++ne<le;)(ot||L<W)&&(He[wt+S[ne]]=c[L++]);return He}function yr(c,h){var S=-1,M=c.length;for(h||(h=de(M));++S<M;)h[S]=c[S];return h}function so(c,h,S,M){var L=!S;S||(S={});for(var W=-1,ne=h.length;++W<ne;){var le=h[W],he=M?M(S[le],c[le],le,S,c):t;he===t&&(he=c[le]),L?Jr(S,le,he):Yn(S,le,he)}return S}function Eg(c,h){return so(c,Pd(c),h)}function ef(c,h){return so(c,pp(c),h)}function Xu(c,h){return function(S,M){var L=Gt(S)?Au:ju,W=h?h():{};return L(S,c,Tt(M,2),W)}}function Ja(c){return Kt(function(h,S){var M=-1,L=S.length,W=L>1?S[L-1]:t,ne=L>2?S[2]:t;for(W=c.length>3&&typeof W=="function"?(L--,W):t,ne&&Xi(S[0],S[1],ne)&&(W=L<3?t:W,L=1),h=Vt(h);++M<L;){var le=S[M];le&&c(h,le,M,W)}return h})}function up(c,h){return function(S,M){if(S==null)return S;if(!Yt(S))return c(S,M);for(var L=S.length,W=h?L:-1,ne=Vt(S);(h?W--:++W<L)&&M(ne[W],W,ne)!==!1;);return S}}function cp(c){return function(h,S,M){for(var L=-1,W=Vt(h),ne=M(h),le=ne.length;le--;){var he=ne[c?le:++L];if(S(W[he],he,W)===!1)break}return h}}function fp(c,h,S){var M=h&N,L=Ku(c);function W(){var ne=this&&this!==Gn&&this instanceof W?L:c;return ne.apply(M?S:this,arguments)}return W}function Od(c){return function(h){h=Rn(h);var S=Po(h)?K(h):t,M=S?S[0]:h.charAt(0),L=S?Tl(S,1).join(""):h.slice(1);return M[c]()+L}}function aa(c){return function(h){return be(ei(cm(h).replace(Cu,"")),c,"")}}function Ku(c){return function(){var h=arguments;switch(h.length){case 0:return new c;case 1:return new c(h[0]);case 2:return new c(h[0],h[1]);case 3:return new c(h[0],h[1],h[2]);case 4:return new c(h[0],h[1],h[2],h[3]);case 5:return new c(h[0],h[1],h[2],h[3],h[4]);case 6:return new c(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new c(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var S=yl(c.prototype),M=c.apply(S,h);return Kn(M)?M:S}}function dp(c,h,S){var M=Ku(c);function L(){for(var W=arguments.length,ne=de(W),le=W,he=ts(L);le--;)ne[le]=arguments[le];var ze=W<3&&ne[0]!==he&&ne[W-1]!==he?[]:A(ne,he);if(W-=ze.length,W<S)return ua(c,h,tf,L.placeholder,t,ne,ze,t,t,S-W);var Le=this&&this!==Gn&&this instanceof L?M:c;return Cn(Le,this,ne)}return L}function Ad(c){return function(h,S,M){var L=Vt(h);if(!Yt(h)){var W=Tt(S,3);h=Ri(h),S=function(le){return W(L[le],le,L)}}var ne=c(h,S,M);return ne>-1?L[W?h[ne]:ne]:t}}function kd(c){return Vo(function(h){var S=h.length,M=S,L=Qr.prototype.thru;for(c&&h.reverse();M--;){var W=h[M];if(typeof W!="function")throw new Bi(a);if(L&&!ne&&uo(W)=="wrapper")var ne=new Qr([],!0)}for(M=ne?M:S;++M<S;){W=h[M];var le=uo(W),he=le=="wrapper"?sf(W):t;he&&Xn(he[0])&&he[1]==(G|Z|se|ue)&&!he[4].length&&he[9]==1?ne=ne[uo(he[0])].apply(ne,he[3]):ne=W.length==1&&Xn(W)?ne[le]():ne.thru(W)}return function(){var ze=arguments,Le=ze[0];if(ne&&ze.length==1&&Gt(Le))return ne.plant(Le).value();for(var He=0,ot=S?h[He].apply(this,ze):Le;++He<S;)ot=h[He].call(this,ot);return ot}})}function tf(c,h,S,M,L,W,ne,le,he,ze){var Le=h&G,He=h&N,ot=h&H,wt=h&(Z|J),Dt=h&ge,tn=ot?t:Ku(c);function zt(){for(var un=arguments.length,vn=de(un),go=un;go--;)vn[go]=arguments[go];if(wt)var fs=ts(zt),vo=kh(vn,fs);if(M&&(vn=lp(vn,M,L,wt)),W&&(vn=ap(vn,W,ne,wt)),un-=vo,wt&&un<ze){var Mi=A(vn,fs);return ua(c,h,tf,zt.placeholder,S,vn,Mi,le,he,ze-un)}var Ll=He?S:this,lu=ot?Ll[c]:c;return un=vn.length,le?vn=Lg(vn,le):Dt&&un>1&&vn.reverse(),Le&&he<un&&(vn.length=he),this&&this!==Gn&&this instanceof zt&&(lu=tn||Ku(lu)),lu.apply(Ll,vn)}return zt}function Dd(c,h){return function(S,M){return Gh(S,c,h(M),{})}}function nf(c,h){return function(S,M){var L;if(S===t&&M===t)return h;if(S!==t&&(L=S),M!==t){if(L===t)return M;typeof S=="string"||typeof M=="string"?(S=ri(S),M=ri(M)):(S=ip(S),M=ip(M)),L=c(S,M)}return L}}function oo(c){return Vo(function(h){return h=Y(h,ci(Tt())),Kt(function(S){var M=this;return c(h,function(L){return Cn(L,M,S)})})})}function Zu(c,h){h=h===t?" ":ri(h);var S=h.length;if(S<2)return S?Kc(h,c):h;var M=Kc(h,Ds(c/re(h)));return Po(h)?Tl(K(M),0,c).join(""):M.slice(0,c)}function r0(c,h,S,M){var L=h&N,W=Ku(c);function ne(){for(var le=-1,he=arguments.length,ze=-1,Le=M.length,He=de(Le+he),ot=this&&this!==Gn&&this instanceof ne?W:c;++ze<Le;)He[ze]=M[ze];for(;he--;)He[ze++]=arguments[++le];return Cn(ot,L?S:this,He)}return ne}function hp(c){return function(h,S,M){return M&&typeof M!="number"&&Xi(h,S,M)&&(S=M=t),h=zl(h),S===t?(S=h,h=0):S=zl(S),M=M===t?h<S?1:-1:zl(M),e0(h,S,M,c)}}function Qu(c){return function(h,S){return typeof h=="string"&&typeof S=="string"||(h=Zi(h),S=Zi(S)),c(h,S)}}function ua(c,h,S,M,L,W,ne,le,he,ze){var Le=h&Z,He=Le?ne:t,ot=Le?t:ne,wt=Le?W:t,Dt=Le?t:W;h|=Le?se:me,h&=~(Le?me:se),h&V||(h&=-4);var tn=[c,h,L,wt,He,Dt,ot,le,he,ze],zt=S.apply(t,tn);return Xn(c)&&Id(zt,tn),zt.placeholder=M,Sp(zt,c,h)}function lo(c){var h=Ht[c];return function(S,M){if(S=Zi(S),M=M==null?0:Nt(Xt(M),292),M&&dd(S)){var L=(Rn(S)+"e").split("e"),W=h(L[0]+"e"+(+L[1]+M));return L=(Rn(W)+"e").split("e"),+(L[0]+"e"+(+L[1]-M))}return h(S)}}var ca=$o&&1/z(new $o([,-0]))[1]==Je?function(c){return new $o(c)}:H0;function Wo(c){return function(h){var S=yi(h);return S==nt?w(h):S==mt?j(h):ji(h,c(h))}}function ao(c,h,S,M,L,W,ne,le){var he=h&H;if(!he&&typeof c!="function")throw new Bi(a);var ze=M?M.length:0;if(ze||(h&=-97,M=L=t),ne=ne===t?ne:ln(Xt(ne),0),le=le===t?le:Xt(le),ze-=L?L.length:0,h&me){var Le=M,He=L;M=L=t}var ot=he?t:sf(c),wt=[c,h,S,M,L,Le,He,W,ne,le];if(ot&&Ng(wt,ot),c=wt[0],h=wt[1],S=wt[2],M=wt[3],L=wt[4],le=wt[9]=wt[9]===t?he?0:c.length:ln(wt[9]-ze,0),!le&&h&(Z|J)&&(h&=-25),!h||h==N)var Dt=fp(c,h,S);else h==Z||h==J?Dt=dp(c,h,le):(h==se||h==(N|se))&&!L.length?Dt=r0(c,h,S,M):Dt=tf.apply(t,wt);var tn=ot?tp:Id;return Sp(tn(Dt,wt),c,h)}function zd(c,h,S,M){return c===t||Is(c,Du[S])&&!Tn.call(M,S)?h:c}function Ju(c,h,S,M,L,W){return Kn(c)&&Kn(h)&&(W.set(h,c),Yc(c,h,t,Ju,W),W.delete(h)),c}function Nd(c){return sr(c)?t:c}function fa(c,h,S,M,L,W){var ne=S&O,le=c.length,he=h.length;if(le!=he&&!(ne&&he>le))return!1;var ze=W.get(c),Le=W.get(h);if(ze&&Le)return ze==h&&Le==c;var He=-1,ot=!0,wt=S&k?new wl:t;for(W.set(c,h),W.set(h,c);++He<le;){var Dt=c[He],tn=h[He];if(M)var zt=ne?M(tn,Dt,He,h,c,W):M(Dt,tn,He,c,h,W);if(zt!==t){if(zt)continue;ot=!1;break}if(wt){if(!De(h,function(un,vn){if(!Xl(wt,vn)&&(Dt===un||L(Dt,un,S,M,W)))return wt.push(vn)})){ot=!1;break}}else if(!(Dt===tn||L(Dt,tn,S,M,W))){ot=!1;break}}return W.delete(c),W.delete(h),ot}function nr(c,h,S,M,L,W,ne){switch(S){case Wt:if(c.byteLength!=h.byteLength||c.byteOffset!=h.byteOffset)return!1;c=c.buffer,h=h.buffer;case kt:return!(c.byteLength!=h.byteLength||!W(new to(c),new to(h)));case At:case Ke:case pt:return Is(+c,+h);case xn:return c.name==h.name&&c.message==h.message;case cn:case ti:return c==h+"";case nt:var le=w;case mt:var he=M&O;if(le||(le=z),c.size!=h.size&&!he)return!1;var ze=ne.get(c);if(ze)return ze==h;M|=k,ne.set(c,h);var Le=fa(le(c),le(h),M,L,W,ne);return ne.delete(c),Le;case Pn:if(vl)return vl.call(c)==vl.call(h)}return!1}function Ld(c,h,S,M,L,W){var ne=S&O,le=qo(c),he=le.length,ze=qo(h),Le=ze.length;if(he!=Le&&!ne)return!1;for(var He=he;He--;){var ot=le[He];if(!(ne?ot in h:Tn.call(h,ot)))return!1}var wt=W.get(c),Dt=W.get(h);if(wt&&Dt)return wt==h&&Dt==c;var tn=!0;W.set(c,h),W.set(h,c);for(var zt=ne;++He<he;){ot=le[He];var un=c[ot],vn=h[ot];if(M)var go=ne?M(vn,un,ot,h,c,W):M(un,vn,ot,c,h,W);if(!(go===t?un===vn||L(un,vn,S,M,W):go)){tn=!1;break}zt||(zt=ot=="constructor")}if(tn&&!zt){var fs=c.constructor,vo=h.constructor;fs!=vo&&"constructor"in c&&"constructor"in h&&!(typeof fs=="function"&&fs instanceof fs&&typeof vo=="function"&&vo instanceof vo)&&(tn=!1)}return W.delete(c),W.delete(h),tn}function Vo(c){return is(Yo(c,t,ss),c+"")}function qo(c){return wd(c,Ri,Pd)}function rf(c){return wd(c,wr,pp)}var sf=Bc?function(c){return Bc.get(c)}:H0;function uo(c){for(var h=c.name+"",S=Ql[h],M=Tn.call(Ql,h)?S.length:0;M--;){var L=S[M],W=L.func;if(W==null||W==c)return L.name}return h}function ts(c){var h=Tn.call($,"placeholder")?$:c;return h.placeholder}function Tt(){var c=$.iteratee||hn;return c=c===hn?qh:c,arguments.length?c(arguments[0],arguments[1]):c}function ec(c,h){var S=c.__data__;return El(h)?S[typeof h=="string"?"string":"hash"]:S.map}function of(c){for(var h=Ri(c),S=h.length;S--;){var M=h[S],L=c[M];h[S]=[M,L,vp(L)]}return h}function co(c,h){var S=Ic(c,h);return Vh(S)?S:t}function lf(c){var h=Tn.call(c,Bo),S=c[Bo];try{c[Bo]=t;var M=!0}catch{}var L=mr.call(c);return M&&(h?c[Bo]=S:delete c[Bo]),L}var Pd=hl?function(c){return c==null?[]:(c=Vt(c),Ii(hl(c),function(h){return Nh.call(c,h)}))}:$0,pp=hl?function(c){for(var h=[];c;)oe(h,Pd(c)),c=$a(c);return h}:$0,yi=tr;(pd&&yi(new pd(new ArrayBuffer(1)))!=Wt||Nu&&yi(new Nu)!=nt||qa&&yi(qa.resolve())!=sn||$o&&yi(new $o)!=mt||pl&&yi(new pl)!=ni)&&(yi=function(c){var h=tr(c),S=h==Ct?c.constructor:t,M=S?Pr(S):"";if(M)switch(M){case rg:return Wt;case md:return nt;case sg:return sn;case Hc:return mt;case og:return ni}return h});function da(c,h,S){for(var M=-1,L=S.length;++M<L;){var W=S[M],ne=W.size;switch(W.type){case"drop":c+=ne;break;case"dropRight":h-=ne;break;case"take":h=Nt(h,c+ne);break;case"takeRight":c=ln(c,h-ne);break}}return{start:c,end:h}}function Rg(c){var h=c.match(Wr);return h?h[1].split(_s):[]}function mp(c,h,S){h=Cl(h,c);for(var M=-1,L=h.length,W=!1;++M<L;){var ne=br(h[M]);if(!(W=c!=null&&S(c,ne)))break;c=c[ne]}return W||++M!=L?W:(L=c==null?0:c.length,!!L&&Xd(L)&&fo(ne,L)&&(Gt(c)||va(c)))}function eu(c){var h=c.length,S=new c.constructor(h);return h&&typeof c[0]=="string"&&Tn.call(c,"index")&&(S.index=c.index,S.input=c.input),S}function Lr(c){return typeof c.constructor=="function"&&!si(c)?yl($a(c)):{}}function Mg(c,h,S){var M=c.constructor;switch(h){case kt:return Jc(c);case At:case Ke:return new M(+c);case Wt:return Cg(c,S);case Dn:case Bn:case zn:case Hn:case ai:case An:case Si:case hi:case pi:return op(c,S);case nt:return new M;case pt:case ti:return new M(c);case cn:return Tg(c);case mt:return new M;case Pn:return i0(c)}}function Og(c,h){var S=h.length;if(!S)return c;var M=S-1;return h[M]=(S>1?"& ":"")+h[M],h=h.join(S>2?", ":" "),c.replace(ws,`{
/* [wrapped with `+h+`] */
`)}function Ag(c){return Gt(c)||va(c)||!!(Ua&&c&&c[Ua])}function fo(c,h){var S=typeof c;return h=h??Ze,!!h&&(S=="number"||S!="symbol"&&Vr.test(c))&&c>-1&&c%1==0&&c<h}function Xi(c,h,S){if(!Kn(S))return!1;var M=typeof h;return(M=="number"?Yt(S)&&fo(h,S.length):M=="string"&&h in S)?Is(S[h],c):!1}function tc(c,h){if(Gt(c))return!1;var S=typeof c;return S=="number"||S=="symbol"||S=="boolean"||c==null||us(c)?!0:Gr.test(c)||!bu.test(c)||h!=null&&c in Vt(h)}function El(c){var h=typeof c;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?c!=="__proto__":c===null}function Xn(c){var h=uo(c),S=$[h];if(typeof S!="function"||!(h in qt.prototype))return!1;if(c===S)return!0;var M=sf(S);return!!M&&c===M[0]}function gp(c){return!!Os&&Os in c}var kg=cd?Dl:F0;function si(c){var h=c&&c.constructor,S=typeof h=="function"&&h.prototype||Du;return c===S}function vp(c){return c===c&&!Kn(c)}function Dg(c,h){return function(S){return S==null?!1:S[c]===h&&(h!==t||c in Vt(S))}}function zg(c){var h=bf(c,function(M){return S.size===m&&S.clear(),M}),S=h.cache;return h}function Ng(c,h){var S=c[1],M=h[1],L=S|M,W=L<(N|H|G),ne=M==G&&S==Z||M==G&&S==ue&&c[7].length<=h[8]||M==(G|ue)&&h[7].length<=h[8]&&S==Z;if(!(W||ne))return c;M&N&&(c[2]=h[2],L|=S&N?0:V);var le=h[3];if(le){var he=c[3];c[3]=he?lp(he,le,h[4]):le,c[4]=he?A(c[3],y):h[4]}return le=h[5],le&&(he=c[5],c[5]=he?ap(he,le,h[6]):le,c[6]=he?A(c[5],y):h[6]),le=h[7],le&&(c[7]=le),M&G&&(c[8]=c[8]==null?h[8]:Nt(c[8],h[8])),c[9]==null&&(c[9]=h[9]),c[0]=h[0],c[1]=L,c}function bi(c){var h=[];if(c!=null)for(var S in Vt(c))h.push(S);return h}function ns(c){return mr.call(c)}function Yo(c,h,S){return h=ln(h===t?c.length-1:h,0),function(){for(var M=arguments,L=-1,W=ln(M.length-h,0),ne=de(W);++L<W;)ne[L]=M[h+L];L=-1;for(var le=de(h+1);++L<h;)le[L]=M[L];return le[h]=S(ne),Cn(c,this,le)}}function yp(c,h){return h.length<2?c:_l(c,es(h,0,-1))}function Lg(c,h){for(var S=c.length,M=Nt(h.length,S),L=yr(c);M--;){var W=h[M];c[M]=fo(W,S)?L[W]:t}return c}function bp(c,h){if(!(h==="constructor"&&typeof c[h]=="function")&&h!="__proto__")return c[h]}var Id=rs(tp),ir=Wa||function(c,h){return Gn.setTimeout(c,h)},is=rs(t0);function Sp(c,h,S){var M=h+"";return is(c,Og(M,wp(Rg(M),S)))}function rs(c){var h=0,S=0;return function(){var M=no(),L=ke-(M-S);if(S=M,L>0){if(++h>=Xe)return arguments[0]}else h=0;return c.apply(t,arguments)}}function af(c,h){var S=-1,M=c.length,L=M-1;for(h=h===t?M:h;++S<h;){var W=Ed(S,L),ne=c[W];c[W]=c[S],c[S]=ne}return c.length=h,c}var Xo=zg(function(c){var h=[];return c.charCodeAt(0)===46&&h.push(""),c.replace(Us,function(S,M,L,W){h.push(L?W.replace(Fi,"$1"):M||S)}),h});function br(c){if(typeof c=="string"||us(c))return c;var h=c+"";return h=="0"&&1/c==-1/0?"-0":h}function Pr(c){if(c!=null){try{return jc.call(c)}catch{}try{return c+""}catch{}}return""}function wp(c,h){return Pi(Fe,function(S){var M="_."+S[0];h&S[1]&&!I(c,M)&&c.push(M)}),c.sort()}function jd(c){if(c instanceof qt)return c.clone();var h=new Qr(c.__wrapped__,c.__chain__);return h.__actions__=yr(c.__actions__),h.__index__=c.__index__,h.__values__=c.__values__,h}function ha(c,h,S){(S?Xi(c,h,S):h===t)?h=1:h=ln(Xt(h),0);var M=c==null?0:c.length;if(!M||h<1)return[];for(var L=0,W=0,ne=de(Ds(M/h));L<M;)ne[W++]=es(c,L,L+=h);return ne}function Pg(c){for(var h=-1,S=c==null?0:c.length,M=0,L=[];++h<S;){var W=c[h];W&&(L[M++]=W)}return L}function nc(){var c=arguments.length;if(!c)return[];for(var h=de(c-1),S=arguments[0],M=c;M--;)h[M-1]=arguments[M];return oe(Gt(S)?yr(S):[S],vi(h,1))}var uf=Kt(function(c,h){return Jn(c)?Bu(c,vi(h,1,Jn,!0)):[]}),cf=Kt(function(c,h){var S=Sr(h);return Jn(S)&&(S=t),Jn(c)?Bu(c,vi(h,1,Jn,!0),Tt(S,2)):[]}),ic=Kt(function(c,h){var S=Sr(h);return Jn(S)&&(S=t),Jn(c)?Bu(c,vi(h,1,Jn,!0),t,S):[]});function Ig(c,h,S){var M=c==null?0:c.length;return M?(h=S||h===t?1:Xt(h),es(c,h<0?0:h,M)):[]}function jg(c,h,S){var M=c==null?0:c.length;return M?(h=S||h===t?1:Xt(h),h=M-h,es(c,0,h<0?0:h)):[]}function ff(c,h){return c&&c.length?qu(c,Tt(h,3),!0,!0):[]}function Bg(c,h){return c&&c.length?qu(c,Tt(h,3),!0):[]}function Bd(c,h,S,M){var L=c==null?0:c.length;return L?(S&&typeof S!="number"&&Xi(c,h,S)&&(S=0,M=L),zr(c,h,S,M)):[]}function _p(c,h,S){var M=c==null?0:c.length;if(!M)return-1;var L=S==null?0:Xt(S);return L<0&&(L=ln(M+L,0)),jt(c,Tt(h,3),L)}function Hg(c,h,S){var M=c==null?0:c.length;if(!M)return-1;var L=M-1;return S!==t&&(L=Xt(S),L=S<0?ln(M+L,0):Nt(L,M-1)),jt(c,Tt(h,3),L,!0)}function ss(c){var h=c==null?0:c.length;return h?vi(c,1):[]}function xp(c){var h=c==null?0:c.length;return h?vi(c,Je):[]}function pa(c,h){var S=c==null?0:c.length;return S?(h=h===t?1:Xt(h),vi(c,h)):[]}function $g(c){for(var h=-1,S=c==null?0:c.length,M={};++h<S;){var L=c[h];M[L[0]]=L[1]}return M}function df(c){return c&&c.length?c[0]:t}function tu(c,h,S){var M=c==null?0:c.length;if(!M)return-1;var L=S==null?0:Xt(S);return L<0&&(L=ln(M+L,0)),Bt(c,h,L)}function Fg(c){var h=c==null?0:c.length;return h?es(c,0,-1):[]}var Cp=Kt(function(c){var h=Y(c,xl);return h.length&&h[0]===c[0]?xd(h):[]}),Tp=Kt(function(c){var h=Sr(c),S=Y(c,xl);return h===Sr(S)?h=t:S.pop(),S.length&&S[0]===c[0]?xd(S,Tt(h,2)):[]}),Rl=Kt(function(c){var h=Sr(c),S=Y(c,xl);return h=typeof h=="function"?h:t,h&&S.pop(),S.length&&S[0]===c[0]?xd(S,t,h):[]});function Ug(c,h){return c==null?"":Lh.call(c,h)}function Sr(c){var h=c==null?0:c.length;return h?c[h-1]:t}function hf(c,h,S){var M=c==null?0:c.length;if(!M)return-1;var L=M;return S!==t&&(L=Xt(S),L=L<0?ln(M+L,0):Nt(L,M-1)),h===h?X(c,h,L):jt(c,Wn,L,!0)}function Zn(c,h){return c&&c.length?Xh(c,Xt(h)):t}var s0=Kt(Gg);function Gg(c,h){return c&&c.length&&h&&h.length?Xc(c,h):c}function Wg(c,h,S){return c&&c.length&&h&&h.length?Xc(c,h,Tt(S,2)):c}function o0(c,h,S){return c&&c.length&&h&&h.length?Xc(c,h,t,S):c}var l0=Vo(function(c,h){var S=c==null?0:c.length,M=ra(c,h);return Jh(c,Y(h,function(L){return fo(L,S)?+L:L}).sort(Ei)),M});function Qn(c,h){var S=[];if(!(c&&c.length))return S;var M=-1,L=[],W=c.length;for(h=Tt(h,3);++M<W;){var ne=c[M];h(ne,M,c)&&(S.push(ne),L.push(M))}return Jh(c,L),S}function Nn(c){return c==null?c:Va.call(c)}function nn(c,h,S){var M=c==null?0:c.length;return M?(S&&typeof S!="number"&&Xi(c,h,S)?(h=0,S=M):(h=h==null?0:Xt(h),S=S===t?M:Xt(S)),es(c,h,S)):[]}function dn(c,h){return Wu(c,h)}function Fn(c,h,S){return Vu(c,h,Tt(S,2))}function ls(c,h){var S=c==null?0:c.length;if(S){var M=Wu(c,h);if(M<S&&Is(c[M],h))return M}return-1}function Ml(c,h){return Wu(c,h,!0)}function rc(c,h,S){return Vu(c,h,Tt(S,2),!0)}function Ep(c,h){var S=c==null?0:c.length;if(S){var M=Wu(c,h,!0)-1;if(Is(c[M],h))return M}return-1}function Ol(c){return c&&c.length?np(c):[]}function oi(c,h){return c&&c.length?np(c,Tt(h,2)):[]}function ma(c){var h=c==null?0:c.length;return h?es(c,1,h):[]}function nu(c,h,S){return c&&c.length?(h=S||h===t?1:Xt(h),es(c,0,h<0?0:h)):[]}function Rp(c,h,S){var M=c==null?0:c.length;return M?(h=S||h===t?1:Xt(h),h=M-h,es(c,h<0?0:h,M)):[]}function Ps(c,h){return c&&c.length?qu(c,Tt(h,3),!1,!0):[]}function sc(c,h){return c&&c.length?qu(c,Tt(h,3)):[]}var pf=Kt(function(c){return Nr(vi(c,1,Jn,!0))}),Ko=Kt(function(c){var h=Sr(c);return Jn(h)&&(h=t),Nr(vi(c,1,Jn,!0),Tt(h,2))}),Mp=Kt(function(c){var h=Sr(c);return h=typeof h=="function"?h:t,Nr(vi(c,1,Jn,!0),t,h)});function Op(c){return c&&c.length?Nr(c):[]}function Hd(c,h){return c&&c.length?Nr(c,Tt(h,2)):[]}function $d(c,h){return h=typeof h=="function"?h:t,c&&c.length?Nr(c,t,h):[]}function Zo(c){if(!(c&&c.length))return[];var h=0;return c=Ii(c,function(S){if(Jn(S))return h=ln(S.length,h),!0}),bn(h,function(S){return Y(c,Vi(S))})}function mf(c,h){if(!(c&&c.length))return[];var S=Zo(c);return h==null?S:Y(S,function(M){return Cn(h,t,M)})}var iu=Kt(function(c,h){return Jn(c)?Bu(c,h):[]}),gf=Kt(function(c){return Md(Ii(c,Jn))}),Ap=Kt(function(c){var h=Sr(c);return Jn(h)&&(h=t),Md(Ii(c,Jn),Tt(h,2))}),kp=Kt(function(c){var h=Sr(c);return h=typeof h=="function"?h:t,Md(Ii(c,Jn),t,h)}),vf=Kt(Zo);function Dp(c,h){return rp(c||[],h||[],Yn)}function as(c,h){return rp(c||[],h||[],Gu)}var Vg=Kt(function(c){var h=c.length,S=h>1?c[h-1]:t;return S=typeof S=="function"?(c.pop(),S):t,mf(c,S)});function rr(c){var h=$(c);return h.__chain__=!0,h}function qg(c,h){return h(c),c}function oc(c,h){return h(c)}var Yg=Vo(function(c){var h=c.length,S=h?c[0]:0,M=this.__wrapped__,L=function(W){return ra(W,c)};return h>1||this.__actions__.length||!(M instanceof qt)||!fo(S)?this.thru(L):(M=M.slice(S,+S+(h?1:0)),M.__actions__.push({func:oc,args:[L],thisArg:t}),new Qr(M,this.__chain__).thru(function(W){return h&&!W.length&&W.push(t),W}))});function a0(){return rr(this)}function Al(){return new Qr(this.value(),this.__chain__)}function Fd(){this.__values__===t&&(this.__values__=mv(this.value()));var c=this.__index__>=this.__values__.length,h=c?t:this.__values__[this.__index__++];return{done:c,value:h}}function zp(){return this}function lc(c){for(var h,S=this;S instanceof Fc;){var M=jd(S);M.__index__=0,M.__values__=t,h?L.__wrapped__=M:h=M;var L=M;S=S.__wrapped__}return L.__wrapped__=c,h}function Xg(){var c=this.__wrapped__;if(c instanceof qt){var h=c;return this.__actions__.length&&(h=new qt(this)),h=h.reverse(),h.__actions__.push({func:oc,args:[Nn],thisArg:t}),new Qr(h,this.__chain__)}return this.thru(Nn)}function Kg(){return Rd(this.__wrapped__,this.__actions__)}var Zg=Xu(function(c,h,S){Tn.call(c,S)?++c[S]:Jr(c,S,1)});function Np(c,h,S){var M=Gt(c)?No:Uh;return S&&Xi(c,h,S)&&(h=t),M(c,Tt(h,3))}function Lp(c,h){var S=Gt(c)?Ii:di;return S(c,Tt(h,3))}var u0=Ad(_p),c0=Ad(Hg);function f0(c,h){return vi(kl(c,h),1)}function Qg(c,h){return vi(kl(c,h),Je)}function Jg(c,h,S){return S=S===t?1:Xt(S),vi(kl(c,h),S)}function ru(c,h){var S=Gt(c)?Pi:sa;return S(c,Tt(h,3))}function yf(c,h){var S=Gt(c)?Zr:Sd;return S(c,Tt(h,3))}var ev=Xu(function(c,h,S){Tn.call(c,S)?c[S].push(h):Jr(c,S,[h])});function tv(c,h,S,M){c=Yt(c)?c:cs(c),S=S&&!M?Xt(S):0;var L=c.length;return S<0&&(S=ln(L+S,0)),Qd(c)?S<=L&&c.indexOf(h,S)>-1:!!L&&Bt(c,h,S)>-1}var d0=Kt(function(c,h,S){var M=-1,L=typeof h=="function",W=Yt(c)?de(c.length):[];return sa(c,function(ne){W[++M]=L?Cn(h,ne,S):$u(ne,h,S)}),W}),nv=Xu(function(c,h,S){Jr(c,S,h)});function kl(c,h){var S=Gt(c)?Y:qc;return S(c,Tt(h,3))}function iv(c,h,S,M){return c==null?[]:(Gt(h)||(h=h==null?[]:[h]),S=M?t:S,Gt(S)||(S=S==null?[]:[S]),Kh(c,h,S))}var jn=Xu(function(c,h,S){c[S?0:1].push(h)},function(){return[[],[]]});function Pp(c,h,S){var M=Gt(c)?be:Ge,L=arguments.length<3;return M(c,Tt(h,4),S,L,sa)}function h0(c,h,S){var M=Gt(c)?Me:Ge,L=arguments.length<3;return M(c,Tt(h,4),S,L,Sd)}function rv(c,h){var S=Gt(c)?Ii:di;return S(c,Gd(Tt(h,3)))}function p0(c){var h=Gt(c)?Hh:_g;return h(c)}function m0(c,h,S){(S?Xi(c,h,S):h===t)?h=1:h=Xt(h);var M=Gt(c)?na:ep;return M(c,h)}function g0(c){var h=Gt(c)?Zt:n0;return h(c)}function Ud(c){if(c==null)return 0;if(Yt(c))return Qd(c)?re(c):c.length;var h=yi(c);return h==nt||h==mt?c.size:oa(c).length}function ac(c,h,S){var M=Gt(c)?De:Zc;return S&&Xi(c,h,S)&&(h=t),M(c,Tt(h,3))}var Ip=Kt(function(c,h){if(c==null)return[];var S=h.length;return S>1&&Xi(c,h[0],h[1])?h=[]:S>2&&Xi(h[0],h[1],h[2])&&(h=[h[0]]),Kh(c,vi(h,1),[])}),su=ks||function(){return Gn.Date.now()};function jp(c,h){if(typeof h!="function")throw new Bi(a);return c=Xt(c),function(){if(--c<1)return h.apply(this,arguments)}}function ga(c,h,S){return h=S?t:h,h=c&&h==null?c.length:h,ao(c,G,t,t,t,t,h)}function ho(c,h){var S;if(typeof h!="function")throw new Bi(a);return c=Xt(c),function(){return--c>0&&(S=h.apply(this,arguments)),c<=1&&(h=t),S}}var ou=Kt(function(c,h,S){var M=N;if(S.length){var L=A(S,ts(ou));M|=se}return ao(c,M,h,S,L)}),sv=Kt(function(c,h,S){var M=N|H;if(S.length){var L=A(S,ts(sv));M|=se}return ao(h,M,c,S,L)});function Bp(c,h,S){h=S?t:h;var M=ao(c,Z,t,t,t,t,t,h);return M.placeholder=Bp.placeholder,M}function Hp(c,h,S){h=S?t:h;var M=ao(c,J,t,t,t,t,t,h);return M.placeholder=Hp.placeholder,M}function $p(c,h,S){var M,L,W,ne,le,he,ze=0,Le=!1,He=!1,ot=!0;if(typeof c!="function")throw new Bi(a);h=Zi(h)||0,Kn(S)&&(Le=!!S.leading,He="maxWait"in S,W=He?ln(Zi(S.maxWait)||0,h):W,ot="trailing"in S?!!S.trailing:ot);function wt(Mi){var Ll=M,lu=L;return M=L=t,ze=Mi,ne=c.apply(lu,Ll),ne}function Dt(Mi){return ze=Mi,le=ir(un,h),Le?wt(Mi):ne}function tn(Mi){var Ll=Mi-he,lu=Mi-ze,wS=h-Ll;return He?Nt(wS,W-lu):wS}function zt(Mi){var Ll=Mi-he,lu=Mi-ze;return he===t||Ll>=h||Ll<0||He&&lu>=W}function un(){var Mi=su();if(zt(Mi))return vn(Mi);le=ir(un,tn(Mi))}function vn(Mi){return le=t,ot&&M?wt(Mi):(M=L=t,ne)}function go(){le!==t&&Qc(le),ze=0,M=he=L=le=t}function fs(){return le===t?ne:vn(su())}function vo(){var Mi=su(),Ll=zt(Mi);if(M=arguments,L=this,he=Mi,Ll){if(le===t)return Dt(he);if(He)return Qc(le),le=ir(un,h),wt(he)}return le===t&&(le=ir(un,h)),ne}return vo.cancel=go,vo.flush=fs,vo}var v0=Kt(function(c,h){return Fh(c,1,h)}),Fp=Kt(function(c,h,S){return Fh(c,Zi(h)||0,S)});function ov(c){return ao(c,ge)}function bf(c,h){if(typeof c!="function"||h!=null&&typeof h!="function")throw new Bi(a);var S=function(){var M=arguments,L=h?h.apply(this,M):M[0],W=S.cache;if(W.has(L))return W.get(L);var ne=c.apply(this,M);return S.cache=W.set(L,ne)||W,ne};return S.cache=new(bf.Cache||Sl),S}bf.Cache=Sl;function Gd(c){if(typeof c!="function")throw new Bi(a);return function(){var h=arguments;switch(h.length){case 0:return!c.call(this);case 1:return!c.call(this,h[0]);case 2:return!c.call(this,h[0],h[1]);case 3:return!c.call(this,h[0],h[1],h[2])}return!c.apply(this,h)}}function Up(c){return ho(2,c)}var Gp=xg(function(c,h){h=h.length==1&&Gt(h[0])?Y(h[0],ci(Tt())):Y(vi(h,1),ci(Tt()));var S=h.length;return Kt(function(M){for(var L=-1,W=Nt(M.length,S);++L<W;)M[L]=h[L].call(this,M[L]);return Cn(c,this,M)})}),Wp=Kt(function(c,h){var S=A(h,ts(Wp));return ao(c,se,t,h,S)}),lv=Kt(function(c,h){var S=A(h,ts(lv));return ao(c,me,t,h,S)}),Sf=Vo(function(c,h){return ao(c,ue,t,t,t,h)});function y0(c,h){if(typeof c!="function")throw new Bi(a);return h=h===t?h:Xt(h),Kt(c,h)}function av(c,h){if(typeof c!="function")throw new Bi(a);return h=h==null?0:ln(Xt(h),0),Kt(function(S){var M=S[h],L=Tl(S,0,h);return M&&oe(L,M),Cn(c,this,L)})}function an(c,h,S){var M=!0,L=!0;if(typeof c!="function")throw new Bi(a);return Kn(S)&&(M="leading"in S?!!S.leading:M,L="trailing"in S?!!S.trailing:L),$p(c,h,{leading:M,maxWait:h,trailing:L})}function Vp(c){return ga(c,1)}function Wd(c,h){return Wp(Yu(h),c)}function qp(){if(!arguments.length)return[];var c=arguments[0];return Gt(c)?c:[c]}function uv(c){return Sn(c,R)}function Yp(c,h){return h=typeof h=="function"?h:t,Sn(c,R,h)}function wf(c){return Sn(c,x|R)}function Vd(c,h){return h=typeof h=="function"?h:t,Sn(c,x|R,h)}function uc(c,h){return h==null||bd(c,h,Ri(h))}function Is(c,h){return c===h||c!==c&&h!==h}var b0=Qu(_d),S0=Qu(function(c,h){return c>=h}),va=hg(function(){return arguments}())?hg:function(c){return li(c)&&Tn.call(c,"callee")&&!Nh.call(c,"callee")},Gt=de.isArray,qd=fl?ci(fl):pg;function Yt(c){return c!=null&&Xd(c.length)&&!Dl(c)}function Jn(c){return li(c)&&Yt(c)}function Ki(c){return c===!0||c===!1||li(c)&&tr(c)==At}var ya=ig||F0,Xp=gi?ci(gi):mg;function Kp(c){return li(c)&&c.nodeType===1&&!sr(c)}function Yd(c){if(c==null)return!0;if(Yt(c)&&(Gt(c)||typeof c=="string"||typeof c.splice=="function"||ya(c)||mo(c)||va(c)))return!c.length;var h=yi(c);if(h==nt||h==mt)return!c.size;if(si(c))return!oa(c).length;for(var S in c)if(Tn.call(c,S))return!1;return!0}function cv(c,h){return Fu(c,h)}function fv(c,h,S){S=typeof S=="function"?S:t;var M=S?S(c,h):t;return M===t?Fu(c,h,t,S):!!M}function _f(c){if(!li(c))return!1;var h=tr(c);return h==xn||h==Jt||typeof c.message=="string"&&typeof c.name=="string"&&!sr(c)}function Zp(c){return typeof c=="number"&&dd(c)}function Dl(c){if(!Kn(c))return!1;var h=tr(c);return h==Et||h==Ye||h==kn||h==It}function Qp(c){return typeof c=="number"&&c==Xt(c)}function Xd(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=Ze}function Kn(c){var h=typeof c;return c!=null&&(h=="object"||h=="function")}function li(c){return c!=null&&typeof c=="object"}var dv=Ru?ci(Ru):gg;function Jp(c,h){return c===h||Cd(c,h,of(h))}function em(c,h,S){return S=typeof S=="function"?S:t,Cd(c,h,of(h),S)}function w0(c){return tm(c)&&c!=+c}function _0(c){if(kg(c))throw new Ve(o);return Vh(c)}function po(c){return c===null}function hv(c){return c==null}function tm(c){return typeof c=="number"||li(c)&&tr(c)==pt}function sr(c){if(!li(c)||tr(c)!=Ct)return!1;var h=$a(c);if(h===null)return!0;var S=Tn.call(h,"constructor")&&h.constructor;return typeof S=="function"&&S instanceof S&&jc.call(S)==zu}var Kd=Mu?ci(Mu):vg;function Zd(c){return Qp(c)&&c>=-9007199254740991&&c<=Ze}var Qo=Ou?ci(Ou):yg;function Qd(c){return typeof c=="string"||!Gt(c)&&li(c)&&tr(c)==ti}function us(c){return typeof c=="symbol"||li(c)&&tr(c)==Pn}var mo=Ba?ci(Ba):Jy;function pv(c){return c===t}function x0(c){return li(c)&&yi(c)==ni}function C0(c){return li(c)&&tr(c)==Ut}var T0=Qu(Uu),E0=Qu(function(c,h){return c<=h});function mv(c){if(!c)return[];if(Yt(c))return Qd(c)?K(c):yr(c);if(jo&&c[jo])return g(c[jo]());var h=yi(c),S=h==nt?w:h==mt?z:cs;return S(c)}function zl(c){if(!c)return c===0?c:0;if(c=Zi(c),c===Je||c===-1/0){var h=c<0?-1:1;return h*dt}return c===c?c:0}function Xt(c){var h=zl(c),S=h%1;return h===h?S?h-S:h:0}function nm(c){return c?Ka(Xt(c),0,Ce):0}function Zi(c){if(typeof c=="number")return c;if(us(c))return ie;if(Kn(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=Kn(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=Lo(c);var S=Su.test(c);return S||Gs.test(c)?Tu(c.slice(2),S?2:8):sl.test(c)?ie:+c}function cc(c){return so(c,wr(c))}function gv(c){return c?Ka(Xt(c),-9007199254740991,Ze):c===0?c:0}function Rn(c){return c==null?"":ri(c)}var fc=Ja(function(c,h){if(si(h)||Yt(h)){so(h,Ri(h),c);return}for(var S in h)Tn.call(h,S)&&Yn(c,S,h[S])}),dc=Ja(function(c,h){so(h,wr(h),c)}),xf=Ja(function(c,h,S,M){so(h,wr(h),c,M)}),Jd=Ja(function(c,h,S,M){so(h,Ri(h),c,M)}),im=Vo(ra);function rm(c,h){var S=yl(c);return h==null?S:ia(S,h)}var eh=Kt(function(c,h){c=Vt(c);var S=-1,M=h.length,L=M>2?h[2]:t;for(L&&Xi(h[0],h[1],L)&&(M=1);++S<M;)for(var W=h[S],ne=wr(W),le=-1,he=ne.length;++le<he;){var ze=ne[le],Le=c[ze];(Le===t||Is(Le,Du[ze])&&!Tn.call(c,ze))&&(c[ze]=W[ze])}return c}),vv=Kt(function(c){return c.push(t,Ju),Cn(Ef,t,c)});function yv(c,h){return gt(c,Tt(h,3),Ls)}function R0(c,h){return gt(c,Tt(h,3),ro)}function bv(c,h){return c==null?c:Za(c,Tt(h,3),wr)}function Cf(c,h){return c==null?c:Vc(c,Tt(h,3),wr)}function M0(c,h){return c&&Ls(c,Tt(h,3))}function O0(c,h){return c&&ro(c,Tt(h,3))}function A0(c){return c==null?[]:Qa(c,Ri(c))}function th(c){return c==null?[]:Qa(c,wr(c))}function hc(c,h,S){var M=c==null?t:_l(c,h);return M===t?S:M}function sm(c,h){return c!=null&&mp(c,h,cg)}function om(c,h){return c!=null&&mp(c,h,fg)}var Tf=Dd(function(c,h,S){h!=null&&typeof h.toString!="function"&&(h=mr.call(h)),c[h]=S},ht(wn)),k0=Dd(function(c,h,S){h!=null&&typeof h.toString!="function"&&(h=mr.call(h)),Tn.call(c,h)?c[h].push(S):c[h]=[S]},Tt),Sv=Kt($u);function Ri(c){return Yt(c)?Wc(c):oa(c)}function wr(c){return Yt(c)?Wc(c,!0):bg(c)}function wv(c,h){var S={};return h=Tt(h,3),Ls(c,function(M,L,W){Jr(S,h(M,L,W),M)}),S}function lm(c,h){var S={};return h=Tt(h,3),Ls(c,function(M,L,W){Jr(S,L,h(M,L,W))}),S}var _v=Ja(function(c,h,S){Yc(c,h,S)}),Ef=Ja(function(c,h,S,M){Yc(c,h,S,M)}),D0=Vo(function(c,h){var S={};if(c==null)return S;var M=!1;h=Y(h,function(W){return W=Cl(W,c),M||(M=W.length>1),W}),so(c,rf(c),S),M&&(S=Sn(S,x|T|R,Nd));for(var L=h.length;L--;)Go(S,h[L]);return S});function z0(c,h){return nh(c,Gd(Tt(h)))}var am=Vo(function(c,h){return c==null?{}:Zh(c,h)});function nh(c,h){if(c==null)return{};var S=Y(rf(c),function(M){return[M]});return h=Tt(h),Qh(c,S,function(M,L){return h(M,L[0])})}function ih(c,h,S){h=Cl(h,c);var M=-1,L=h.length;for(L||(L=1,c=t);++M<L;){var W=c==null?t:c[br(h[M])];W===t&&(M=L,W=S),c=Dl(W)?W.call(c):W}return c}function um(c,h,S){return c==null?c:Gu(c,h,S)}function xv(c,h,S,M){return M=typeof M=="function"?M:t,c==null?c:Gu(c,h,S,M)}var rh=Wo(Ri),Nl=Wo(wr);function ba(c,h,S){var M=Gt(c),L=M||ya(c)||mo(c);if(h=Tt(h,4),S==null){var W=c&&c.constructor;L?S=M?new W:[]:Kn(c)?S=Dl(W)?yl($a(c)):{}:S={}}return(L?Pi:Ls)(c,function(ne,le,he){return h(S,ne,le,he)}),S}function Sa(c,h){return c==null?!0:Go(c,h)}function Rf(c,h,S){return c==null?c:la(c,h,Yu(S))}function Mf(c,h,S,M){return M=typeof M=="function"?M:t,c==null?c:la(c,h,Yu(S),M)}function cs(c){return c==null?[]:dl(c,Ri(c))}function N0(c){return c==null?[]:dl(c,wr(c))}function Cv(c,h,S){return S===t&&(S=h,h=t),S!==t&&(S=Zi(S),S=S===S?S:0),h!==t&&(h=Zi(h),h=h===h?h:0),Ka(Zi(c),h,S)}function Of(c,h,S){return h=zl(h),S===t?(S=h,h=0):S=zl(S),c=Zi(c),dg(c,h,S)}function L0(c,h,S){if(S&&typeof S!="boolean"&&Xi(c,h,S)&&(h=S=t),S===t&&(typeof h=="boolean"?(S=h,h=t):typeof c=="boolean"&&(S=c,c=t)),c===t&&h===t?(c=0,h=1):(c=zl(c),h===t?(h=c,c=0):h=zl(h)),c>h){var M=c;c=h,h=M}if(S||c%1||h%1){var L=hd();return Nt(c+L*(h-c+Rs("1e-"+((L+"").length-1))),h)}return Ed(c,h)}var Tv=aa(function(c,h,S){return h=h.toLowerCase(),c+(S?Af(h):h)});function Af(c){return $t(Rn(c).toLowerCase())}function cm(c){return c=Rn(c),c&&c.replace(qr,ku).replace(Ao,"")}function P0(c,h,S){c=Rn(c),h=ri(h);var M=c.length;S=S===t?M:Ka(Xt(S),0,M);var L=S;return S-=h.length,S>=0&&c.slice(S,L)==h}function sh(c){return c=Rn(c),c&&Or.test(c)?c.replace(Hs,ad):c}function oh(c){return c=Rn(c),c&&rl.test(c)?c.replace(xo,"\\$&"):c}var Ev=aa(function(c,h,S){return c+(S?"-":"")+h.toLowerCase()}),kf=aa(function(c,h,S){return c+(S?" ":"")+h.toLowerCase()}),fm=Od("toLowerCase");function lh(c,h,S){c=Rn(c),h=Xt(h);var M=h?re(c):0;if(!h||M>=h)return c;var L=(h-M)/2;return Zu(zs(L),S)+c+Zu(Ds(L),S)}function Rv(c,h,S){c=Rn(c),h=Xt(h);var M=h?re(c):0;return h&&M<h?c+Zu(h-M,S):c}function I0(c,h,S){c=Rn(c),h=Xt(h);var M=h?re(c):0;return h&&M<h?Zu(h-M,S)+c:c}function ah(c,h,S){return S||h==null?h=0:h&&(h=+h),Ho(Rn(c).replace(Co,""),h||0)}function s(c,h,S){return(S?Xi(c,h,S):h===t)?h=1:h=Xt(h),Kc(Rn(c),h)}function l(){var c=arguments,h=Rn(c[0]);return c.length<3?h:h.replace(c[1],c[2])}var u=aa(function(c,h,S){return c+(S?"_":"")+h.toLowerCase()});function p(c,h,S){return S&&typeof S!="number"&&Xi(c,h,S)&&(h=S=t),S=S===t?Ce:S>>>0,S?(c=Rn(c),c&&(typeof h=="string"||h!=null&&!Kd(h))&&(h=ri(h),!h&&Po(c))?Tl(K(c),0,S):c.split(h,S)):[]}var b=aa(function(c,h,S){return c+(S?" ":"")+$t(h)});function C(c,h,S){return c=Rn(c),S=S==null?0:Ka(Xt(S),0,c.length),h=ri(h),c.slice(S,S+h.length)==h}function D(c,h,S){var M=$.templateSettings;S&&Xi(c,h,S)&&(h=t),c=Rn(c),h=xf({},h,M,zd);var L=xf({},h.imports,M.imports,zd),W=Ri(L),ne=dl(L,W),le,he,ze=0,Le=h.interpolate||Yr,He="__p += '",ot=fi((h.escape||Yr).source+"|"+Le.source+"|"+(Le===Fs?Rt:Yr).source+"|"+(h.evaluate||Yr).source+"|$","g"),wt="//# sourceURL="+(Tn.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Do+"]")+`
`;c.replace(ot,function(zt,un,vn,go,fs,vo){return vn||(vn=go),He+=c.slice(ze,vo).replace(Ws,ud),un&&(le=!0,He+=`' +
__e(`+un+`) +
'`),fs&&(he=!0,He+=`';
`+fs+`;
__p += '`),vn&&(He+=`' +
((__t = (`+vn+`)) == null ? '' : __t) +
'`),ze=vo+zt.length,zt}),He+=`';
`;var Dt=Tn.call(h,"variable")&&h.variable;if(!Dt)He=`with (obj) {
`+He+`
}
`;else if(ui.test(Dt))throw new Ve(f);He=(he?He.replace(il,""):He).replace(Ur,"$1").replace(bs,"$1;"),He="function("+(Dt||"obj")+`) {
`+(Dt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(le?", __e = _.escape":"")+(he?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+He+`return __p
}`;var tn=pe(function(){return Mt(W,wt+"return "+He).apply(t,ne)});if(tn.source=He,_f(tn))throw tn;return tn}function U(c){return Rn(c).toLowerCase()}function ee(c){return Rn(c).toUpperCase()}function ce(c,h,S){if(c=Rn(c),c&&(S||h===t))return Lo(c);if(!c||!(h=ri(h)))return c;var M=K(c),L=K(h),W=Kl(M,L),ne=Zl(M,L)+1;return Tl(M,W,ne).join("")}function Ee(c,h,S){if(c=Rn(c),c&&(S||h===t))return c.slice(0,fe(c)+1);if(!c||!(h=ri(h)))return c;var M=K(c),L=Zl(M,K(h))+1;return Tl(M,0,L).join("")}function je(c,h,S){if(c=Rn(c),c&&(S||h===t))return c.replace(Co,"");if(!c||!(h=ri(h)))return c;var M=K(c),L=Kl(M,K(h));return Tl(M,L).join("")}function Se(c,h){var S=xe,M=Pe;if(Kn(h)){var L="separator"in h?h.separator:L;S="length"in h?Xt(h.length):S,M="omission"in h?ri(h.omission):M}c=Rn(c);var W=c.length;if(Po(c)){var ne=K(c);W=ne.length}if(S>=W)return c;var le=S-re(M);if(le<1)return M;var he=ne?Tl(ne,0,le).join(""):c.slice(0,le);if(L===t)return he+M;if(ne&&(le+=he.length-le),Kd(L)){if(c.slice(le).search(L)){var ze,Le=he;for(L.global||(L=fi(L.source,Rn(ka.exec(L))+"g")),L.lastIndex=0;ze=L.exec(Le);)var He=ze.index;he=he.slice(0,He===t?le:He)}}else if(c.indexOf(ri(L),le)!=le){var ot=he.lastIndexOf(L);ot>-1&&(he=he.slice(0,ot))}return he+M}function Te(c){return c=Rn(c),c&&Ss.test(c)?c.replace(Mr,_e):c}var bt=aa(function(c,h,S){return c+(S?" ":"")+h.toUpperCase()}),$t=Od("toUpperCase");function ei(c,h,S){return c=Rn(c),h=S?t:h,h===t?v(c)?We(c):st(c):c.match(h)||[]}var pe=Kt(function(c,h){try{return Cn(c,t,h)}catch(S){return _f(S)?S:new Ve(S)}}),ae=Vo(function(c,h){return Pi(h,function(S){S=br(S),Jr(c,S,ou(c[S],c))}),c});function ye(c){var h=c==null?0:c.length,S=Tt();return c=h?Y(c,function(M){if(typeof M[1]!="function")throw new Bi(a);return[S(M[0]),M[1]]}):[],Kt(function(M){for(var L=-1;++L<h;){var W=c[L];if(Cn(W[0],this,M))return Cn(W[1],this,M)}})}function Ne(c){return $h(Sn(c,x))}function ht(c){return function(){return c}}function en(c,h){return c==null||c!==c?h:c}var xt=kd(),Ot=kd(!0);function wn(c){return c}function hn(c){return qh(typeof c=="function"?c:Sn(c,x))}function wa(c){return Yh(Sn(c,x))}function j0(c,h){return Td(c,Sn(h,x))}var jE=Kt(function(c,h){return function(S){return $u(S,c,h)}}),BE=Kt(function(c,h){return function(S){return $u(c,S,h)}});function B0(c,h,S){var M=Ri(h),L=Qa(h,M);S==null&&!(Kn(h)&&(L.length||!M.length))&&(S=h,h=c,c=this,L=Qa(h,Ri(h)));var W=!(Kn(S)&&"chain"in S)||!!S.chain,ne=Dl(c);return Pi(L,function(le){var he=h[le];c[le]=he,ne&&(c.prototype[le]=function(){var ze=this.__chain__;if(W||ze){var Le=c(this.__wrapped__),He=Le.__actions__=yr(this.__actions__);return He.push({func:he,args:arguments,thisArg:c}),Le.__chain__=ze,Le}return he.apply(c,oe([this.value()],arguments))})}),c}function HE(){return Gn._===this&&(Gn._=Dh),this}function H0(){}function $E(c){return c=Xt(c),Kt(function(h){return Xh(h,c)})}var FE=oo(Y),UE=oo(No),GE=oo(De);function SS(c){return tc(c)?Vi(br(c)):wg(c)}function WE(c){return function(h){return c==null?t:_l(c,h)}}var VE=hp(),qE=hp(!0);function $0(){return[]}function F0(){return!1}function YE(){return{}}function XE(){return""}function KE(){return!0}function ZE(c,h){if(c=Xt(c),c<1||c>Ze)return[];var S=Ce,M=Nt(c,Ce);h=Tt(h),c-=Ce;for(var L=bn(M,h);++S<c;)h(S);return L}function QE(c){return Gt(c)?Y(c,br):us(c)?[c]:yr(Xo(Rn(c)))}function JE(c){var h=++ng;return Rn(c)+h}var eR=nf(function(c,h){return c+h},0),tR=lo("ceil"),nR=nf(function(c,h){return c/h},1),iR=lo("floor");function rR(c){return c&&c.length?Hu(c,wn,_d):t}function sR(c,h){return c&&c.length?Hu(c,Tt(h,2),_d):t}function oR(c){return er(c,wn)}function lR(c,h){return er(c,Tt(h,2))}function aR(c){return c&&c.length?Hu(c,wn,Uu):t}function uR(c,h){return c&&c.length?Hu(c,Tt(h,2),Uu):t}var cR=nf(function(c,h){return c*h},1),fR=lo("round"),dR=nf(function(c,h){return c-h},0);function hR(c){return c&&c.length?ii(c,wn):0}function pR(c,h){return c&&c.length?ii(c,Tt(h,2)):0}return $.after=jp,$.ary=ga,$.assign=fc,$.assignIn=dc,$.assignInWith=xf,$.assignWith=Jd,$.at=im,$.before=ho,$.bind=ou,$.bindAll=ae,$.bindKey=sv,$.castArray=qp,$.chain=rr,$.chunk=ha,$.compact=Pg,$.concat=nc,$.cond=ye,$.conforms=Ne,$.constant=ht,$.countBy=Zg,$.create=rm,$.curry=Bp,$.curryRight=Hp,$.debounce=$p,$.defaults=eh,$.defaultsDeep=vv,$.defer=v0,$.delay=Fp,$.difference=uf,$.differenceBy=cf,$.differenceWith=ic,$.drop=Ig,$.dropRight=jg,$.dropRightWhile=ff,$.dropWhile=Bg,$.fill=Bd,$.filter=Lp,$.flatMap=f0,$.flatMapDeep=Qg,$.flatMapDepth=Jg,$.flatten=ss,$.flattenDeep=xp,$.flattenDepth=pa,$.flip=ov,$.flow=xt,$.flowRight=Ot,$.fromPairs=$g,$.functions=A0,$.functionsIn=th,$.groupBy=ev,$.initial=Fg,$.intersection=Cp,$.intersectionBy=Tp,$.intersectionWith=Rl,$.invert=Tf,$.invertBy=k0,$.invokeMap=d0,$.iteratee=hn,$.keyBy=nv,$.keys=Ri,$.keysIn=wr,$.map=kl,$.mapKeys=wv,$.mapValues=lm,$.matches=wa,$.matchesProperty=j0,$.memoize=bf,$.merge=_v,$.mergeWith=Ef,$.method=jE,$.methodOf=BE,$.mixin=B0,$.negate=Gd,$.nthArg=$E,$.omit=D0,$.omitBy=z0,$.once=Up,$.orderBy=iv,$.over=FE,$.overArgs=Gp,$.overEvery=UE,$.overSome=GE,$.partial=Wp,$.partialRight=lv,$.partition=jn,$.pick=am,$.pickBy=nh,$.property=SS,$.propertyOf=WE,$.pull=s0,$.pullAll=Gg,$.pullAllBy=Wg,$.pullAllWith=o0,$.pullAt=l0,$.range=VE,$.rangeRight=qE,$.rearg=Sf,$.reject=rv,$.remove=Qn,$.rest=y0,$.reverse=Nn,$.sampleSize=m0,$.set=um,$.setWith=xv,$.shuffle=g0,$.slice=nn,$.sortBy=Ip,$.sortedUniq=Ol,$.sortedUniqBy=oi,$.split=p,$.spread=av,$.tail=ma,$.take=nu,$.takeRight=Rp,$.takeRightWhile=Ps,$.takeWhile=sc,$.tap=qg,$.throttle=an,$.thru=oc,$.toArray=mv,$.toPairs=rh,$.toPairsIn=Nl,$.toPath=QE,$.toPlainObject=cc,$.transform=ba,$.unary=Vp,$.union=pf,$.unionBy=Ko,$.unionWith=Mp,$.uniq=Op,$.uniqBy=Hd,$.uniqWith=$d,$.unset=Sa,$.unzip=Zo,$.unzipWith=mf,$.update=Rf,$.updateWith=Mf,$.values=cs,$.valuesIn=N0,$.without=iu,$.words=ei,$.wrap=Wd,$.xor=gf,$.xorBy=Ap,$.xorWith=kp,$.zip=vf,$.zipObject=Dp,$.zipObjectDeep=as,$.zipWith=Vg,$.entries=rh,$.entriesIn=Nl,$.extend=dc,$.extendWith=xf,B0($,$),$.add=eR,$.attempt=pe,$.camelCase=Tv,$.capitalize=Af,$.ceil=tR,$.clamp=Cv,$.clone=uv,$.cloneDeep=wf,$.cloneDeepWith=Vd,$.cloneWith=Yp,$.conformsTo=uc,$.deburr=cm,$.defaultTo=en,$.divide=nR,$.endsWith=P0,$.eq=Is,$.escape=sh,$.escapeRegExp=oh,$.every=Np,$.find=u0,$.findIndex=_p,$.findKey=yv,$.findLast=c0,$.findLastIndex=Hg,$.findLastKey=R0,$.floor=iR,$.forEach=ru,$.forEachRight=yf,$.forIn=bv,$.forInRight=Cf,$.forOwn=M0,$.forOwnRight=O0,$.get=hc,$.gt=b0,$.gte=S0,$.has=sm,$.hasIn=om,$.head=df,$.identity=wn,$.includes=tv,$.indexOf=tu,$.inRange=Of,$.invoke=Sv,$.isArguments=va,$.isArray=Gt,$.isArrayBuffer=qd,$.isArrayLike=Yt,$.isArrayLikeObject=Jn,$.isBoolean=Ki,$.isBuffer=ya,$.isDate=Xp,$.isElement=Kp,$.isEmpty=Yd,$.isEqual=cv,$.isEqualWith=fv,$.isError=_f,$.isFinite=Zp,$.isFunction=Dl,$.isInteger=Qp,$.isLength=Xd,$.isMap=dv,$.isMatch=Jp,$.isMatchWith=em,$.isNaN=w0,$.isNative=_0,$.isNil=hv,$.isNull=po,$.isNumber=tm,$.isObject=Kn,$.isObjectLike=li,$.isPlainObject=sr,$.isRegExp=Kd,$.isSafeInteger=Zd,$.isSet=Qo,$.isString=Qd,$.isSymbol=us,$.isTypedArray=mo,$.isUndefined=pv,$.isWeakMap=x0,$.isWeakSet=C0,$.join=Ug,$.kebabCase=Ev,$.last=Sr,$.lastIndexOf=hf,$.lowerCase=kf,$.lowerFirst=fm,$.lt=T0,$.lte=E0,$.max=rR,$.maxBy=sR,$.mean=oR,$.meanBy=lR,$.min=aR,$.minBy=uR,$.stubArray=$0,$.stubFalse=F0,$.stubObject=YE,$.stubString=XE,$.stubTrue=KE,$.multiply=cR,$.nth=Zn,$.noConflict=HE,$.noop=H0,$.now=su,$.pad=lh,$.padEnd=Rv,$.padStart=I0,$.parseInt=ah,$.random=L0,$.reduce=Pp,$.reduceRight=h0,$.repeat=s,$.replace=l,$.result=ih,$.round=fR,$.runInContext=te,$.sample=p0,$.size=Ud,$.snakeCase=u,$.some=ac,$.sortedIndex=dn,$.sortedIndexBy=Fn,$.sortedIndexOf=ls,$.sortedLastIndex=Ml,$.sortedLastIndexBy=rc,$.sortedLastIndexOf=Ep,$.startCase=b,$.startsWith=C,$.subtract=dR,$.sum=hR,$.sumBy=pR,$.template=D,$.times=ZE,$.toFinite=zl,$.toInteger=Xt,$.toLength=nm,$.toLower=U,$.toNumber=Zi,$.toSafeInteger=gv,$.toString=Rn,$.toUpper=ee,$.trim=ce,$.trimEnd=Ee,$.trimStart=je,$.truncate=Se,$.unescape=Te,$.uniqueId=JE,$.upperCase=bt,$.upperFirst=$t,$.each=ru,$.eachRight=yf,$.first=df,B0($,function(){var c={};return Ls($,function(h,S){Tn.call($.prototype,S)||(c[S]=h)}),c}(),{chain:!1}),$.VERSION=i,Pi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){$[c].placeholder=$}),Pi(["drop","take"],function(c,h){qt.prototype[c]=function(S){S=S===t?1:ln(Xt(S),0);var M=this.__filtered__&&!h?new qt(this):this.clone();return M.__filtered__?M.__takeCount__=Nt(S,M.__takeCount__):M.__views__.push({size:Nt(S,Ce),type:c+(M.__dir__<0?"Right":"")}),M},qt.prototype[c+"Right"]=function(S){return this.reverse()[c](S).reverse()}}),Pi(["filter","map","takeWhile"],function(c,h){var S=h+1,M=S==qe||S==Oe;qt.prototype[c]=function(L){var W=this.clone();return W.__iteratees__.push({iteratee:Tt(L,3),type:S}),W.__filtered__=W.__filtered__||M,W}}),Pi(["head","last"],function(c,h){var S="take"+(h?"Right":"");qt.prototype[c]=function(){return this[S](1).value()[0]}}),Pi(["initial","tail"],function(c,h){var S="drop"+(h?"":"Right");qt.prototype[c]=function(){return this.__filtered__?new qt(this):this[S](1)}}),qt.prototype.compact=function(){return this.filter(wn)},qt.prototype.find=function(c){return this.filter(c).head()},qt.prototype.findLast=function(c){return this.reverse().find(c)},qt.prototype.invokeMap=Kt(function(c,h){return typeof c=="function"?new qt(this):this.map(function(S){return $u(S,c,h)})}),qt.prototype.reject=function(c){return this.filter(Gd(Tt(c)))},qt.prototype.slice=function(c,h){c=Xt(c);var S=this;return S.__filtered__&&(c>0||h<0)?new qt(S):(c<0?S=S.takeRight(-c):c&&(S=S.drop(c)),h!==t&&(h=Xt(h),S=h<0?S.dropRight(-h):S.take(h-c)),S)},qt.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},qt.prototype.toArray=function(){return this.take(Ce)},Ls(qt.prototype,function(c,h){var S=/^(?:filter|find|map|reject)|While$/.test(h),M=/^(?:head|last)$/.test(h),L=$[M?"take"+(h=="last"?"Right":""):h],W=M||/^find/.test(h);L&&($.prototype[h]=function(){var ne=this.__wrapped__,le=M?[1]:arguments,he=ne instanceof qt,ze=le[0],Le=he||Gt(ne),He=function(un){var vn=L.apply($,oe([un],le));return M&&ot?vn[0]:vn};Le&&S&&typeof ze=="function"&&ze.length!=1&&(he=Le=!1);var ot=this.__chain__,wt=!!this.__actions__.length,Dt=W&&!ot,tn=he&&!wt;if(!W&&Le){ne=tn?ne:new qt(this);var zt=c.apply(ne,le);return zt.__actions__.push({func:oc,args:[He],thisArg:t}),new Qr(zt,ot)}return Dt&&tn?c.apply(this,le):(zt=this.thru(He),Dt?M?zt.value()[0]:zt.value():zt)})}),Pi(["pop","push","shift","sort","splice","unshift"],function(c){var h=eo[c],S=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",M=/^(?:pop|shift)$/.test(c);$.prototype[c]=function(){var L=arguments;if(M&&!this.__chain__){var W=this.value();return h.apply(Gt(W)?W:[],L)}return this[S](function(ne){return h.apply(Gt(ne)?ne:[],L)})}}),Ls(qt.prototype,function(c,h){var S=$[h];if(S){var M=S.name+"";Tn.call(Ql,M)||(Ql[M]=[]),Ql[M].push({name:h,func:S})}}),Ql[tf(t,H).name]=[{name:"wrapper",func:t}],qt.prototype.clone=lg,qt.prototype.reverse=Lu,qt.prototype.value=gd,$.prototype.at=Yg,$.prototype.chain=a0,$.prototype.commit=Al,$.prototype.next=Fd,$.prototype.plant=lc,$.prototype.reverse=Xg,$.prototype.toJSON=$.prototype.valueOf=$.prototype.value=Kg,$.prototype.first=$.prototype.head,jo&&($.prototype[jo]=zp),$},Qe=ut();pr?((pr.exports=Qe)._=Qe,Wi._=Qe):Gn._=Qe}).call(gM)}(bm,bm.exports)),bm.exports}var Ff=vM();const yM=[{name:"Classic",builtIn:!0,styles:{fontFamily:"sans-serif",fontVariant:"400",italics:!1,underline:!1,fontSize:16,alignment:"center",fill:"#ffffff",stroke:{color:"#000000",width:5},position:{horizontal:"auto",vertical:80,useLines:!1},box:{color:"#000000",opacity:0,padding:{top:0,right:0,bottom:0,left:0}},shadow:[{color:"#000000",offsetX:0,offsetY:0,blur:13}],transition:{start:{preset:"none",duration:0,easing:"linear"},end:{preset:"none",duration:0,easing:"linear"}}}},{name:"Warm",builtIn:!0,styles:{fontFamily:"sans-serif",fontVariant:"700",italics:!1,underline:!1,fontSize:16,alignment:"center",fill:"#ffd500",stroke:{color:"#000000",width:0},position:{horizontal:"auto",vertical:80,useLines:!1},box:{color:"#000000",opacity:0,padding:{top:0,right:0,bottom:0,left:0}},shadow:[{color:"#ff5900",offsetX:2,offsetY:1,blur:2}],transition:{start:{preset:"none",duration:0,easing:"linear"},end:{preset:"none",duration:0,easing:"linear"}}}},{name:"Glitch",builtIn:!0,styles:{fontFamily:"monospace",fontVariant:"400",italics:!1,underline:!1,fontSize:19,alignment:"center",fill:"#ffffff",stroke:{color:"#000000",width:10},position:{horizontal:"auto",vertical:80,useLines:!1},box:{color:"#000000",opacity:0,padding:{top:0,right:0,bottom:0,left:0}},shadow:[{color:"#00eeff",offsetX:-2,offsetY:-1,blur:1},{color:"#ff00f7",offsetX:2,offsetY:1,blur:1}],transition:{start:{preset:"none",duration:0,easing:"linear"},end:{preset:"none",duration:0,easing:"linear"}}}},{name:"Neon",builtIn:!0,styles:{fontFamily:"monospace",fontVariant:"400",italics:!1,underline:!1,fontSize:19,alignment:"center",fill:"#000000",stroke:{color:"#ee00ff",width:4},position:{horizontal:"auto",vertical:80,useLines:!1},box:{color:"#000000",opacity:0,padding:{top:0,right:0,bottom:0,left:0}},shadow:[{color:"#ee00ff",offsetX:0,offsetY:0,blur:10}],transition:{start:{preset:"fade-in",duration:1,easing:"ease-in-out"},end:{preset:"fade-out",duration:1,easing:"ease-in-out"}}}},{name:"Steel",builtIn:!0,styles:{fontFamily:"sans-serif",fontVariant:"700",italics:!1,underline:!1,fontSize:21,alignment:"center",fill:"#b5b5b5",stroke:{color:"#ffffff",width:0},position:{horizontal:50,vertical:77,useLines:!1},box:{color:"#000000",opacity:0,padding:{top:0,right:0,bottom:0,left:0}},shadow:[{color:"#5b6367",offsetX:2,offsetY:2,blur:0},{color:"#f5fdff",offsetX:-1,offsetY:-2,blur:0},{color:"#000000",offsetX:4,offsetY:2,blur:5}],transition:{start:{preset:"none",duration:0,easing:"linear"},end:{preset:"none",duration:0,easing:"linear"}}}},{name:"Scaling",builtIn:!0,styles:{fontFamily:"sans-serif",fontVariant:"400",italics:!1,underline:!1,fontSize:16,alignment:"center",fill:"#ffffff",stroke:{color:"#000000",width:0},position:{horizontal:"auto",vertical:80,useLines:!1},box:{color:"#000000",opacity:253,padding:{top:0,right:0,bottom:0,left:0}},shadow:[],transition:{start:{preset:"scale-down-in",duration:1,easing:"ease-out"},end:{preset:"scale-down-out",duration:1,easing:"ease-in"}}}}],FS={cueStyleElement:document.getElementById("cueStyleElement"),globalStyles:{fontFamily:"sans-serif",fontVariant:"400",italics:!1,underline:!1,fontSize:16,alignment:"center",fill:"#ffffff",stroke:{color:"#000000",width:1},position:{horizontal:"auto",vertical:80,useLines:!1},box:{color:"#000000",opacity:255,padding:{top:0,right:0,bottom:0,left:0}},shadow:[{color:"#000000",offsetX:0,offsetY:0,blur:0}],transition:{start:{preset:"none",duration:0,easing:"linear"},end:{preset:"none",duration:0,easing:"linear"}}},presets:yM,selectedPreset:null},Tx=M1({name:"styleSlice",initialState:FS,reducers:{setGlobalStyles(n,e){return{...n,globalStyles:e.payload}},updateGlobalStyles(n,e){const{key:t,value:i}=e.payload;Ff.set(n.globalStyles,t,isNaN(i)||typeof i=="boolean"||i.trim()===""?i:parseFloat(i))},addShadow(n,e){const{color:t,offsetX:i,offsetY:r,blur:o}=e.payload;n.globalStyles.shadow.push({color:t||"#000000",offsetX:i||0,offsetY:r||0,blur:o||0})},removeShadow(n,e){n.globalStyles.shadow.splice(e.payload,1)},addPreset(n,e){const t={name:e.payload,builtIn:!1,styles:n.globalStyles};n.presets.push(t),n.selectedPreset=t},addEmptyPreset(n,e){const t={name:e.payload,builtIn:!1,styles:FS.globalStyles};n.presets.push(t),n.selectedPreset=t,n.globalStyles=t.styles},removePreset(n,e){n.presets.splice(e.payload,1)},updatePreset(n,e){n.presets[e.payload].styles=n.globalStyles,n.selectedPreset=n.presets[e.payload]},renamePreset(n,e){const{index:t,name:i}=e.payload;n.presets[t].name=i},selectPreset(n,e){n.selectedPreset=e.payload,e.payload!==null&&(n.globalStyles=e.payload.styles)},importPreset(n,e){n.presets.push(e.payload)}}}),{setGlobalStyles:C5,updateGlobalStyles:bM,addShadow:SM,removeShadow:wM,addPreset:_M,addEmptyPreset:xM,removePreset:CM,updatePreset:TM,renamePreset:EM,selectPreset:RM,importPreset:MM}=Tx.actions,OM={videoFile:null,videoMetadata:null,subtitleFile:null,currentTime:0,timeSetter:0,isPlaying:!1},Ex=M1({name:"videoSlice",initialState:OM,reducers:{setVideoFile(n,e){return{...n,videoFile:e.payload}},setVideoMetadata(n,e){return{...n,videoMetadata:e.payload}},setSubtitleFile(n,e){return{...n,subtitleFile:e.payload}},setCurrentTime(n,e){return{...n,currentTime:e.payload}},setTimeSetter(n,e){return{...n,timeSetter:e.payload}},setPlayState(n,e){return{...n,isPlaying:e.payload}}}}),{setVideoFile:US,setVideoMetadata:GS,setSubtitleFile:WS,setCurrentTime:AM,setTimeSetter:kM,setPlayState:DM}=Ex.actions,zM=hM(xx,Ex,Tx);var Q0={exports:{}},J0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS;function NM(){if(VS)return J0;VS=1;var n=Ty();function e(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,r=n.useRef,o=n.useEffect,a=n.useMemo,f=n.useDebugValue;return J0.useSyncExternalStoreWithSelector=function(d,m,y,x,T){var R=r(null);if(R.current===null){var O={hasValue:!1,value:null};R.current=O}else O=R.current;R=a(function(){function N(se){if(!H){if(H=!0,V=se,se=x(se),T!==void 0&&O.hasValue){var me=O.value;if(T(me,se))return Z=me}return Z=se}if(me=Z,t(V,se))return me;var G=x(se);return T!==void 0&&T(me,G)?(V=se,me):(V=se,Z=G)}var H=!1,V,Z,J=y===void 0?null:y;return[function(){return N(m())},J===null?void 0:function(){return N(J())}]},[m,y,x,T]);var k=i(d,R[0],R[1]);return o(function(){O.hasValue=!0,O.value=k},[k]),f(k),k},J0}var qS;function LM(){return qS||(qS=1,Q0.exports=NM()),Q0.exports}var PM=LM();function IM(n){n()}function jM(){let n=null,e=null;return{clear(){n=null,e=null},notify(){IM(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const r=e={callback:t,next:null,prev:e};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var YS={notify(){},get:()=>[]};function BM(n,e){let t,i=YS,r=0,o=!1;function a(k){y();const N=i.subscribe(k);let H=!1;return()=>{H||(H=!0,N(),x())}}function f(){i.notify()}function d(){O.onStateChange&&O.onStateChange()}function m(){return o}function y(){r++,t||(t=n.subscribe(d),i=jM())}function x(){r--,t&&r===0&&(t(),t=void 0,i.clear(),i=YS)}function T(){o||(o=!0,y())}function R(){o&&(o=!1,x())}const O={addNestedSub:a,notifyNestedSubs:f,handleChangeWrapper:d,isSubscribed:m,trySubscribe:T,tryUnsubscribe:R,getListeners:()=>i};return O}var HM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$M=HM(),FM=()=>typeof navigator<"u"&&navigator.product==="ReactNative",UM=FM(),GM=()=>$M||UM?q.useLayoutEffect:q.useEffect,WM=GM(),eb=Symbol.for("react-redux-context"),tb=typeof globalThis<"u"?globalThis:{};function VM(){if(!q.createContext)return{};const n=tb[eb]??(tb[eb]=new Map);let e=n.get(q.createContext);return e||(e=q.createContext(null),n.set(q.createContext,e)),e}var Ac=VM();function qM(n){const{children:e,context:t,serverState:i,store:r}=n,o=q.useMemo(()=>{const d=BM(r);return{store:r,subscription:d,getServerState:i?()=>i:void 0}},[r,i]),a=q.useMemo(()=>r.getState(),[r]);WM(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),a!==r.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,a]);const f=t||Ac;return q.createElement(f.Provider,{value:o},e)}var YM=qM;function D1(n=Ac){return function(){return q.useContext(n)}}var Rx=D1();function Mx(n=Ac){const e=n===Ac?Rx:D1(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var XM=Mx();function KM(n=Ac){const e=n===Ac?XM:Mx(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var ZM=KM(),QM=(n,e)=>n===e;function JM(n=Ac){const e=n===Ac?Rx:D1(n),t=(i,r={})=>{const{equalityFn:o=QM}=typeof r=="function"?{equalityFn:r}:r,a=e(),{store:f,subscription:d,getServerState:m}=a;q.useRef(!0);const y=q.useCallback({[i.name](T){return i(T)}}[i.name],[i]),x=PM.useSyncExternalStoreWithSelector(d.addNestedSub,f.getState,m||f.getState,y,o);return q.useDebugValue(x),x};return Object.assign(t,{withTypes:()=>t}),t}var eO=JM();const zc=()=>ZM(),Rr=eO,tO=VR({reducer:zM,middleware:n=>n({serializableCheck:!1}).concat(Sx)}),$v=(n,e)=>{if(e.some(t=>t.name===n)){let t=1;for(;e.some(i=>i.name===`${n} ${t}`);)t++;return`${n} ${t}`}else return n},ty=(n,e)=>`${e} {
    font-family: ${n.fontFamily};
    font-weight: ${n.fontVariant};
    font-size: max(calc(${n.fontSize} / 16 * 5cqh), 14px);
    color: ${n.fill};
    text-decoration: ${n.underline?"underline":"none"};
    font-style: ${n.italics?"italic":"normal"};
    
    text-stroke: ${n.stroke.width}px ${n.stroke.color};
    -webkit-text-stroke: ${n.stroke.width}px ${n.stroke.color};
    
    background-color: ${n.box.color}${n.box.opacity.toString(16).padStart(2,"0")};
    padding-top: ${n.box.padding.top}px;
    padding-right: ${n.box.padding.right}px;
    padding-bottom: ${n.box.padding.bottom}px;
    padding-left: ${n.box.padding.left}px;
    
    text-shadow: ${n.shadow.length?n.shadow.map(t=>`
        ${t.offsetX}px ${t.offsetY}px ${t.blur}px ${t.color}
    `.trim()).join(", "):"none"};
    
    animation: 
        ${n.transition.start.preset} ${n.transition.start.duration}s ${n.transition.start.easing},
        ${n.transition.end.preset} ${n.transition.end.duration}s ${n.transition.end.easing} calc(var(--cue-duration) - ${n.transition.end.duration}s)
    ;
}`.split(`
`).filter(t=>!!t.trim()).join(`
`),Ox=(n,e)=>e?`${Math.abs(n)}rem`:`${Math.abs(n)}%`,Ax=(n,e)=>Ay(n)&&n>=0?Ox(n,e):"auto",nO=(n,e)=>Ay(n)&&n<0?Ox(n,e):Ax(n,e)==="auto"?"20%":"auto",iO=(n,e)=>Ay(n)&&(e==="left"||e==="start")?`${n}%`:"0%",rO=(n,e)=>{if(Ay(n)){if(e==="end"||e==="right")return`${n}%`;if(e==="center")return`${n*2}%`}else return"100%";return"100%"},sO=n=>({align:n.align,top:Ax(n.line,n.snapToLines),bottom:nO(n.line,n.snapToLines),left:iO(n.position,n.align),width:rO(n.position,n.align),size:n.size,duration:n.endTime-n.startTime}),oO=n=>({"--cue-align":n.align,"--cue-top":n.top,"--cue-bottom":n.bottom,"--cue-left":n.left,"--cue-width":n.width,"--cue-size":n.size,"--cue-duration":`${n.duration}s`}),XS=document.createElement("div"),kx=n=>{XS.replaceChildren(n.getCueAsHTML());const e=XS.innerHTML;return new Proxy(n,{get(t,i){return i==="html"?e:t[i]}})},lO=n=>n.replaceAll(/(?:<br>\w?\/?)|(?:<\/p.*?><p>)/g,`
`).replaceAll(/<span class="([a-z|-]*?)">/g,"<c.$1>").replaceAll(/<\/span>/g,"</c>").replaceAll(/<\/?p.*?>/g,""),aO=(n,e,t)=>{if(!n||!e||!t)return;const i=n.videoWidth/n.videoHeight,r=e.clientWidth/(e.clientHeight-52);t.style.setProperty("width",i>r?"100%":"auto"),t.style.setProperty("height",i<r?"calc(100% - var(--plyr-controls-height))":"auto"),t.style.setProperty("aspect-ratio",`${n.videoWidth} / ${n.videoHeight}`)};function uO(n,e,t){return(e=hO(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function yo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KS(Object(t),!0).forEach(function(i){uO(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):KS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function cO(n,e){if(n==null)return{};var t,i,r=fO(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)t=o[i],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function fO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;t[i]=n[i]}return t}function dO(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hO(n){var e=dO(n,"string");return typeof e=="symbol"?e:e+""}function pO(n){return n!==null&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"message")}function Av(n){return pO(n)?n:new Error(typeof n=="string"?n:"Unknown error")}const mO=["Active_Height","Active_Width","AudioCount","Audio_Channels_Total","BitDepth_Detected","BitDepth","BitDepth_Stored","Channels","Channels_Original","Chapters_Pos_Begin","Chapters_Pos_End","Comic_Position_Total","Count","DataSize","ElementCount","EPG_Positions_Begin","EPG_Positions_End","FirstPacketOrder","FooterSize","Format_Settings_GMC","Format_Settings_RefFrames","Format_Settings_SliceCount","FrameCount","FrameRate_Den","FrameRate_Num","GeneralCount","HeaderSize","Height_CleanAperture","Height","Height_Offset","Height_Original","ImageCount","Lines_MaxCharacterCount","Lines_MaxCountPerEvent","Matrix_Channels","MenuCount","OtherCount","Part_Position","Part_Position_Total","Played_Count","Reel_Position","Reel_Position_Total","Resolution","Sampled_Height","Sampled_Width","SamplingCount","Season_Position","Season_Position_Total","Source_FrameCount","Source_SamplingCount","Source_StreamSize_Encoded","Source_StreamSize","Status","Stored_Height","Stored_Width","StreamCount","StreamKindID","StreamKindPos","StreamSize_Demuxed","StreamSize_Encoded","StreamSize","TextCount","Track_Position","Track_Position_Total","Video0_Delay","VideoCount","Width_CleanAperture","Width","Width_Offset","Width_Original"],gO=["Active_DisplayAspectRatio","BitRate_Encoded","BitRate_Maximum","BitRate_Minimum","BitRate","BitRate_Nominal","Bits-Pixel_Frame","BitsPixel_Frame","Compression_Ratio","Delay","Delay_Original","DisplayAspectRatio_CleanAperture","DisplayAspectRatio","DisplayAspectRatio_Original","Duration_End_Command","Duration_End","Duration_FirstFrame","Duration_LastFrame","Duration","Duration_Start2End","Duration_Start_Command","Duration_Start","Events_MinDuration","FrameRate_Maximum","FrameRate_Minimum","FrameRate","FrameRate_Nominal","FrameRate_Original_Den","FrameRate_Original","FrameRate_Original_Num","FrameRate_Real","Interleave_Duration","Interleave_Preload","Interleave_VideoFrames","OverallBitRate_Maximum","OverallBitRate_Minimum","OverallBitRate","OverallBitRate_Nominal","PixelAspectRatio_CleanAperture","PixelAspectRatio","PixelAspectRatio_Original","SamplesPerFrame","SamplingRate","Source_Duration_FirstFrame","Source_Duration_LastFrame","Source_Duration","TimeStamp_FirstFrame","Video_Delay"],nb=2**32,ZS={coverData:!1,chunkSize:256*1024,format:"object",full:!1};class vO{constructor(e,t){this.mediainfoModule=e,this.options=t,this.mediainfoModuleInstance=new e.MediaInfo(t.format==="object"?"JSON":t.format,t.coverData,t.full)}analyzeData(e,t,i){if(i===void 0)return new Promise((d,m)=>{const y=(x,T)=>{T||!x?m(Av(T)):d(x)};this.analyzeData(e,t,y)});const r=()=>{this.openBufferFinalize();const d=this.inform();this.options.format==="object"?i(this.parseResultJson(d)):i(d)};let o=0;const a=d=>{const m=T=>{x(T)?y():r()},y=()=>{let T;try{const R=Math.min(this.options.chunkSize,d-o);T=t(R,o)}catch(R){i("",Av(R));return}T instanceof Promise?T.then(m).catch(R=>{i("",Av(R))}):m(T)},x=T=>{if(T.length===0||this.openBufferContinue(T,T.length))return!1;const R=this.openBufferContinueGotoGet();return R===-1?o+=T.length:(o=R,this.openBufferInit(d,R)),!0};this.openBufferInit(d,o),y()},f=e instanceof Function?e():e;f instanceof Promise?f.then(a).catch(d=>{i(null,Av(d))}):a(f)}close(){typeof this.mediainfoModuleInstance.close=="function"&&this.mediainfoModuleInstance.close(),typeof this.mediainfoModule.destroy=="function"&&this.mediainfoModule.destroy(this.mediainfoModuleInstance)}inform(){return this.mediainfoModuleInstance.inform()}openBufferContinue(e,t){return!!(this.mediainfoModuleInstance.open_buffer_continue(e,t)&8)}openBufferContinueGotoGet(){let e=-1;const t=this.mediainfoModuleInstance.open_buffer_continue_goto_get_lower(),i=this.mediainfoModuleInstance.open_buffer_continue_goto_get_upper();return t==-1&&i==-1?e=-1:t<0?e=t+nb+i*nb:e=t+i*nb,e}openBufferFinalize(){this.mediainfoModuleInstance.open_buffer_finalize()}openBufferInit(e,t){this.mediainfoModuleInstance.open_buffer_init(e,t)}parseResultJson(e){const t=mO,i=gO,r=JSON.parse(e);if(r.media){const o=yo(yo({},r.media),{},{track:[]});if(Array.isArray(r.media.track))for(const a of r.media.track){let f={"@type":a["@type"]};for(const[d,m]of Object.entries(a))d!=="@type"&&(typeof m=="string"&&t.includes(d)?f=yo(yo({},f),{},{[d]:Number.parseInt(m,10)}):typeof m=="string"&&i.includes(d)?f=yo(yo({},f),{},{[d]:Number.parseFloat(m)}):f=yo(yo({},f),{},{[d]:m}));o.track.push(f)}return yo(yo({},r),{},{media:o})}return r}}var yO=(()=>{var e;var n=typeof document<"u"?(e=document.currentScript)==null?void 0:e.src:void 0;return function(t={}){var i,r=Object.assign({},t),o,a,f=new Promise((I,P)=>{o=I,a=P}),d=Object.assign({},r),m="./this.program",y="";function x(I){return r.locateFile?r.locateFile(I,y):y+I}typeof document<"u"&&document.currentScript&&(y=document.currentScript.src),n&&(y=n),y.startsWith("blob:")?y="":y=y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1),console.log.bind(console);var T=console.error.bind(console);Object.assign(r,d),d=null;var R,O,k=!1,N,H,V,Z,J,se,me,G;function ue(){var I=O.buffer;r.HEAP8=N=new Int8Array(I),r.HEAP16=V=new Int16Array(I),r.HEAPU8=H=new Uint8Array(I),r.HEAPU16=Z=new Uint16Array(I),r.HEAP32=J=new Int32Array(I),r.HEAPU32=se=new Uint32Array(I),r.HEAPF32=me=new Float32Array(I),r.HEAPF64=G=new Float64Array(I)}var ge=[],xe=[],Pe=[];function Xe(){xn(ge)}function ke(){xn(xe)}function qe(){xn(Pe)}function lt(I){xe.unshift(I)}var Oe=0,Je=null;function Ze(I){Oe++}function dt(I){if(Oe--,Oe==0&&Je){var P=Je;Je=null,P()}}function ie(I){I="Aborted("+I+")",T(I),k=!0,I+=". Build with -sASSERTIONS for more info.";var P=new WebAssembly.RuntimeError(I);throw a(P),P}var Ce="data:application/octet-stream;base64,",rt=I=>I.startsWith(Ce);function et(){var I="MediaInfoModule.wasm";return rt(I)?I:x(I)}var Fe;function tt(I){throw"both async and sync fetching of the wasm failed"}function St(I){return typeof fetch=="function"?fetch(I,{credentials:"same-origin"}).then(P=>{if(!P.ok)throw`failed to load wasm binary file at '${I}'`;return P.arrayBuffer()}).catch(()=>tt()):Promise.resolve().then(()=>tt())}function kn(I,P,Y){return St(I).then(oe=>WebAssembly.instantiate(oe,P)).then(Y,oe=>{T(`failed to asynchronously prepare wasm: ${oe}`),ie(oe)})}function At(I,P,Y,oe){return typeof WebAssembly.instantiateStreaming=="function"&&!rt(P)&&typeof fetch=="function"?fetch(P,{credentials:"same-origin"}).then(be=>{var Me=WebAssembly.instantiateStreaming(be,Y);return Me.then(oe,function(De){return T(`wasm streaming compile failed: ${De}`),T("falling back to ArrayBuffer instantiation"),kn(P,Y,oe)})}):kn(P,Y,oe)}function Ke(){return{env:Ba,wasi_snapshot_preview1:Ba}}function Jt(){var I=Ke();function P(oe,be){return Cn=oe.exports,O=Cn.memory,ue(),Yr=Cn.__indirect_function_table,lt(Cn.__wasm_call_ctors),dt(),Cn}Ze();function Y(oe){P(oe.instance)}return Fe||(Fe=et()),At(R,Fe,I,Y).catch(a),{}}var xn=I=>{for(;I.length>0;)I.shift()(r)},Et=()=>{ie("")},Ye=(I,P,Y,oe,be)=>{},nt=()=>{for(var I=new Array(256),P=0;P<256;++P)I[P]=String.fromCharCode(P);pt=I},pt,ct=I=>{for(var P="",Y=I;H[Y];)P+=pt[H[Y++]];return P},Ct={},sn={},It={},cn,mt=I=>{throw new cn(I)},ti,Pn=I=>{throw new ti(I)},fn=(I,P,Y)=>{I.forEach(function(Re){It[Re]=P});function oe(Re){var Ue=Y(Re);Ue.length!==I.length&&Pn("Mismatched type converter count");for(var st=0;st<I.length;++st)Ut(I[st],Ue[st])}var be=new Array(P.length),Me=[],De=0;P.forEach((Re,Ue)=>{sn.hasOwnProperty(Re)?be[Ue]=sn[Re]:(Me.push(Re),Ct.hasOwnProperty(Re)||(Ct[Re]=[]),Ct[Re].push(()=>{be[Ue]=sn[Re],++De,De===Me.length&&oe(be)}))}),Me.length===0&&oe(be)};function ni(I,P,Y={}){var oe=P.name;if(I||mt(`type "${oe}" must have a positive integer typeid pointer`),sn.hasOwnProperty(I)){if(Y.ignoreDuplicateRegistrations)return;mt(`Cannot register type '${oe}' twice`)}if(sn[I]=P,delete It[I],Ct.hasOwnProperty(I)){var be=Ct[I];delete Ct[I],be.forEach(Me=>Me())}}function Ut(I,P,Y={}){if(!("argPackAdvance"in P))throw new TypeError("registerType registeredInstance requires argPackAdvance");return ni(I,P,Y)}var kt=8,Wt=(I,P,Y,oe)=>{P=ct(P),Ut(I,{name:P,fromWireType:function(be){return!!be},toWireType:function(be,Me){return Me?Y:oe},argPackAdvance:kt,readValueFromPointer:function(be){return this.fromWireType(H[be])},destructorFunction:null})},Dn=I=>({count:I.count,deleteScheduled:I.deleteScheduled,preservePointerOnDelete:I.preservePointerOnDelete,ptr:I.ptr,ptrType:I.ptrType,smartPtr:I.smartPtr,smartPtrType:I.smartPtrType}),Bn=I=>{function P(Y){return Y.$$.ptrType.registeredClass.name}mt(P(I)+" instance already deleted")},zn=!1,Hn=I=>{},ai=I=>{I.smartPtr?I.smartPtrType.rawDestructor(I.smartPtr):I.ptrType.registeredClass.rawDestructor(I.ptr)},An=I=>{I.count.value-=1;var P=I.count.value===0;P&&ai(I)},Si=(I,P,Y)=>{if(P===Y)return I;if(Y.baseClass===void 0)return null;var oe=Si(I,P,Y.baseClass);return oe===null?null:Y.downcast(oe)},hi={},pi=()=>Object.keys(Or).length,il=()=>{var I=[];for(var P in Or)Or.hasOwnProperty(P)&&I.push(Or[P]);return I},Ur=[],bs=()=>{for(;Ur.length;){var I=Ur.pop();I.$$.deleteScheduled=!1,I.delete()}},Mr,Hs=I=>{Mr=I,Ur.length&&Mr&&Mr(bs)},Ss=()=>{r.getInheritedInstanceCount=pi,r.getLiveInheritedInstances=il,r.flushPendingDeletes=bs,r.setDelayFunction=Hs},Or={},$s=(I,P)=>{for(P===void 0&&mt("ptr should not be undefined");I.baseClass;)P=I.upcast(P),I=I.baseClass;return P},yu=(I,P)=>(P=$s(I,P),Or[P]),Fs=(I,P)=>{(!P.ptrType||!P.ptr)&&Pn("makeClassHandle requires ptr and ptrType");var Y=!!P.smartPtrType,oe=!!P.smartPtr;return Y!==oe&&Pn("Both smartPtrType and smartPtr must be specified"),P.count={value:1},Gr(Object.create(I,{$$:{value:P,writable:!0}}))};function bu(I){var P=this.getPointee(I);if(!P)return this.destructor(I),null;var Y=yu(this.registeredClass,P);if(Y!==void 0){if(Y.$$.count.value===0)return Y.$$.ptr=P,Y.$$.smartPtr=I,Y.clone();var oe=Y.clone();return this.destructor(I),oe}function be(){return this.isSmartPointer?Fs(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:P,smartPtrType:this,smartPtr:I}):Fs(this.registeredClass.instancePrototype,{ptrType:this,ptr:I})}var Me=this.registeredClass.getActualType(P),De=hi[Me];if(!De)return be.call(this);var Re;this.isConst?Re=De.constPointerType:Re=De.pointerType;var Ue=Si(P,this.registeredClass,Re.registeredClass);return Ue===null?be.call(this):this.isSmartPointer?Fs(Re.registeredClass.instancePrototype,{ptrType:Re,ptr:Ue,smartPtrType:this,smartPtr:I}):Fs(Re.registeredClass.instancePrototype,{ptrType:Re,ptr:Ue})}var Gr=I=>typeof FinalizationRegistry>"u"?(Gr=P=>P,I):(zn=new FinalizationRegistry(P=>{An(P.$$)}),Gr=P=>{var Y=P.$$,oe=!!Y.smartPtr;if(oe){var be={$$:Y};zn.register(P,be,P)}return P},Hn=P=>zn.unregister(P),Gr(I)),Us=()=>{Object.assign(xo.prototype,{isAliasOf(I){if(!(this instanceof xo)||!(I instanceof xo))return!1;var P=this.$$.ptrType.registeredClass,Y=this.$$.ptr;I.$$=I.$$;for(var oe=I.$$.ptrType.registeredClass,be=I.$$.ptr;P.baseClass;)Y=P.upcast(Y),P=P.baseClass;for(;oe.baseClass;)be=oe.upcast(be),oe=oe.baseClass;return P===oe&&Y===be},clone(){if(this.$$.ptr||Bn(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var I=Gr(Object.create(Object.getPrototypeOf(this),{$$:{value:Dn(this.$$)}}));return I.$$.count.value+=1,I.$$.deleteScheduled=!1,I},delete(){this.$$.ptr||Bn(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&mt("Object already scheduled for deletion"),Hn(this),An(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Bn(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&mt("Object already scheduled for deletion"),Ur.push(this),Ur.length===1&&Mr&&Mr(bs),this.$$.deleteScheduled=!0,this}})};function xo(){}var rl=(I,P)=>Object.defineProperty(P,"name",{value:I}),Co=(I,P,Y)=>{if(I[P].overloadTable===void 0){var oe=I[P];I[P]=function(...be){return I[P].overloadTable.hasOwnProperty(be.length)||mt(`Function '${Y}' called with an invalid number of arguments (${be.length}) - expects one of (${I[P].overloadTable})!`),I[P].overloadTable[be.length].apply(this,be)},I[P].overloadTable=[],I[P].overloadTable[oe.argCount]=oe}},Ar=(I,P,Y)=>{r.hasOwnProperty(I)?(mt(`Cannot register public name '${I}' twice`),Co(r,I,I),r.hasOwnProperty(Y)&&mt(`Cannot register multiple overloads of a function with the same number of arguments (${Y})!`),r[I].overloadTable[Y]=P):r[I]=P},ws=48,Wr=57,_s=I=>{if(I===void 0)return"_unknown";I=I.replace(/[^a-zA-Z0-9_]/g,"$");var P=I.charCodeAt(0);return P>=ws&&P<=Wr?`_${I}`:I};function mi(I,P,Y,oe,be,Me,De,Re){this.name=I,this.constructor=P,this.instancePrototype=Y,this.rawDestructor=oe,this.baseClass=be,this.getActualType=Me,this.upcast=De,this.downcast=Re,this.pureVirtualFunctions=[]}var ui=(I,P,Y)=>{for(;P!==Y;)P.upcast||mt(`Expected null or instance of ${Y.name}, got an instance of ${P.name}`),I=P.upcast(I),P=P.baseClass;return I};function Fi(I,P){if(P===null)return this.isReference&&mt(`null is not a valid ${this.name}`),0;P.$$||mt(`Cannot pass "${Ks(P)}" as a ${this.name}`),P.$$.ptr||mt(`Cannot pass deleted object as a pointer of type ${this.name}`);var Y=P.$$.ptrType.registeredClass,oe=ui(P.$$.ptr,Y,this.registeredClass);return oe}function Rt(I,P){var Y;if(P===null)return this.isReference&&mt(`null is not a valid ${this.name}`),this.isSmartPointer?(Y=this.rawConstructor(),I!==null&&I.push(this.rawDestructor,Y),Y):0;(!P||!P.$$)&&mt(`Cannot pass "${Ks(P)}" as a ${this.name}`),P.$$.ptr||mt(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&P.$$.ptrType.isConst&&mt(`Cannot convert argument of type ${P.$$.smartPtrType?P.$$.smartPtrType.name:P.$$.ptrType.name} to parameter type ${this.name}`);var oe=P.$$.ptrType.registeredClass;if(Y=ui(P.$$.ptr,oe,this.registeredClass),this.isSmartPointer)switch(P.$$.smartPtr===void 0&&mt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:P.$$.smartPtrType===this?Y=P.$$.smartPtr:mt(`Cannot convert argument of type ${P.$$.smartPtrType?P.$$.smartPtrType.name:P.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:Y=P.$$.smartPtr;break;case 2:if(P.$$.smartPtrType===this)Y=P.$$.smartPtr;else{var be=P.clone();Y=this.rawShare(Y,Ui.toHandle(()=>be.delete())),I!==null&&I.push(this.rawDestructor,Y)}break;default:mt("Unsupporting sharing policy")}return Y}function ka(I,P){if(P===null)return this.isReference&&mt(`null is not a valid ${this.name}`),0;P.$$||mt(`Cannot pass "${Ks(P)}" as a ${this.name}`),P.$$.ptr||mt(`Cannot pass deleted object as a pointer of type ${this.name}`),P.$$.ptrType.isConst&&mt(`Cannot convert argument of type ${P.$$.ptrType.name} to parameter type ${this.name}`);var Y=P.$$.ptrType.registeredClass,oe=ui(P.$$.ptr,Y,this.registeredClass);return oe}function sl(I){return this.fromWireType(se[I>>2])}var Su=()=>{Object.assign(xs.prototype,{getPointee(I){return this.rawGetPointee&&(I=this.rawGetPointee(I)),I},destructor(I){var P;(P=this.rawDestructor)==null||P.call(this,I)},argPackAdvance:kt,readValueFromPointer:sl,fromWireType:bu})};function xs(I,P,Y,oe,be,Me,De,Re,Ue,st,gt){this.name=I,this.registeredClass=P,this.isReference=Y,this.isConst=oe,this.isSmartPointer=be,this.pointeeType=Me,this.sharingPolicy=De,this.rawGetPointee=Re,this.rawConstructor=Ue,this.rawShare=st,this.rawDestructor=gt,!be&&P.baseClass===void 0?oe?(this.toWireType=Fi,this.destructorFunction=null):(this.toWireType=ka,this.destructorFunction=null):this.toWireType=Rt}var Gs=(I,P,Y)=>{r.hasOwnProperty(I)||Pn("Replacing nonexistent public symbol"),r[I].overloadTable!==void 0&&Y!==void 0||(r[I]=P,r[I].argCount=Y)},Vr=(I,P,Y)=>{I=I.replace(/p/g,"i");var oe=r["dynCall_"+I];return oe(P,...Y)},qr=[],Yr,Ws=I=>{var P=qr[I];return P||(I>=qr.length&&(qr.length=I+1),qr[I]=P=Yr.get(I)),P},$n=(I,P,Y=[])=>{if(I.includes("j"))return Vr(I,P,Y);var oe=Ws(P)(...Y);return oe},wu=(I,P)=>(...Y)=>$n(I,P,Y),Cs=(I,P)=>{I=ct(I);function Y(){return I.includes("j")?wu(I,P):Ws(P)}var oe=Y();return typeof oe!="function"&&mt(`unknown function pointer with signature ${I}: ${P}`),oe},Ts=(I,P)=>{var Y=rl(P,function(oe){this.name=P,this.message=oe;var be=new Error(oe).stack;be!==void 0&&(this.stack=this.toString()+`
`+be.replace(/^Error(:[^\n]*)?\n/,""))});return Y.prototype=Object.create(I.prototype),Y.prototype.constructor=Y,Y.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},Y},dr,hr=I=>{var P=Au(I),Y=ct(P);return Zr(P),Y},To=(I,P)=>{var Y=[],oe={};function be(Me){if(!oe[Me]&&!sn[Me]){if(It[Me]){It[Me].forEach(be);return}Y.push(Me),oe[Me]=!0}}throw P.forEach(be),new dr(`${I}: `+Y.map(hr).join([", "]))},Da=(I,P,Y,oe,be,Me,De,Re,Ue,st,gt,jt,Bt)=>{gt=ct(gt),Me=Cs(be,Me),Re&&(Re=Cs(De,Re)),st&&(st=Cs(Ue,st)),Bt=Cs(jt,Bt);var In=_s(gt);Ar(In,function(){To(`Cannot construct ${gt} due to unbound types`,[oe])}),fn([I,P,Y],oe?[oe]:[],Wn=>{var Lo;Wn=Wn[0];var er,Vi;oe?(er=Wn.registeredClass,Vi=er.instancePrototype):Vi=xo.prototype;var qi=rl(gt,function(...ci){if(Object.getPrototypeOf(this)!==Ge)throw new cn("Use 'new' to construct "+gt);if(yt.constructor_body===void 0)throw new cn(gt+" has no accessible constructor");var dl=yt.constructor_body[ci.length];if(dl===void 0)throw new cn(`Tried to invoke ctor of ${gt} with invalid number of parameters (${ci.length}) - expected (${Object.keys(yt.constructor_body).toString()}) parameters instead!`);return dl.apply(this,ci)}),Ge=Object.create(Vi,{constructor:{value:qi}});qi.prototype=Ge;var yt=new mi(gt,qi,Ge,Bt,er,Me,Re,st);yt.baseClass&&((Lo=yt.baseClass).__derivedClasses??(Lo.__derivedClasses=[]),yt.baseClass.__derivedClasses.push(yt));var ii=new xs(gt,yt,!0,!1,!1),bn=new xs(gt+"*",yt,!1,!1,!1),ji=new xs(gt+" const*",yt,!1,!0,!1);return hi[I]={pointerType:bn,constPointerType:ji},Gs(In,qi),[ii,bn,ji]})},za=(I,P)=>{for(var Y=[],oe=0;oe<I;oe++)Y.push(se[P+oe*4>>2]);return Y},Na=I=>{for(;I.length;){var P=I.pop(),Y=I.pop();Y(P)}};function ol(I){for(var P=1;P<I.length;++P)if(I[P]!==null&&I[P].destructorFunction===void 0)return!0;return!1}function Vs(I,P){if(!(I instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof I} which is not a function`);var Y=rl(I.name||"unknownFunctionName",function(){});Y.prototype=I.prototype;var oe=new Y,be=I.apply(oe,P);return be instanceof Object?be:oe}function kr(I,P,Y,oe){for(var be=ol(I),Me=I.length,De="",Re="",Ue=0;Ue<Me-2;++Ue)De+=(Ue!==0?", ":"")+"arg"+Ue,Re+=(Ue!==0?", ":"")+"arg"+Ue+"Wired";var st=`
        return function (${De}) {
        if (arguments.length !== ${Me-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${Me-2}');
        }`;be&&(st+=`var destructors = [];
`);var gt=be?"destructors":"null",jt=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];P&&(st+="var thisWired = classParam['toWireType']("+gt+`, this);
`);for(var Ue=0;Ue<Me-2;++Ue)st+="var arg"+Ue+"Wired = argType"+Ue+"['toWireType']("+gt+", arg"+Ue+`);
`,jt.push("argType"+Ue);if(P&&(Re="thisWired"+(Re.length>0?", ":"")+Re),st+=(Y||oe?"var rv = ":"")+"invoker(fn"+(Re.length>0?", ":"")+Re+`);
`,be)st+=`runDestructors(destructors);
`;else for(var Ue=P?1:2;Ue<I.length;++Ue){var Bt=Ue===1?"thisWired":"arg"+(Ue-2)+"Wired";I[Ue].destructorFunction!==null&&(st+=`${Bt}_dtor(${Bt});
`,jt.push(`${Bt}_dtor`))}return Y&&(st+=`var ret = retType['fromWireType'](rv);
return ret;
`),st+=`}
`,[jt,st]}function Ni(I,P,Y,oe,be,Me){var De=P.length;De<2&&mt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var Re=P[1]!==null&&Y!==null,Ue=ol(P),st=P[0].name!=="void",gt=[I,mt,oe,be,Na,P[0],P[1]],jt=0;jt<De-2;++jt)gt.push(P[jt+2]);if(!Ue)for(var jt=Re?1:2;jt<P.length;++jt)P[jt].destructorFunction!==null&&gt.push(P[jt].destructorFunction);let[Bt,In]=kr(P,Re,st,Me);Bt.push(In);var Wn=Vs(Function,Bt)(...gt);return rl(I,Wn)}var Ul=(I,P,Y,oe,be,Me)=>{var De=za(P,Y);be=Cs(oe,be),fn([],[I],Re=>{Re=Re[0];var Ue=`constructor ${Re.name}`;if(Re.registeredClass.constructor_body===void 0&&(Re.registeredClass.constructor_body=[]),Re.registeredClass.constructor_body[P-1]!==void 0)throw new cn(`Cannot register multiple constructors with identical number of parameters (${P-1}) for class '${Re.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return Re.registeredClass.constructor_body[P-1]=()=>{To(`Cannot construct ${Re.name} due to unbound types`,De)},fn([],De,st=>(st.splice(1,0,null),Re.registeredClass.constructor_body[P-1]=Ni(Ue,st,null,be,Me),[])),[]})},Pc=I=>{I=I.trim();const P=I.indexOf("(");return P!==-1?I.substr(0,P):I},ll=(I,P,Y,oe,be,Me,De,Re,Ue)=>{var st=za(Y,oe);P=ct(P),P=Pc(P),Me=Cs(be,Me),fn([],[I],gt=>{gt=gt[0];var jt=`${gt.name}.${P}`;P.startsWith("@@")&&(P=Symbol[P.substring(2)]),Re&&gt.registeredClass.pureVirtualFunctions.push(P);function Bt(){To(`Cannot call ${jt} due to unbound types`,st)}var In=gt.registeredClass.instancePrototype,Wn=In[P];return Wn===void 0||Wn.overloadTable===void 0&&Wn.className!==gt.name&&Wn.argCount===Y-2?(Bt.argCount=Y-2,Bt.className=gt.name,In[P]=Bt):(Co(In,P,jt),In[P].overloadTable[Y-2]=Bt),fn([],st,er=>{var Vi=Ni(jt,er,gt,Me,De,Ue);return In[P].overloadTable===void 0?(Vi.argCount=Y-2,In[P]=Vi):In[P].overloadTable[Y-2]=Vi,[]}),[]})},Es=[],wi=[],Eo=I=>{I>9&&--wi[I+1]===0&&(wi[I]=void 0,Es.push(I))},_i=()=>wi.length/2-5-Es.length,qs=()=>{wi.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=_i},Ui={toValue:I=>(I||mt("Cannot use deleted val. handle = "+I),wi[I]),toHandle:I=>{switch(I){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const P=Es.pop()||wi.length;return wi[P]=I,wi[P+1]=1,P}}}},Ys={name:"emscripten::val",fromWireType:I=>{var P=Ui.toValue(I);return Eo(I),P},toWireType:(I,P)=>Ui.toHandle(P),argPackAdvance:kt,readValueFromPointer:sl,destructorFunction:null},Xs=I=>Ut(I,Ys),Ks=I=>{if(I===null)return"null";var P=typeof I;return P==="object"||P==="array"||P==="function"?I.toString():""+I},al=(I,P)=>{switch(P){case 4:return function(Y){return this.fromWireType(me[Y>>2])};case 8:return function(Y){return this.fromWireType(G[Y>>3])};default:throw new TypeError(`invalid float width (${P}): ${I}`)}},Gi=(I,P,Y)=>{P=ct(P),Ut(I,{name:P,fromWireType:oe=>oe,toWireType:(oe,be)=>be,argPackAdvance:kt,readValueFromPointer:al(P,Y),destructorFunction:null})},_u=(I,P,Y)=>{switch(P){case 1:return Y?oe=>N[oe]:oe=>H[oe];case 2:return Y?oe=>V[oe>>1]:oe=>Z[oe>>1];case 4:return Y?oe=>J[oe>>2]:oe=>se[oe>>2];default:throw new TypeError(`invalid integer width (${P}): ${I}`)}},La=(I,P,Y,oe,be)=>{P=ct(P);var Me=gt=>gt;if(oe===0){var De=32-8*Y;Me=gt=>gt<<De>>>De}var Re=P.includes("unsigned"),Ue=(gt,jt)=>{},st;Re?st=function(gt,jt){return Ue(jt,this.name),jt>>>0}:st=function(gt,jt){return Ue(jt,this.name),jt},Ut(I,{name:P,fromWireType:Me,toWireType:st,argPackAdvance:kt,readValueFromPointer:_u(P,Y,oe!==0),destructorFunction:null})},Pa=(I,P,Y)=>{var oe=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],be=oe[P];function Me(De){var Re=se[De>>2],Ue=se[De+4>>2];return new be(N.buffer,Ue,Re)}Y=ct(Y),Ut(I,{name:Y,fromWireType:Me,argPackAdvance:kt,readValueFromPointer:Me},{ignoreDuplicateRegistrations:!0})},ul=(I,P,Y,oe)=>{if(!(oe>0))return 0;for(var be=Y,Me=Y+oe-1,De=0;De<I.length;++De){var Re=I.charCodeAt(De);if(Re>=55296&&Re<=57343){var Ue=I.charCodeAt(++De);Re=65536+((Re&1023)<<10)|Ue&1023}if(Re<=127){if(Y>=Me)break;P[Y++]=Re}else if(Re<=2047){if(Y+1>=Me)break;P[Y++]=192|Re>>6,P[Y++]=128|Re&63}else if(Re<=65535){if(Y+2>=Me)break;P[Y++]=224|Re>>12,P[Y++]=128|Re>>6&63,P[Y++]=128|Re&63}else{if(Y+3>=Me)break;P[Y++]=240|Re>>18,P[Y++]=128|Re>>12&63,P[Y++]=128|Re>>6&63,P[Y++]=128|Re&63}}return P[Y]=0,Y-be},Ro=(I,P,Y)=>ul(I,H,P,Y),Gl=I=>{for(var P=0,Y=0;Y<I.length;++Y){var oe=I.charCodeAt(Y);oe<=127?P++:oe<=2047?P+=2:oe>=55296&&oe<=57343?(P+=4,++Y):P+=3}return P},Zs=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ia=(I,P,Y)=>{for(var oe=P+Y,be=P;I[be]&&!(be>=oe);)++be;if(be-P>16&&I.buffer&&Zs)return Zs.decode(I.subarray(P,be));for(var Me="";P<be;){var De=I[P++];if(!(De&128)){Me+=String.fromCharCode(De);continue}var Re=I[P++]&63;if((De&224)==192){Me+=String.fromCharCode((De&31)<<6|Re);continue}var Ue=I[P++]&63;if((De&240)==224?De=(De&15)<<12|Re<<6|Ue:De=(De&7)<<18|Re<<12|Ue<<6|I[P++]&63,De<65536)Me+=String.fromCharCode(De);else{var st=De-65536;Me+=String.fromCharCode(55296|st>>10,56320|st&1023)}}return Me},Qs=(I,P)=>I?Ia(H,I,P):"",Mo=(I,P)=>{P=ct(P);var Y=P==="std::string";Ut(I,{name:P,fromWireType(oe){var be=se[oe>>2],Me=oe+4,De;if(Y)for(var Re=Me,Ue=0;Ue<=be;++Ue){var st=Me+Ue;if(Ue==be||H[st]==0){var gt=st-Re,jt=Qs(Re,gt);De===void 0?De=jt:(De+="\0",De+=jt),Re=st+1}}else{for(var Bt=new Array(be),Ue=0;Ue<be;++Ue)Bt[Ue]=String.fromCharCode(H[Me+Ue]);De=Bt.join("")}return Zr(oe),De},toWireType(oe,be){be instanceof ArrayBuffer&&(be=new Uint8Array(be));var Me,De=typeof be=="string";De||be instanceof Uint8Array||be instanceof Uint8ClampedArray||be instanceof Int8Array||mt("Cannot pass non-string to std::string"),Y&&De?Me=Gl(be):Me=be.length;var Re=Pi(4+Me+1),Ue=Re+4;if(se[Re>>2]=Me,Y&&De)Ro(be,Ue,Me+1);else if(De)for(var st=0;st<Me;++st){var gt=be.charCodeAt(st);gt>255&&(Zr(Ue),mt("String has UTF-16 code units that do not fit in 8 bits")),H[Ue+st]=gt}else for(var st=0;st<Me;++st)H[Ue+st]=be[st];return oe!==null&&oe.push(Zr,Re),Re},argPackAdvance:kt,readValueFromPointer:sl,destructorFunction(oe){Zr(oe)}})},Xr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,xu=(I,P)=>{for(var Y=I,oe=Y>>1,be=oe+P/2;!(oe>=be)&&Z[oe];)++oe;if(Y=oe<<1,Y-I>32&&Xr)return Xr.decode(H.subarray(I,Y));for(var Me="",De=0;!(De>=P/2);++De){var Re=V[I+De*2>>1];if(Re==0)break;Me+=String.fromCharCode(Re)}return Me},Oo=(I,P,Y)=>{if(Y??(Y=2147483647),Y<2)return 0;Y-=2;for(var oe=P,be=Y<I.length*2?Y/2:I.length,Me=0;Me<be;++Me){var De=I.charCodeAt(Me);V[P>>1]=De,P+=2}return V[P>>1]=0,P-oe},Cu=I=>I.length*2,Ao=(I,P)=>{for(var Y=0,oe="";!(Y>=P/4);){var be=J[I+Y*4>>2];if(be==0)break;if(++Y,be>=65536){var Me=be-65536;oe+=String.fromCharCode(55296|Me>>10,56320|Me&1023)}else oe+=String.fromCharCode(be)}return oe},ko=(I,P,Y)=>{if(Y??(Y=2147483647),Y<4)return 0;for(var oe=P,be=oe+Y-4,Me=0;Me<I.length;++Me){var De=I.charCodeAt(Me);if(De>=55296&&De<=57343){var Re=I.charCodeAt(++Me);De=65536+((De&1023)<<10)|Re&1023}if(J[P>>2]=De,P+=4,P+4>be)break}return J[P>>2]=0,P-oe},cl=I=>{for(var P=0,Y=0;Y<I.length;++Y){var oe=I.charCodeAt(Y);oe>=55296&&oe<=57343&&++Y,P+=4}return P},Kr=(I,P,Y)=>{Y=ct(Y);var oe,be,Me,De;P===2?(oe=xu,be=Oo,De=Cu,Me=Re=>Z[Re>>1]):P===4&&(oe=Ao,be=ko,De=cl,Me=Re=>se[Re>>2]),Ut(I,{name:Y,fromWireType:Re=>{for(var Ue=se[Re>>2],st,gt=Re+4,jt=0;jt<=Ue;++jt){var Bt=Re+4+jt*P;if(jt==Ue||Me(Bt)==0){var In=Bt-gt,Wn=oe(gt,In);st===void 0?st=Wn:(st+="\0",st+=Wn),gt=Bt+P}}return Zr(Re),st},toWireType:(Re,Ue)=>{typeof Ue!="string"&&mt(`Cannot pass non-string to C++ string type ${Y}`);var st=De(Ue),gt=Pi(4+st+P);return se[gt>>2]=st/P,be(Ue,gt+4,st+P),Re!==null&&Re.push(Zr,gt),gt},argPackAdvance:kt,readValueFromPointer:sl,destructorFunction(Re){Zr(Re)}})},Wl=(I,P)=>{P=ct(P),Ut(I,{isVoid:!0,name:P,argPackAdvance:0,fromWireType:()=>{},toWireType:(Y,oe)=>{}})},Vl=(I,P,Y)=>H.copyWithin(I,P,P+Y),Do=(I,P)=>P+2097152>>>0<4194305-!!I?(I>>>0)+P*4294967296:NaN;function on(I,P,Y){var oe=Do(I,P),be=new Date(oe*1e3);J[Y>>2]=be.getUTCSeconds(),J[Y+4>>2]=be.getUTCMinutes(),J[Y+8>>2]=be.getUTCHours(),J[Y+12>>2]=be.getUTCDate(),J[Y+16>>2]=be.getUTCMonth(),J[Y+20>>2]=be.getUTCFullYear()-1900,J[Y+24>>2]=be.getUTCDay();var Me=Date.UTC(be.getUTCFullYear(),0,1,0,0,0,0),De=(be.getTime()-Me)/(1e3*60*60*24)|0;J[Y+28>>2]=De}var gn=(I,P,Y,oe)=>{var be=new Date().getFullYear(),Me=new Date(be,0,1),De=new Date(be,6,1),Re=Me.getTimezoneOffset(),Ue=De.getTimezoneOffset(),st=Math.max(Re,Ue);se[I>>2]=st*60,J[P>>2]=+(Re!=Ue);var gt=In=>In.toLocaleTimeString(void 0,{hour12:!1,timeZoneName:"short"}).split(" ")[1],jt=gt(Me),Bt=gt(De);Ue<Re?(Ro(jt,Y,17),Ro(Bt,oe,17)):(Ro(jt,oe,17),Ro(Bt,Y,17))},ql=()=>Date.now(),xi=()=>2147483648,Js=I=>{var P=O.buffer,Y=(I-P.byteLength+65535)/65536;try{return O.grow(Y),ue(),1}catch{}},zo=I=>{var P=H.length;I>>>=0;var Y=xi();if(I>Y)return!1;for(var oe=(Ue,st)=>Ue+(st-Ue%st)%st,be=1;be<=4;be*=2){var Me=P*(1+.2/be);Me=Math.min(Me,I+100663296);var De=Math.min(Y,oe(Math.max(I,Me),65536)),Re=Js(De);if(Re)return!0}return!1},Rs={},Tu=()=>m,Dr=()=>{if(!Dr.strings){var I=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",P={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:I,_:Tu()};for(var Y in Rs)Rs[Y]===void 0?delete P[Y]:P[Y]=Rs[Y];var oe=[];for(var Y in P)oe.push(`${Y}=${P[Y]}`);Dr.strings=oe}return Dr.strings},ja=(I,P)=>{for(var Y=0;Y<I.length;++Y)N[P++]=I.charCodeAt(Y);N[P]=0},Gn=(I,P)=>{var Y=0;return Dr().forEach((oe,be)=>{var Me=P+Y;se[I+be*4>>2]=Me,ja(oe,Me),Y+=oe.length+1}),0},Wi=(I,P)=>{var Y=Dr();se[I>>2]=Y.length;var oe=0;return Y.forEach(be=>oe+=be.length+1),se[P>>2]=oe,0},pr=I=>I%4===0&&(I%100!==0||I%400===0),Eu=(I,P)=>{for(var Y=0,oe=0;oe<=P;Y+=I[oe++]);return Y},Yl=[31,29,31,30,31,30,31,31,30,31,30,31],Li=[31,28,31,30,31,30,31,31,30,31,30,31],fl=(I,P)=>{for(var Y=new Date(I.getTime());P>0;){var oe=pr(Y.getFullYear()),be=Y.getMonth(),Me=(oe?Yl:Li)[be];if(P>Me-Y.getDate())P-=Me-Y.getDate()+1,Y.setDate(1),be<11?Y.setMonth(be+1):(Y.setMonth(0),Y.setFullYear(Y.getFullYear()+1));else return Y.setDate(Y.getDate()+P),Y}return Y};function gi(I,P,Y){var oe=Gl(I)+1,be=new Array(oe);return ul(I,be,0,be.length),be}var Ru=(I,P)=>{N.set(I,P)},Mu=(I,P,Y,oe)=>{var be=se[oe+40>>2],Me={tm_sec:J[oe>>2],tm_min:J[oe+4>>2],tm_hour:J[oe+8>>2],tm_mday:J[oe+12>>2],tm_mon:J[oe+16>>2],tm_year:J[oe+20>>2],tm_wday:J[oe+24>>2],tm_yday:J[oe+28>>2],tm_isdst:J[oe+32>>2],tm_gmtoff:J[oe+36>>2],tm_zone:be?Qs(be):""},De=Qs(Y),Re={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ue in Re)De=De.replace(new RegExp(Ue,"g"),Re[Ue]);var st=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],gt=["January","February","March","April","May","June","July","August","September","October","November","December"];function jt(Ge,yt,ii){for(var bn=typeof Ge=="number"?Ge.toString():Ge||"";bn.length<yt;)bn=ii[0]+bn;return bn}function Bt(Ge,yt){return jt(Ge,yt,"0")}function In(Ge,yt){function ii(ji){return ji<0?-1:ji>0?1:0}var bn;return(bn=ii(Ge.getFullYear()-yt.getFullYear()))===0&&(bn=ii(Ge.getMonth()-yt.getMonth()))===0&&(bn=ii(Ge.getDate()-yt.getDate())),bn}function Wn(Ge){switch(Ge.getDay()){case 0:return new Date(Ge.getFullYear()-1,11,29);case 1:return Ge;case 2:return new Date(Ge.getFullYear(),0,3);case 3:return new Date(Ge.getFullYear(),0,2);case 4:return new Date(Ge.getFullYear(),0,1);case 5:return new Date(Ge.getFullYear()-1,11,31);case 6:return new Date(Ge.getFullYear()-1,11,30)}}function er(Ge){var yt=fl(new Date(Ge.tm_year+1900,0,1),Ge.tm_yday),ii=new Date(yt.getFullYear(),0,4),bn=new Date(yt.getFullYear()+1,0,4),ji=Wn(ii),Lo=Wn(bn);return In(ji,yt)<=0?In(Lo,yt)<=0?yt.getFullYear()+1:yt.getFullYear():yt.getFullYear()-1}var Vi={"%a":Ge=>st[Ge.tm_wday].substring(0,3),"%A":Ge=>st[Ge.tm_wday],"%b":Ge=>gt[Ge.tm_mon].substring(0,3),"%B":Ge=>gt[Ge.tm_mon],"%C":Ge=>{var yt=Ge.tm_year+1900;return Bt(yt/100|0,2)},"%d":Ge=>Bt(Ge.tm_mday,2),"%e":Ge=>jt(Ge.tm_mday,2," "),"%g":Ge=>er(Ge).toString().substring(2),"%G":er,"%H":Ge=>Bt(Ge.tm_hour,2),"%I":Ge=>{var yt=Ge.tm_hour;return yt==0?yt=12:yt>12&&(yt-=12),Bt(yt,2)},"%j":Ge=>Bt(Ge.tm_mday+Eu(pr(Ge.tm_year+1900)?Yl:Li,Ge.tm_mon-1),3),"%m":Ge=>Bt(Ge.tm_mon+1,2),"%M":Ge=>Bt(Ge.tm_min,2),"%n":()=>`
`,"%p":Ge=>Ge.tm_hour>=0&&Ge.tm_hour<12?"AM":"PM","%S":Ge=>Bt(Ge.tm_sec,2),"%t":()=>"	","%u":Ge=>Ge.tm_wday||7,"%U":Ge=>{var yt=Ge.tm_yday+7-Ge.tm_wday;return Bt(Math.floor(yt/7),2)},"%V":Ge=>{var yt=Math.floor((Ge.tm_yday+7-(Ge.tm_wday+6)%7)/7);if((Ge.tm_wday+371-Ge.tm_yday-2)%7<=2&&yt++,yt){if(yt==53){var bn=(Ge.tm_wday+371-Ge.tm_yday)%7;bn!=4&&(bn!=3||!pr(Ge.tm_year))&&(yt=1)}}else{yt=52;var ii=(Ge.tm_wday+7-Ge.tm_yday-1)%7;(ii==4||ii==5&&pr(Ge.tm_year%400-1))&&yt++}return Bt(yt,2)},"%w":Ge=>Ge.tm_wday,"%W":Ge=>{var yt=Ge.tm_yday+7-(Ge.tm_wday+6)%7;return Bt(Math.floor(yt/7),2)},"%y":Ge=>(Ge.tm_year+1900).toString().substring(2),"%Y":Ge=>Ge.tm_year+1900,"%z":Ge=>{var yt=Ge.tm_gmtoff,ii=yt>=0;return yt=Math.abs(yt)/60,yt=yt/60*100+yt%60,(ii?"+":"-")+("0000"+yt).slice(-4)},"%Z":Ge=>Ge.tm_zone,"%%":()=>"%"};De=De.replace(/%%/g,"\0\0");for(var Ue in Vi)De.includes(Ue)&&(De=De.replace(new RegExp(Ue,"g"),Vi[Ue](Me)));De=De.replace(/\0\0/g,"%");var qi=gi(De);return qi.length>P?0:(Ru(qi,I),qi.length-1)},Ou=(I,P,Y,oe,be)=>Mu(I,P,Y,oe);nt(),cn=r.BindingError=class extends Error{constructor(P){super(P),this.name="BindingError"}},ti=r.InternalError=class extends Error{constructor(P){super(P),this.name="InternalError"}},Us(),Ss(),Su(),dr=r.UnboundTypeError=Ts(Error,"UnboundTypeError"),qs();var Ba={_abort_js:Et,_embind_register_bigint:Ye,_embind_register_bool:Wt,_embind_register_class:Da,_embind_register_class_constructor:Ul,_embind_register_class_function:ll,_embind_register_emval:Xs,_embind_register_float:Gi,_embind_register_integer:La,_embind_register_memory_view:Pa,_embind_register_std_string:Mo,_embind_register_std_wstring:Kr,_embind_register_void:Wl,_emscripten_memcpy_js:Vl,_gmtime_js:on,_tzset_js:gn,emscripten_date_now:ql,emscripten_resize_heap:zo,environ_get:Gn,environ_sizes_get:Wi,strftime_l:Ou},Cn=Jt(),Au=I=>(Au=Cn.__getTypeName)(I),Pi=I=>(Pi=Cn.malloc)(I),Zr=I=>(Zr=Cn.free)(I);r.dynCall_iiijj=(I,P,Y,oe,be,Me,De)=>(r.dynCall_iiijj=Cn.dynCall_iiijj)(I,P,Y,oe,be,Me,De),r.dynCall_viijii=(I,P,Y,oe,be,Me,De)=>(r.dynCall_viijii=Cn.dynCall_viijii)(I,P,Y,oe,be,Me,De),r.dynCall_iiiiij=(I,P,Y,oe,be,Me,De)=>(r.dynCall_iiiiij=Cn.dynCall_iiiiij)(I,P,Y,oe,be,Me,De),r.dynCall_iiiiijj=(I,P,Y,oe,be,Me,De,Re,Ue)=>(r.dynCall_iiiiijj=Cn.dynCall_iiiiijj)(I,P,Y,oe,be,Me,De,Re,Ue),r.dynCall_iiiiiijj=(I,P,Y,oe,be,Me,De,Re,Ue,st)=>(r.dynCall_iiiiiijj=Cn.dynCall_iiiiiijj)(I,P,Y,oe,be,Me,De,Re,Ue,st);var No;Je=function I(){No||Ii(),No||(Je=I)};function Ii(){if(Oe>0||(Xe(),Oe>0))return;function I(){No||(No=!0,r.calledRun=!0,!k&&(ke(),o(r),qe()))}I()}return Ii(),i=f,i}})();const bO=["locateFile"],QS=()=>{};function SO(n,e){try{if(new URL(e).pathname==="/")return"".concat(e,"mediainfo.js/dist/").concat(n)}catch{}return"".concat(e,"../").concat(n)}function Dx(){var n;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(t===void 0)return new Promise((d,m)=>{Dx(e,d,m)});const r=yo(yo(yo({},ZS),e),{},{format:(n=e.format)!==null&&n!==void 0?n:ZS.format}),{locateFile:o}=r,a=cO(r,bO);yO({print:QS,printErr:QS,locateFile:o??SO,onAbort:d=>{i&&i(d)}}).then(d=>{t(new vO(d,a))}).catch(d=>{i&&i(d)})}const{showOpenFilePicker:wO,showSaveFilePicker:_O}=typeof document=="object"?(()=>{if(globalThis.showOpenFilePicker)return globalThis;const n=new WeakMap,e=FileSystemHandle.prototype,t=FileSystemFileHandle.prototype,i=document.createElement("input"),r=document.createElement("a"),o=V=>{const Z=d(t);return n.set(Z,V),Z},a=V=>x(Object(V==null?void 0:V.accept)).join(","),f=(V,Z)=>{i.click(),i.addEventListener("change",()=>{V([...i.files].map(o)),i.value=""},{once:!0}),i.addEventListener("cancel",()=>{Z(new DOMException("The user aborted a request."))},{once:!0})},{create:d,defineProperties:m,getOwnPropertyDescriptors:y,values:x}=Object,{name:T,kind:R,...O}=y(e),{getFile:k,...N}=y(t);i.type="file",m(e,{...O,...y({get name(){var V;return((V=n.get(this))==null?void 0:V.name)??T.call(this)},get kind(){return n.has(this)?"file":R.call(this)}})}),m(t,{...N,...y({async getFile(){return await n.get(this)||k.call(this)},async createWritable(){const V=new H;return n.set(V,n.get(this)),V}})});class H extends WritableStream{constructor(){_.set(super({write:async Z=>{const J=n.get(this);_.set(this,new File([J,Z instanceof Blob||Z instanceof Uint8Array||typeof Z=="string"?Z:ArrayBuffer.isView(Z)||Z instanceof ArrayBuffer?new Uint8Array(Z):Z instanceof DataView?new Uint8Array(Z.buffer):new Uint8Array(new TextEncoder().encode(String(Z)))],J.name,{type:J.type,lastModified:J.lastModified}))}}),new File([],"Untitled.txt",{type:"text/plain"}))}async write(Z){const J=this.getWriter();await J.write(Z),J.releaseLock()}async close(){const Z=n.get(this),J=URL.createObjectURL(Z);document.documentElement.append(r),r.href=J,r.download=Z.name,r.type=Z.type,r.click(),r.remove(),URL.revokeObjectURL(J)}}return{showOpenFilePicker(V=null){return i.multiple=!!(V!=null&&V.multiple),i.accept=[].concat((V==null?void 0:V.types)??[]).map(a).join(","),new Promise(f)},async showSaveFilePicker(V=null){var J,se;const Z=[].concat(Object.entries(Object((J=[].concat((V==null?void 0:V.types)??[])[0])==null?void 0:J.accept)))[0]||["text/plain",[".txt"]];return o(new File([],(V==null?void 0:V.suggestedName)??"Untitled"+(((se=Z==null?void 0:Z[1])==null?void 0:se[0])||".txt"),{type:(Z==null?void 0:Z[0])||"text/plain"}))}}})():{async showOpenFilePicker(){return[]},async showSaveFilePicker(){return[]}},xO=async n=>{const e=()=>n.size,t=()=>new Promise((o,a)=>{const f=new FileReader;f.addEventListener("load",()=>{f.result instanceof ArrayBuffer?o(new Uint8Array(f.result)):a()}),f.readAsArrayBuffer(n)});return(await(await new Promise(o=>Dx({format:"object",locateFile:a=>`./${a}`},o))).analyzeData(e,t)).media},zx=async n=>new Promise(e=>{const t=new FileReader;t.addEventListener("load",()=>{e(t.result)}),t.readAsDataURL(n)}),CO=async n=>new Promise(e=>{const t=new FileReader;t.addEventListener("load",()=>{e(t.result)}),t.readAsText(n)}),TO=async n=>new Promise(e=>{const t=new FileReader;t.addEventListener("load",()=>{const r=[`WEBVTT

`,t.result.replaceAll(/([0-9]+),([0-9]+)/gm,"$1.$2")].join("");e(new File([r],n.name.replace(/\.srt$/,".vtt")))}),t.readAsText(n)}),EO=async(n,e,t)=>{const i="WEBVTT",r=n.map(f=>{const d=f.vertical?`vertical:${f.vertical}`:"",m=f.line!=="auto"?`line:${f.line}${f.snapToLines?"":"%"}`:"",y=f.position!=="auto"?`position:${f.position}%`:"",x=f.size!==100?`size:${f.size} `:"",T=f.align!=="center"?`align:${f.align}`:"",R=[d,m,y,x,T].filter(O=>!!O).join(" ");return`${f.id}
${ew(f.startTime)} --> ${ew(f.endTime)} ${R}
${f.text}`.trim()}).join(`

`).trim(),o=ty(e,"::cue"),a=t.filter(f=>r.includes(`<c.${hu(f.name)}>`)).map(f=>ty(f.styles,`::cue(.${hu(f.name)})`)).join(`
`);return`${i}

STYLE
${o}
${a}

${r}`},Nx=async(n,e,t)=>{if("showSaveFilePicker"in window){const r=await(await _O({suggestedName:e,types:t})).createWritable();await r.write(n),await r.close()}else{const i=new File([n],e,{type:Object.keys(t[0].accept)[0]}),r=URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=e,o.click(),URL.revokeObjectURL(r)}},z1=async(n,e)=>{const[t]=await wO({types:n,excludeAcceptAllOption:!0,multiple:!1,startIn:e});return t.getFile()},RO=n=>{"scrollIntoViewIfNeeded"in n?n.scrollIntoViewIfNeeded(!1):n.scrollIntoView({block:"center"})},MO=n=>{if(!document.startViewTransition||window.matchMedia("(prefers-reduced-motion: reduce)").matches){n();return}document.startViewTransition(()=>n())};var Sm={exports:{}},OO=Sm.exports,JS;function AO(){return JS||(JS=1,function(n,e){(function(t,i){var r=function(o,a,f){if(!(this instanceof r))return new r(o,a,f);switch(typeof f=="boolean"?this.dropFrame=f:this.dropFrame=!1,this.frameRateDen=0,typeof a){case"undefined":this.frameRateNum=3e4,this.frameRateDen=1001,this.dropFrame=!0;break;case"object":Array.isArray(a)&&a.length>=2&&typeof a[0]=="number"&&typeof a[1]=="number"&&(this.frameRateNum=a[0],this.frameRateDen=a[1]);break;case"number":if(a>0){let T=Math.round(a);a===T?(this.frameRateNum=a,this.frameRateDen=1):a<T&&(T==24||T==30||T==60)&&(this.frameRateNum=T*1e3,this.frameRateDen=1001,T!=24&&typeof f!="boolean"&&(this.dropFrame=!0))}break}if(this.frameRateDen==0)throw new Error("Invalid framerate. Either a number or an array of [numerator,denominator] are expected.");if(this.frameRate=this.frameRateNum/this.frameRateDen,this.frameRateDen!=1&&(this.frameRate=Math.round((this.frameRate+Number.EPSILON)*100)/100),typeof o=="number")this.frameCount=Math.round(o),this._frameCountToTimeCode();else if(typeof o=="string"){var d=o.match("^([012]\\d):(\\d\\d):(\\d\\d)(:|;|\\.)(\\d+)$");if(!d)throw new Error("Timecode string expected as HH:MM:SS:FF or HH:MM:SS;FF");this.hours=parseInt(d[1]),this.minutes=parseInt(d[2]),this.seconds=parseInt(d[3]),typeof f!="boolean"&&(this.dropFrame=d[4]!==":"&&this.frameRate>25),this.frames=parseInt(d[5]),this._timeCodeToFrameCount()}else if(typeof o=="object"&&o instanceof Date){var m=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0),y=m.getTimezoneOffset()*60*1e3,x=o.getTimezoneOffset()*60*1e3;this.frameCount=Math.round((o-m+(y-x))*this.frameRate/1e3),this._frameCountToTimeCode()}else if(typeof o=="object"&&typeof o.hours<"u")!a&&o.frameRate&&(this.frameRate=o.frameRate,this.frameRateDen=o.frameRateDen,this.frameRateNum=o.frameRateNum),typeof o.dropFrame=="boolean"&&(this.dropFrame=o.dropFrame),this.hours=o.hours,this.minutes=o.minutes,this.seconds=o.seconds,this.frames=o.frames,this._timeCodeToFrameCount();else if(typeof o>"u")this.frameCount=0;else throw new Error("Timecode() constructor expects a number, timecode string, or Date()");return this._validate(o),this};r.prototype._validate=function(o){if(this.dropFrame&&this.frameRateDen!=1001)throw new Error("Drop frame is only supported for 23.976, 29.97, and 59.94 fps");if(this.hours>23||this.minutes>59||this.seconds>59||this.frames>=this.frameRate||this.dropFrame&&this.seconds===0&&this.minutes%10&&this.frames<2*(this.frameRate/29.97))throw new Error("Invalid timecode"+JSON.stringify(o))},r.prototype._frameCountToTimeCode=function(){var o=this.frameCount;if(this.dropFrame){var a=this.frameRate<=30?2:4,f=Math.floor(this.frameCount/(17982*a/2)),d=this.frameCount%(17982*a/2);d<a&&(d=d+a),o+=9*a*f+a*Math.floor((d-a)/(1798*a/2))}var m=Math.round(this.frameRate);this.frames=o%m,this.seconds=Math.floor(o/m)%60,this.minutes=Math.floor(o/(m*60))%60,this.hours=Math.floor(o/(m*3600))%24},r.prototype._timeCodeToFrameCount=function(){if(this.frameCount=(this.hours*3600+this.minutes*60+this.seconds)*Math.round(this.frameRate)+this.frames,this.dropFrame){var o=this.hours*60+this.minutes,a=this.frameRate<30?2:4;this.frameCount-=a*(o-Math.floor(o/10))}},r.prototype.toString=function(a){var f=this.frames,d="";if(typeof a=="string")if(a==="field")this.frameRate<=30?d=".0":(f=Math.floor(f/2),d=".".concat((this.frameCount%2).toString()));else throw new Error("Unsupported string format");return"".concat(String(this.hours).padStart(2,"0"),":",String(this.minutes).padStart(2,"0"),":",String(this.seconds).padStart(2,"0"),this.dropFrame?";":":",String(f).padStart(String(Math.round(this.frameRate)).length,"0"),d)},r.prototype.valueOf=function(){return this.frameCount},r.prototype.add=function(o,a,f){if(typeof o=="number"){var d=this.frameCount+Math.round(o)*(a?-1:1);if(d<0&&f>0&&(d=Math.round(this.frameRate*86400)+d,d/this.frameRate/3600>f))throw new Error("Rollover arithmetic exceeds max permitted");if(d<0)throw new Error("Negative timecodes not supported");this.frameCount=d}else return o instanceof r||(o=new r(o,[this.frameRateNum,this.frameRateDen],this.dropFrame)),this.add(o.frameCount,a,f);return this.frameCount=this.frameCount%Math.round(this.frameRate*86400),this._frameCountToTimeCode(),this},r.prototype.subtract=function(o,a){return this.add(o,!0,a)},r.prototype.toDate=function(){var o=this.frameCount/(this.frameRateNum/this.frameRateDen)*1e3,a=new Date;a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0);var f=new Date(a.valueOf()+o),d=a.getTimezoneOffset()*60*1e3,m=f.getTimezoneOffset()*60*1e3;return new Date(a.valueOf()+o+(m-d))},typeof e.nodeName!="string"?n.exports=r:t&&(t.Timecode=r)})(OO)}(Sm,Sm.exports)),Sm.exports}var kO=AO();const N1=Cy(kO),ew=n=>new Date(n*1e3).toISOString().substring(11,23),tw=(n,e)=>new N1(new Date(n*1e3),e).subtract("01:00:00;00").toString(),nw=(n,e)=>new N1(n,e).valueOf()/e,hu=n=>n.split("").map(e=>/[A-Z]/.test(e)?` ${e.toLowerCase()}`:e).join("").trim().replace(/[_\s]+/g,"-"),Ay=n=>typeof n=="number",DO=n=>!!n.name&&!!n.styles,iw=(n,e)=>{n.setCustomValidity(e),n.reportValidity()},rw=n=>{n.setCustomValidity(""),n.reportValidity()},zO=async(n,e=50)=>new Promise(t=>{const i=setInterval(()=>{n()&&(clearInterval(i),t())},e)}),NO=({onFileChanged:n,onCreateSubtitles:e})=>{const t=async()=>{try{const i=await z1([{description:"Caption Files",accept:{"text/*":[".srt",".vtt"]}}],"videos");n(i)}catch(i){if(i instanceof DOMException)switch(i.name){case"AbortError":return;default:console.error(i);return}else console.error(i)}};return B.jsxs("div",{className:"caption-picker",children:["Do you want to create your subtitles here or import a subtitle file?",B.jsxs("div",{className:"caption-picker__container",children:[B.jsx("button",{className:"button",onClick:e,children:"Create Subtitles"}),B.jsxs("div",{children:[B.jsx("button",{className:"button",onClick:t,children:"Import Caption File..."}),B.jsx("span",{className:"caption-picker__allowed-extensions",children:"*.srt, *.vtt"})]})]})]})},Lx=({warnings:n,className:e=""})=>B.jsx("div",{className:`accessibility-warning ${e}`,children:n.map((t,i)=>{if(t&&!t.isCompliant)return B.jsxs("div",{className:"accessibility-warning__card",children:[B.jsxs("span",{className:"accessibility-warning__title",children:[B.jsx(ki,{name:"error",className:"accessibility-warning__icon"}),t.title]}),B.jsx("span",{className:"accessibility-warning__description",children:t.message}),t.link&&B.jsx("a",{className:"accessibility-warning__link",href:t.link,target:"_blank",children:"Learn More"})]},i)})}),LO=({cueProperties:n,children:e,className:t=""})=>{const i=sO(n);return B.jsx("div",{className:`cue ${t}`,style:oO(i),children:B.jsx("span",{className:"cue__text",children:e})})},Px=(n,e)=>{const t=r=>{r.key==="Escape"&&e()},i=r=>{n.current&&r.target instanceof Element&&(n.current.contains(r.target)||e())};q.useEffect(()=>(window.addEventListener("keyup",t),window.addEventListener("mouseup",i),()=>{window.removeEventListener("keyup",t),window.removeEventListener("mouseup",i)}),[])},PO=(n=1e3)=>{const[e,t]=q.useState(!1),i=q.useCallback(()=>{t(!0),setTimeout(()=>t(!1),n)},[n]);return[e,i]},IO=({label:n,name:e,value:t,onChange:i,className:r=""})=>{const o=q.useRef(null),[a,f]=q.useState([]);return Px(o,()=>{var d;return(d=o.current)==null?void 0:d.removeAttribute("open")}),q.useEffect(()=>{"queryLocalFonts"in window&&window.queryLocalFonts().then(d=>d.reduce((m,y)=>(m.some(x=>x.family===y.family)||m.push(y),m),[])).then(d=>f(d))},[]),B.jsxs(B.Fragment,{children:[B.jsxs("label",{className:`font-input full-width ${r}`,children:[B.jsx("span",{className:"sr-only",children:n}),B.jsx("input",{type:"text",name:e,value:t,onChange:i,list:"fontOptions",className:"font-input__input"}),B.jsxs("details",{ref:o,children:[B.jsx("summary",{className:"font-input__help-button button button--icon",children:B.jsx(ki,{name:"info"})}),B.jsx("p",{className:"font-input__help-text",children:"Choose a web safe font from the drop-down, or any font on your system. If you choose a font from your system you will need to install it on your website."})]})]}),B.jsxs("datalist",{id:"fontOptions",children:[B.jsx("option",{value:"sans-serif"}),B.jsx("option",{value:"serif"}),B.jsx("option",{value:"monospace"}),B.jsx("option",{value:"fantasy"}),a.map(d=>B.jsx("option",{value:d.family},d.family))]})]})},jO=({title:n,titleId:e,...t},i)=>q.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve","xmlns:serif":"http://www.serif.com/",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:i,"aria-labelledby":e,...t},n?q.createElement("title",{id:e},n):null,q.createElement("rect",{id:"Add",x:0,y:0,width:127.962,height:128,style:{fill:"none"}}),q.createElement("clipPath",{id:"_clip1"},q.createElement("rect",{x:0,y:0,width:127.962,height:128})),q.createElement("g",{clipPath:"url(#_clip1)"},q.createElement("path",{d:"M51.981,52l-44,-0c-4.415,-0 -8,3.585 -8,8l0,8c0,4.415 3.585,8 8,8l44,-0l0,44c0,4.415 3.585,8 8,8l8,0c4.415,0 8,-3.585 8,-8l0,-44l44,-0c4.415,-0 8,-3.585 8,-8l0,-8c0,-4.415 -3.585,-8 -8,-8l-44,-0l0,-44c0,-4.415 -3.585,-8 -8,-8l-8,0c-4.415,0 -8,3.585 -8,8l0,44Z"}))),BO=q.forwardRef(jO),HO=({title:n,titleId:e,...t},i)=>q.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve","xmlns:serif":"http://www.serif.com/",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:i,"aria-labelledby":e,...t},n?q.createElement("title",{id:e},n):null,q.createElement("rect",{id:"Align-Center","serif:id":"Align Center",x:0,y:0,width:127.962,height:128,style:{fill:"none"}}),q.createElement("clipPath",{id:"_clip1"},q.createElement("rect",{x:0,y:0,width:127.962,height:128})),q.createElement("g",{clipPath:"url(#_clip1)"},q.createElement("path",{d:"M111.998,104c0,-4.415 -3.584,-8 -8,-8l-80.034,-0c-4.415,-0 -8,3.585 -8,8l-0,8c-0,4.415 3.585,8 8,8l80.034,-0c4.416,-0 8,-3.585 8,-8l0,-8Z"}),q.createElement("path",{d:"M111.998,104c0,-4.415 -3.584,-8 -8,-8l-80.034,-0c-4.415,-0 -8,3.585 -8,8l-0,8c-0,4.415 3.585,8 8,8l80.034,-0c4.416,-0 8,-3.585 8,-8l0,-8Zm-8,-0c0,0 0,8 0,8c0,-4.415 -4.415,-0 0,-0l-80.034,-0c-0,-0 -0,-8 -0,-8c-0,4.415 4.415,-0 -0,-0l80.034,-0Z"}),q.createElement("path",{d:"M127.962,16c0,-4.415 -3.584,-8 -8,-8l-111.962,-0c-4.415,-0 -8,3.585 -8,8l0,8c0,4.415 3.585,8 8,8l111.962,-0c4.416,-0 8,-3.585 8,-8l0,-8Z"}),q.createElement("path",{d:"M127.962,16c0,-4.415 -3.584,-8 -8,-8l-111.962,0c-4.415,0 -8,3.585 -8,8l0,8c0,4.415 3.585,8 8,8l111.962,0c4.416,0 8,-3.585 8,-8l0,-8Zm-119.962,-0c0,-0 111.962,-0 111.962,-0c0,0 0,8 0,8c0,0 -111.962,0 -111.962,0l-0,-8Z"}),q.createElement("path",{d:"M95.972,60.011c-0,-4.416 -3.585,-8 -8,-8l-47.981,-0c-4.416,-0 -8,3.584 -8,8l-0,8c-0,4.415 3.584,8 8,8l47.981,-0c4.415,-0 8,-3.585 8,-8l-0,-8Z"}),q.createElement("path",{d:"M95.972,60.011c-0,-4.416 -3.585,-8 -8,-8l-47.981,-0c-4.416,-0 -8,3.584 -8,8l-0,8c-0,4.415 3.584,8 8,8l47.981,-0c4.415,-0 8,-3.585 8,-8l-0,-8Zm-8,-0c-0,-0 -0,8 -0,8c-0,-0 -47.981,-0 -47.981,-0c-0,-0 -0,-8 -0,-8c-0,-0 47.981,-0 47.981,-0Z"}))),$O=q.forwardRef(HO),FO=({title:n,titleId:e,...t},i)=>q.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve","xmlns:serif":"http://www.serif.com/",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:i,"aria-labelledby":e,...t},n?q.createElement("title",{id:e},n):null,q.createElement("rect",{id:"Align-Left","serif:id":"Align Left",x:0,y:0,width:127.962,height:128,style:{fill:"none"}}),q.createElement("path",{d:"M96.035,104c-0,-4.415 -3.585,-8 -8,-8l-80.035,-0c-4.415,-0 -8,3.585 -8,8l0,8c0,4.415 3.585,8 8,8l80.035,-0c4.415,-0 8,-3.585 8,-8l-0,-8Z"}),q.createElement("path",{d:"M96.035,104c-0,-4.415 -3.585,-8 -8,-8l-80.035,-0c-4.415,-0 -8,3.585 -8,8l0,8c0,4.415 3.585,8 8,8l80.035,-0c4.415,-0 8,-3.585 8,-8l-0,-8Zm-8,-0c-0,0 -0,8 -0,8c-0,-4.415 -4.416,-0 -0,-0l-80.035,-0c0,-0 0,-8 0,-8c0,4.415 4.415,-0 -0,-0l80.035,-0Z"}),q.createElement("path",{d:"M127.962,16c0,-4.415 -3.584,-8 -8,-8l-111.962,-0c-4.415,-0 -8,3.585 -8,8l0,8c0,4.415 3.585,8 8,8l111.962,-0c4.416,-0 8,-3.585 8,-8l0,-8Z"}),q.createElement("path",{d:"M127.962,16c0,-4.415 -3.584,-8 -8,-8l-111.962,0c-4.415,0 -8,3.585 -8,8l0,8c0,4.415 3.585,8 8,8l111.962,0c4.416,0 8,-3.585 8,-8l0,-8Zm-8,-0c0,0 0,8 0,8c0,0 -111.962,0 -111.962,0c0,-0 0,-8 0,-8c0,-0 111.962,-0 111.962,-0Z"}),q.createElement("path",{d:"M63.981,60c0,-4.415 -3.585,-8 -8,-8l-47.981,0c-4.415,0 -8,3.585 -8,8l0,8c0,4.415 3.585,8 8,8l47.981,0c4.415,0 8,-3.585 8,-8l0,-8Z"}),q.createElement("path",{d:"M63.981,60c0,-4.415 -3.585,-8 -8,-8l-47.981,0c-4.415,0 -8,3.585 -8,8l0,8c0,4.415 3.585,8 8,8l47.981,0c4.415,0 8,-3.585 8,-8l0,-8Zm-55.981,-0c0,0 47.981,0 47.981,0l0,8c0,0 -47.981,0 -47.981,0l-0,-8Z"})),UO=q.forwardRef(FO),GO=({title:n,titleId:e,...t},i)=>q.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve","xmlns:serif":"http://www.serif.com/",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:i,"aria-labelledby":e,...t},n?q.createElement("title",{id:e},n):null,q.createElement("rect",{id:"Align-Right","serif:id":"Align Right",x:0,y:0,width:127.962,height:128,style:{fill:"none"}}),q.createElement("clipPath",{id:"_clip1"},q.createElement("rect",{x:0,y:0,width:127.962,height:128})),q.createElement("g",{clipPath:"url(#_clip1)"},q.createElement("path",{d:"M127.962,104c0,-4.415 -3.584,-8 -8,-8l-80.034,-0c-4.416,-0 -8,3.585 -8,8l-0,8c-0,4.415 3.584,8 8,8l80.034,-0c4.416,-0 8,-3.585 8,-8l0,-8Z"}),q.createElement("path",{d:"M127.962,104c0,-4.415 -3.584,-8 -8,-8l-80.034,-0c-4.416,-0 -8,3.585 -8,8l-0,8c-0,4.415 3.584,8 8,8l80.034,-0c4.416,-0 8,-3.585 8,-8l0,-8Zm-8,-0c0,0 0,8 0,8c0,-4.415 -4.415,-0 0,-0l-80.034,-0c-0,-0 -0,-8 -0,-8c-0,4.415 4.415,-0 -0,-0l80.034,-0Z"}),q.createElement("path",{d:"M127.962,16c0,-4.415 -3.584,-8 -8,-8l-111.962,-0c-4.415,-0 -8,3.585 -8,8l0,8c0,4.415 3.585,8 8,8l111.962,-0c4.416,-0 8,-3.585 8,-8l0,-8Z"}),q.createElement("path",{d:"M127.962,16c0,-4.415 -3.584,-8 -8,-8l-111.962,0c-4.415,0 -8,3.585 -8,8l0,8c0,4.415 3.585,8 8,8l111.962,0c4.416,0 8,-3.585 8,-8l0,-8Zm-119.962,-0c0,-0 111.962,-0 111.962,-0c0,0 0,8 0,8c0,0 -111.962,0 -111.962,0l-0,-8Z"}),q.createElement("path",{d:"M127.962,60c0,-4.415 -3.584,-8 -8,-8l-47.981,-0c-4.415,-0 -8,3.585 -8,8l0,8c0,4.415 3.585,8 8,8l47.981,0c4.416,0 8,-3.585 8,-8l0,-8Z"}),q.createElement("path",{d:"M127.962,60c0,-4.415 -3.584,-8 -8,-8l-47.981,-0c-4.415,-0 -8,3.585 -8,8l0,8c0,4.415 3.585,8 8,8l47.981,-0c4.416,-0 8,-3.585 8,-8l0,-8Zm-55.981,-0c0,-0 47.981,-0 47.981,-0c0,0 0,8 0,8c0,0 -47.981,0 -47.981,0l0,-8Z"}))),WO=q.forwardRef(GO),VO=({title:n,titleId:e,...t},i)=>q.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve","xmlns:serif":"http://www.serif.com/",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:i,"aria-labelledby":e,...t},n?q.createElement("title",{id:e},n):null,q.createElement("rect",{id:"Bold",x:0,y:0,width:127.962,height:128,style:{fill:"none"}}),q.createElement("clipPath",{id:"_clip1"},q.createElement("rect",{x:0,y:0,width:127.962,height:128})),q.createElement("g",{clipPath:"url(#_clip1)"},q.createElement("path",{d:"M67.706,128l-42.795,0c-4.4,-0 -7.967,-3.567 -7.967,-7.967c0,-22.916 0,-88.828 0,-111.821c0,-2.13 0.846,-4.172 2.352,-5.678c1.506,-1.505 3.548,-2.351 5.677,-2.351c8.47,-0 20.602,-0 20.602,-0l-0,0.026l16.031,-0.209c8.839,0 16.593,1.369 23.264,4.108c6.67,2.739 11.892,6.86 15.666,12.363c3.774,5.502 5.661,12.429 5.661,20.779c-0,6.402 -2.398,12.33 -7.194,17.784c-1.768,2.01 -3.79,3.874 -6.066,5.592c3.975,2.086 7.366,4.611 10.174,7.574c5.271,5.563 7.907,13.092 7.907,22.587c0,7.961 -1.826,14.716 -5.478,20.267c-3.652,5.551 -8.722,9.763 -15.211,12.636c-6.489,2.873 -14.03,4.31 -22.623,4.31Zm-22.131,-25.966l-0,-28.008l17.931,-0c5.307,-0.122 9.494,1.095 12.562,3.652c3.068,2.556 4.602,6.001 4.602,10.333c0,4.189 -1.448,7.573 -4.345,10.153c-2.897,2.58 -6.841,3.87 -11.832,3.87l-18.918,0Zm-0,-51.637l-0,-27.207l14.134,-0c4.991,-0.122 8.977,1.034 11.96,3.469c2.982,2.435 4.473,5.818 4.473,10.151c0,4.286 -1.406,7.621 -4.218,10.007c-2.812,2.387 -6.556,3.58 -11.231,3.58l-15.118,-0Z"}))),qO=q.forwardRef(VO),YO=({title:n,titleId:e,...t},i)=>q.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve","xmlns:serif":"http://www.serif.com/",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:i,"aria-labelledby":e,...t},n?q.createElement("title",{id:e},n):null,q.createElement("rect",{id:"X",x:0,y:0,width:127.962,height:128,style:{fill:"none"}}),q.createElement("path",{d:"M63.981,47.029l-31.099,-31.099c-3.122,-3.122 -8.192,-3.122 -11.314,0l-5.657,5.657c-3.122,3.122 -3.122,8.192 0,11.314l31.1,31.099l-31.1,31.099c-3.122,3.122 -3.122,8.192 0,11.314l5.657,5.657c3.122,3.122 8.192,3.122 11.314,-0l31.099,-31.099l31.1,31.099c3.122,3.122 8.191,3.122 11.313,-0l5.657,-5.657c3.122,-3.122 3.122,-8.192 0,-11.314l-31.099,-31.099l31.099,-31.099c3.122,-3.122 3.122,-8.192 0,-11.314l-5.657,-5.657c-3.122,-3.122 -8.191,-3.122 -11.313,0l-31.1,31.099Z"}),q.createElement("path",{d:"M63.981,47.029l-31.099,-31.099c-3.122,-3.122 -8.192,-3.122 -11.314,0l-5.657,5.657c-3.122,3.122 -3.122,8.192 0,11.314l31.1,31.099l-31.1,31.099c-3.122,3.122 -3.122,8.192 0,11.314l5.657,5.657c3.122,3.122 8.192,3.122 11.314,-0l31.099,-31.099l31.1,31.099c3.122,3.122 8.191,3.122 11.313,-0l5.657,-5.657c3.122,-3.122 3.122,-8.192 0,-11.314l-31.099,-31.099l31.099,-31.099c3.122,-3.122 3.122,-8.192 0,-11.314l-5.657,-5.657c-3.122,-3.122 -8.191,-3.122 -11.313,0l-31.1,31.099Zm-36.756,-25.442c-0,-0 31.099,31.099 31.099,31.099c3.125,3.124 8.19,3.124 11.314,0l31.099,-31.099c0,-0 5.657,5.657 5.657,5.657c0,-0 -31.099,31.099 -31.099,31.099c-3.124,3.124 -3.124,8.19 -0,11.314l31.099,31.099c0,0 -5.657,5.657 -5.657,5.657c0,0 -31.099,-31.099 -31.099,-31.099c-3.124,-3.124 -8.189,-3.124 -11.314,-0l-31.099,31.099c-0,0 -5.657,-5.657 -5.657,-5.657c0,0 31.099,-31.099 31.099,-31.099c3.125,-3.124 3.125,-8.19 0,-11.314l-31.099,-31.099l5.657,-5.657Z"})),XO=q.forwardRef(YO),KO=({title:n,titleId:e,...t},i)=>q.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve","xmlns:serif":"http://www.serif.com/",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:i,"aria-labelledby":e,...t},n?q.createElement("title",{id:e},n):null,q.createElement("rect",{id:"Error",x:0,y:0,width:127.962,height:128,style:{fill:"none"}}),q.createElement("clipPath",{id:"_clip1"},q.createElement("rect",{x:0,y:0,width:127.962,height:128})),q.createElement("g",{clipPath:"url(#_clip1)"},q.createElement("path",{d:"M63.981,0c35.312,0 63.981,28.677 63.981,64c0,35.323 -28.669,64 -63.981,64c-35.312,0 -63.981,-28.677 -63.981,-64c0,-35.323 28.669,-64 63.981,-64Zm12,94c0,-3.311 -2.688,-6 -6,-6l-12,0c-3.311,0 -6,2.689 -6,6l0,12c0,3.311 2.689,6 6,6l12,0c3.312,0 6,-2.689 6,-6l0,-12Zm0,-72c0,-3.311 -2.688,-6 -6,-6l-12,0c-3.311,0 -6,2.689 -6,6l0,44c0,3.311 2.689,6 6,6l12,0c3.312,0 6,-2.689 6,-6l0,-44Z"}))),ZO=q.forwardRef(KO),QO=({title:n,titleId:e,...t},i)=>q.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve","xmlns:serif":"http://www.serif.com/",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:i,"aria-labelledby":e,...t},n?q.createElement("title",{id:e},n):null,q.createElement("rect",{id:"Info",x:0,y:0,width:127.962,height:128,style:{fill:"none"}}),q.createElement("clipPath",{id:"_clip1"},q.createElement("rect",{x:0,y:0,width:127.962,height:128})),q.createElement("g",{clipPath:"url(#_clip1)"},q.createElement("path",{d:"M64.395,0.001c35.122,0.223 63.567,28.814 63.567,63.999c0,27.456 -17.321,50.898 -41.625,59.978l-0.366,0.136c-6.733,2.468 -13.998,3.836 -21.576,3.885l-0.414,0.001c-35.312,-0 -63.981,-28.677 -63.981,-64c0,-35.185 28.446,-63.776 63.568,-63.999l0.413,-0.001l0.414,0.001Zm5.586,55.999l-12,-0c-1.709,-0 -3.251,0.716 -4.345,1.864c-1.025,1.076 -1.655,2.533 -1.655,4.136l0,44c0,3.311 2.689,6 6,6l12,-0l0.155,-0.002c3.24,-0.082 5.845,-2.738 5.845,-5.998l0,-44c0,-3.26 -2.605,-5.916 -5.845,-5.998l-0.155,-0.002Zm0.155,-16.002c3.24,-0.082 5.845,-2.738 5.845,-5.998l0,-12c0,-3.311 -2.688,-6 -6,-6l-12,-0c-3.311,-0 -6,2.689 -6,6l0,12c0,3.311 2.689,6 6,6l12,-0l0.155,-0.002Z"}))),JO=q.forwardRef(QO),eA=({title:n,titleId:e,...t},i)=>q.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve","xmlns:serif":"http://www.serif.com/",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:i,"aria-labelledby":e,...t},n?q.createElement("title",{id:e},n):null,q.createElement("rect",{id:"Italics",x:0,y:0,width:127.962,height:128,style:{fill:"none"}}),q.createElement("clipPath",{id:"_clip1"},q.createElement("rect",{x:0,y:0,width:127.962,height:128})),q.createElement("g",{clipPath:"url(#_clip1)"},q.createElement("path",{d:"M71.877,0l-23.877,0c-4.415,-0 -8,3.585 -8,8c-0,4.415 3.585,8 8,8l14.776,0l-13.714,96l-17.062,0c-4.415,-0 -8,3.585 -8,8c-0,4.415 3.585,8 8,8l23.892,0c0.077,0.001 0.154,0.001 0.231,0l23.877,0c4.415,-0 8,-3.585 8,-8c-0,-4.415 -3.585,-8 -8,-8l-14.776,0l13.714,-96l17.062,0c4.415,-0 8,-3.585 8,-8c-0,-4.415 -3.585,-8 -8,-8l-23.892,0c-0.077,-0.001 -0.154,-0.001 -0.231,0Z"}))),tA=q.forwardRef(eA),nA=({title:n,titleId:e,...t},i)=>q.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve","xmlns:serif":"http://www.serif.com/",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:i,"aria-labelledby":e,...t},n?q.createElement("title",{id:e},n):null,q.createElement("rect",{id:"Manual",x:0,y:0,width:127.962,height:128,style:{fill:"none"}}),q.createElement("clipPath",{id:"_clip1"},q.createElement("rect",{x:0,y:0,width:127.962,height:128})),q.createElement("g",{clipPath:"url(#_clip1)"},q.createElement("path",{d:"M10,14.588l-0,-8.588c0,-3.314 2.686,-6 6,-6c0,0 25.285,0.138 40.473,8.369c3.062,1.66 5.737,3.627 7.881,5.916c0.478,-0.512 0.992,-1.026 1.545,-1.539c6.604,-6.13 19.682,-12.746 46.101,-12.746c3.314,0 6,2.686 6,6l-0,8.127c2.758,1.95 5.534,4.319 8.305,7.174c1.087,1.12 1.695,2.619 1.695,4.179l-0,96.52c0,2.438 -1.475,4.633 -3.732,5.555c-2.257,0.921 -4.847,0.386 -6.554,-1.356c0,0 -12.18,-12.581 -27.992,-11.333c-6.739,0.531 -14.056,3.717 -21.43,11.313c-1.131,1.165 -2.686,1.822 -4.309,1.821l-0.007,-0c-1.772,-0.001 -3.364,-0.769 -4.462,-1.991c-1.479,-1.472 -12.98,-12.388 -27.708,-11.22c-6.744,0.536 -14.079,3.745 -21.501,11.39c-1.702,1.753 -4.296,2.299 -6.56,1.381c-2.264,-0.918 -3.745,-3.117 -3.745,-5.56l-0,-96.52c0,-1.528 0.583,-2.999 1.631,-4.112c-0,0 3.098,-3.262 8.369,-6.78Zm47.981,13.901l0,74.737c-6.77,-4.545 -17.812,-8.667 -35.981,-9.414c-0,0 -0,-81.57 -0,-81.57l-0,0c5.887,0.399 15.12,1.452 23.116,4.238c3.772,1.314 7.273,2.99 9.788,5.327c1.841,1.71 3.074,3.809 3.074,6.48c-0,0.068 0.001,0.135 0.003,0.202Zm12,74.443l0,-74.68c0.084,-0.798 2.032,-14.662 36.019,-16.127c-0,-0 -0,81.828 -0,81.828c-8.426,0.569 -23.919,2.377 -34.508,8.116c-0.515,0.279 -1.019,0.566 -1.511,0.863Z"}))),iA=q.forwardRef(nA),rA=({title:n,titleId:e,...t},i)=>q.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve","xmlns:serif":"http://www.serif.com/",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:i,"aria-labelledby":e,...t},n?q.createElement("title",{id:e},n):null,q.createElement("rect",{id:"More",x:0,y:0,width:127.962,height:128,style:{fill:"none"}}),q.createElement("clipPath",{id:"_clip1"},q.createElement("rect",{x:0,y:0,width:127.962,height:128})),q.createElement("g",{clipPath:"url(#_clip1)"},q.createElement("circle",{cx:63.981,cy:16,r:16}),q.createElement("circle",{cx:63.981,cy:64,r:16}),q.createElement("circle",{cx:63.981,cy:112,r:16}))),sA=q.forwardRef(rA),oA=({title:n,titleId:e,...t},i)=>q.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve","xmlns:serif":"http://www.serif.com/",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:i,"aria-labelledby":e,...t},n?q.createElement("title",{id:e},n):null,q.createElement("rect",{id:"Subtract",x:0,y:0,width:127.962,height:128,style:{fill:"none"}}),q.createElement("clipPath",{id:"_clip1"},q.createElement("rect",{x:0,y:0,width:127.962,height:128})),q.createElement("g",{clipPath:"url(#_clip1)"},q.createElement("path",{d:"M127.981,58c0,-3.311 -2.688,-6 -6,-6l-115.962,0c-3.312,0 -6,2.689 -6,6l-0,12c-0,3.311 2.688,6 6,6l115.962,0c3.312,0 6,-2.689 6,-6l0,-12Z"}))),lA=q.forwardRef(oA),aA=({title:n,titleId:e,...t},i)=>q.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve","xmlns:serif":"http://www.serif.com/",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:i,"aria-labelledby":e,...t},n?q.createElement("title",{id:e},n):null,q.createElement("rect",{id:"Underline",x:0,y:0,width:127.962,height:128,style:{fill:"none"}}),q.createElement("clipPath",{id:"_clip1"},q.createElement("rect",{x:0,y:0,width:127.962,height:128})),q.createElement("g",{clipPath:"url(#_clip1)"},q.createElement("path",{d:"M84.054,9.188c-0,-2.437 0.968,-4.774 2.691,-6.497c1.723,-1.723 4.06,-2.691 6.497,-2.691c-0,-0 -0,-0 -0,-0c2.436,0 4.773,0.968 6.496,2.691c1.723,1.723 2.692,4.06 2.692,6.497c-0,16.609 -0,49.925 -0,49.925l-0.002,0.349c-0.048,7.315 -1.626,13.696 -4.733,19.144c-3.157,5.534 -7.637,9.816 -13.44,12.847c-5.803,3.031 -12.66,4.547 -20.57,4.547c-7.73,-0 -14.465,-1.516 -20.205,-4.547c-5.74,-3.031 -10.166,-7.313 -13.279,-12.847c-3.112,-5.534 -4.668,-12.032 -4.668,-19.493l-0,-49.925c-0,-2.437 0.968,-4.774 2.691,-6.497c1.723,-1.723 4.06,-2.691 6.497,-2.691c-0,-0 -0,-0 -0,-0c2.437,0 4.774,0.968 6.497,2.691c1.723,1.723 2.691,4.06 2.691,6.497c-0,16.609 -0,49.925 -0,49.925l0,0.188c0.026,3.921 0.86,7.356 2.502,10.306c1.669,2.996 4.005,5.31 7.01,6.942c3.004,1.632 6.515,2.448 10.533,2.448c4.054,-0 7.597,-0.816 10.629,-2.448c3.032,-1.632 5.368,-3.946 7.009,-6.942c1.641,-2.996 2.462,-6.494 2.462,-10.494l-0,-49.925Z",style:{fillRule:"nonzero"}}),q.createElement("path",{d:"M23.986,128l79.99,0c4.415,-0 8,-3.585 8,-8c0,-4.415 -3.585,-8 -8,-8l-79.99,0c-4.415,-0 -8,3.585 -8,8c0,4.415 3.585,8 8,8Z"}))),uA=q.forwardRef(aA),cA=({title:n,titleId:e,...t},i)=>q.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve","xmlns:serif":"http://www.serif.com/",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:i,"aria-labelledby":e,...t},n?q.createElement("title",{id:e},n):null,q.createElement("path",{d:"M68.001,0.001L68,0L31.976,0C25.353,0 19.976,5.377 19.976,12L19.976,116C19.976,122.623 25.353,128 31.976,128L96.024,128C102.647,128 108.024,122.623 108.024,116L108.024,39.999L108.023,39.998C108.023,38.975 107.632,37.951 106.852,37.171L70.827,1.171C70.047,0.391 69.024,0.001 68.001,0.001ZM64,8L64,32C64,38.623 69.377,44 76,44L100.024,44L100.024,116C100.024,118.208 98.232,120 96.024,120L31.976,120C29.768,120 27.976,118.208 27.976,116C27.976,116 27.976,12 27.976,12C27.976,9.792 29.768,8 31.976,8L64,8Z"}),q.createElement("g",{transform:"matrix(8.43903e-17,1.3782,-1.38676,8.49143e-17,168.886,-14.7353)"},q.createElement("path",{d:"M58.531,63.879C60.134,61.403 62.894,59.906 65.857,59.908C68.819,59.909 71.578,61.407 73.179,63.885C76.337,68.771 80.053,74.521 83.343,79.611C85.064,82.274 85.185,85.658 83.658,88.436C82.131,91.213 79.201,92.941 76.017,92.941L55.671,92.941C52.485,92.941 49.554,91.212 48.028,88.433C46.502,85.653 46.625,82.268 48.349,79.605C51.645,74.515 55.368,68.764 58.531,63.879ZM63.412,67C63.947,66.175 64.867,65.676 65.854,65.676C66.842,65.677 67.761,66.176 68.295,67.002C68.295,67.002 78.459,82.729 78.459,82.729C79.032,83.616 79.073,84.744 78.564,85.67C78.055,86.596 77.078,87.172 76.017,87.172L55.671,87.172C54.609,87.172 53.632,86.596 53.123,85.669C52.615,84.743 52.656,83.614 53.23,82.727L63.412,67Z"}))),fA=q.forwardRef(cA),dA={add:BO,alignCenter:$O,alignLeft:UO,alignRight:WO,bold:qO,cross:XO,error:ZO,info:JO,italics:tA,manual:iA,more:sA,subtract:lA,underline:uA,videoFile:fA},ki=({name:n,className:e=""})=>{const t=dA[n];return t?B.jsx("div",{className:`icon ${e}`,children:B.jsx(t,{})}):null},Ix=({label:n,className:e="",children:t})=>B.jsxs("fieldset",{role:"radio-group",className:`options-bar ${e}`,children:[B.jsx("legend",{children:n}),B.jsx("div",{className:"options-bar__options",children:t})]}),Uf=({label:n,name:e,min:t=0,max:i=100,markers:r=[],value:o=50,unit:a,onChange:f,className:d=""})=>B.jsxs("div",{className:`range-slider ${d}`,style:{"--range-min":t,"--range-max":i,"--range-value":o},children:[B.jsx("label",{htmlFor:`${e}Range`,className:"range-slider__label",children:n}),B.jsxs("div",{className:"range-slider__slider-container",children:[B.jsx("input",{type:"range",name:e,min:t,max:i,value:o,id:`${e}Range`,list:`${e}Datalist`,onChange:f,className:"range-slider__input"}),B.jsxs("span",{className:"range-slider__min","aria-hidden":!0,children:[t,a]}),B.jsxs("span",{className:"range-slider__max","aria-hidden":!0,children:[i,a]}),B.jsxs("output",{className:"range-slider__value","aria-hidden":!0,children:[o,a]})]}),B.jsxs("datalist",{id:`${e}Datalist`,children:[B.jsx("option",{value:t}),r.map(m=>B.jsx("option",{value:m},m)),B.jsx("option",{value:i})]})]}),hA=({shadowStyles:n,index:e,onRemoveShadow:t,onChange:i,className:r=""})=>B.jsxs("div",{className:`shadow-controls ${r}`,children:[B.jsx("button",{type:"button",className:"button button--negative button--icon shadow-controls__remove-button",onClick:()=>t(e),children:B.jsx(ki,{name:"cross"})}),B.jsx("div",{className:"global-styles__control-row",children:B.jsxs("label",{children:["Color",B.jsx("input",{type:"color",name:`shadow[${e}].color`,value:n.color,onChange:i})]})}),B.jsxs("div",{className:"global-styles__control-row",children:[B.jsx(Uf,{label:"X offset",name:`shadow[${e}].offsetX`,min:-100,max:100,markers:[0],value:n.offsetX,unit:"px",onChange:i,className:"full-width"}),B.jsx(Uf,{label:"Y offset",name:`shadow[${e}].offsetY`,min:-100,max:100,markers:[0],value:n.offsetY,unit:"px",onChange:i,className:"full-width"})]}),B.jsx("div",{className:"global-styles__control-row",children:B.jsx(Uf,{label:"Blur",name:`shadow[${e}].blur`,min:0,max:100,unit:"px",value:n.blur,onChange:i,className:"full-width"})})]}),kv=({name:n,className:e="",children:t})=>B.jsx("div",{className:`tab ${e}`,children:t}),pA=({className:n="",children:e})=>{const[t,i]=q.useState(0),r=q.useRef(null),o=a=>{MO(()=>{var f;(f=r.current)==null||f.children[0].scrollTo({top:0,behavior:"instant"}),i(a)})};return B.jsxs("div",{className:`tabs ${n}`,children:[B.jsx("ul",{className:"tabs__handles-container",children:q.Children.map(e,(a,f)=>B.jsx("li",{className:"tabs__handle",children:B.jsxs("label",{className:"tabs__handle-label",children:[B.jsx("input",{type:"radio",name:"styling-tabs",onInput:()=>o(f),defaultChecked:f===0,className:"tabs__handle-input"}),a.props.name]})}))}),B.jsx("span",{className:"tabs__active-indicator"}),B.jsx("div",{className:"tabs__content-container",ref:r,children:e[t]})]})},mA=({action:n,className:e=""})=>B.jsx("div",{className:`timeline-caption-clip ${n.selected?"timeline-caption-clip--selected":""} ${e}`,children:B.jsx("div",{className:"timeline-caption-clip__id",children:n.id})}),gA=({onZoomIn:n,onZoomOut:e,isPlaying:t,className:i=""})=>B.jsxs("div",{className:`timeline-controls ${i}`,children:[B.jsx("button",{onClick:n,className:"timeline-controls__button button button--icon",disabled:t,children:B.jsx(ki,{name:"add"})}),B.jsx("button",{onClick:e,className:"timeline-controls__button button button--icon",disabled:t,children:B.jsx(ki,{name:"subtract"})})]}),vA=({action:n,className:e=""})=>B.jsx("div",{className:`timeline-video-clip ${e}`,children:B.jsx("div",{className:"timeline-video-clip__id",children:n.id})}),jl=({type:n="checkbox",name:e,value:t,defaultChecked:i,checked:r,onChange:o,className:a="",children:f})=>B.jsxs("label",{className:`toggle-button ${a}`,children:[B.jsx("input",{type:n,name:e,value:t,defaultChecked:i,checked:r,onChange:o,className:"toggle-button__input"}),f]}),yA=({cue:n,cueIndex:e,presets:t,onCueChange:i,className:r=""})=>{const o=(f,d)=>{i(d,{text:lO(f)})},a=(f,d)=>{f.target.name==="position.horizontal"?i(d,{position:Number(f.target.value)}):f.target.name==="position.vertical"?i(d,{line:Number(f.target.value)}):f.target.name==="position.useLines"?i(d,{snapToLines:f.target.checked}):f.target.name==="alignment"&&i(d,{align:f.target.value})};return!n||e===void 0?B.jsx("div",{className:"cue-styles__empty",children:"No cue selected"}):B.jsxs("div",{className:`cue-styles ${r}`,children:[B.jsxs("section",{className:"styling-section cue-styles__text-section",children:[B.jsx("h3",{className:"sr-only",children:"Text"}),B.jsx(t3,{cueText:kx(n).html,presets:t,onChange:f=>o(f,e)})]}),B.jsxs("form",{className:"cue-styles__form",children:[B.jsxs("section",{className:"styling-section",children:[B.jsx("h3",{children:"Typography"}),B.jsx("div",{className:"global-styles__control-row",children:B.jsxs(Ix,{label:"Alignment",children:[B.jsx(jl,{name:"alignment",value:"left",type:"radio",checked:n.align==="left"||n.align==="start",onChange:f=>a(f,e),children:B.jsx(ki,{name:"alignLeft","aria-label":"left"})}),B.jsx(jl,{name:"alignment",value:"center",type:"radio",checked:n.align==="center"||!n.align,onChange:f=>a(f,e),children:B.jsx(ki,{name:"alignCenter","aria-label":"center"})}),B.jsx(jl,{name:"alignment",value:"right",type:"radio",checked:n.align==="right"||n.align==="end",onChange:f=>a(f,e),children:B.jsx(ki,{name:"alignRight","aria-label":"right"})})]})})]}),B.jsx(wT,{position:{horizontal:n.position,vertical:n.line,useLines:n.snapToLines},onInput:f=>a(f,e),className:"styling-section"})]})]})};function xr(n){this.content=n}xr.prototype={constructor:xr,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var i=t&&t!=n?this.remove(t):this,r=i.find(n),o=i.content.slice();return r==-1?o.push(t||n,e):(o[r+1]=e,t&&(o[r]=t)),new xr(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new xr(t)},addToStart:function(n,e){return new xr([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new xr(t)},addBefore:function(n,e,t){var i=this.remove(e),r=i.content.slice(),o=i.find(n);return r.splice(o==-1?r.length:o,0,e,t),new xr(r)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=xr.from(n),n.size?new xr(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=xr.from(n),n.size?new xr(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=xr.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};xr.from=function(n){if(n instanceof xr)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new xr(e)};function jx(n,e,t){for(let i=0;;i++){if(i==n.childCount||i==e.childCount)return n.childCount==e.childCount?null:t;let r=n.child(i),o=e.child(i);if(r==o){t+=r.nodeSize;continue}if(!r.sameMarkup(o))return t;if(r.isText&&r.text!=o.text){for(let a=0;r.text[a]==o.text[a];a++)t++;return t}if(r.content.size||o.content.size){let a=jx(r.content,o.content,t+1);if(a!=null)return a}t+=r.nodeSize}}function Bx(n,e,t,i){for(let r=n.childCount,o=e.childCount;;){if(r==0||o==0)return r==o?null:{a:t,b:i};let a=n.child(--r),f=e.child(--o),d=a.nodeSize;if(a==f){t-=d,i-=d;continue}if(!a.sameMarkup(f))return{a:t,b:i};if(a.isText&&a.text!=f.text){let m=0,y=Math.min(a.text.length,f.text.length);for(;m<y&&a.text[a.text.length-m-1]==f.text[f.text.length-m-1];)m++,t--,i--;return{a:t,b:i}}if(a.content.size||f.content.size){let m=Bx(a.content,f.content,t-1,i-1);if(m)return m}t-=d,i-=d}}class $e{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,t,i,r=0,o){for(let a=0,f=0;f<t;a++){let d=this.content[a],m=f+d.nodeSize;if(m>e&&i(d,r+f,o||null,a)!==!1&&d.content.size){let y=f+1;d.nodesBetween(Math.max(0,e-y),Math.min(d.content.size,t-y),i,r+y)}f=m}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,i,r){let o="",a=!0;return this.nodesBetween(e,t,(f,d)=>{let m=f.isText?f.text.slice(Math.max(e,d)-d,t-d):f.isLeaf?r?typeof r=="function"?r(f):r:f.type.spec.leafText?f.type.spec.leafText(f):"":"";f.isBlock&&(f.isLeaf&&m||f.isTextblock)&&i&&(a?a=!1:o+=i),o+=m},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,i=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(i)&&(r[r.length-1]=t.withText(t.text+i.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new $e(r,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let i=[],r=0;if(t>e)for(let o=0,a=0;a<t;o++){let f=this.content[o],d=a+f.nodeSize;d>e&&((a<e||d>t)&&(f.isText?f=f.cut(Math.max(0,e-a),Math.min(f.text.length,t-a)):f=f.cut(Math.max(0,e-a-1),Math.min(f.content.size,t-a-1))),i.push(f),r+=f.nodeSize),a=d}return new $e(i,r)}cutByIndex(e,t){return e==t?$e.empty:e==0&&t==this.content.length?this:new $e(this.content.slice(e,t))}replaceChild(e,t){let i=this.content[e];if(i==t)return this;let r=this.content.slice(),o=this.size+t.nodeSize-i.nodeSize;return r[e]=t,new $e(r,o)}addToStart(e){return new $e([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new $e(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,i=0;t<this.content.length;t++){let r=this.content[t];e(r,i,t),i+=r.nodeSize}}findDiffStart(e,t=0){return jx(this,e,t)}findDiffEnd(e,t=this.size,i=e.size){return Bx(this,e,t,i)}findIndex(e,t=-1){if(e==0)return Dv(0,e);if(e==this.size)return Dv(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let i=0,r=0;;i++){let o=this.child(i),a=r+o.nodeSize;if(a>=e)return a==e||t>0?Dv(i+1,a):Dv(i,r);r=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return $e.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new $e(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return $e.empty;let t,i=0;for(let r=0;r<e.length;r++){let o=e[r];i+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new $e(t||e,i)}static from(e){if(!e)return $e.empty;if(e instanceof $e)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new $e([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}$e.empty=new $e([],0);const ib={index:0,offset:0};function Dv(n,e){return ib.index=n,ib.offset=e,ib}function ny(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!ny(n[i],e[i]))return!1}else{for(let i in n)if(!(i in e)||!ny(n[i],e[i]))return!1;for(let i in e)if(!(i in n))return!1}return!0}let qn=class Hb{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,i=!1;for(let r=0;r<e.length;r++){let o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!i&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),i=!0),t&&t.push(o)}}return t||(t=e.slice()),i||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ny(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[t.type];if(!i)throw new RangeError(`There is no mark type ${t.type} in this schema`);let r=i.create(t.attrs);return i.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(t[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Hb.none;if(e instanceof Hb)return[e];let t=e.slice();return t.sort((i,r)=>i.type.rank-r.type.rank),t}};qn.none=[];class iy extends Error{}class ft{constructor(e,t,i){this.content=e,this.openStart=t,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let i=$x(this.content,e+this.openStart,t);return i&&new ft(i,this.openStart,this.openEnd)}removeBetween(e,t){return new ft(Hx(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ft.empty;let i=t.openStart||0,r=t.openEnd||0;if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ft($e.fromJSON(e,t.content),i,r)}static maxOpen(e,t=!0){let i=0,r=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)i++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)r++;return new ft(e,i,r)}}ft.empty=new ft($e.empty,0,0);function Hx(n,e,t){let{index:i,offset:r}=n.findIndex(e),o=n.maybeChild(i),{index:a,offset:f}=n.findIndex(t);if(r==e||o.isText){if(f!=t&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(i!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(i,o.copy(Hx(o.content,e-r-1,t-r-1)))}function $x(n,e,t,i){let{index:r,offset:o}=n.findIndex(e),a=n.maybeChild(r);if(o==e||a.isText)return n.cut(0,e).append(t).append(n.cut(e));let f=$x(a.content,e-o-1,t);return f&&n.replaceChild(r,a.copy(f))}function bA(n,e,t){if(t.openStart>n.depth)throw new iy("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new iy("Inconsistent open depths");return Fx(n,e,t,0)}function Fx(n,e,t,i){let r=n.index(i),o=n.node(i);if(r==e.index(i)&&i<n.depth-t.openStart){let a=Fx(n,e,t,i+1);return o.copy(o.content.replaceChild(r,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==i&&e.depth==i){let a=n.parent,f=a.content;return Wf(a,f.cut(0,n.parentOffset).append(t.content).append(f.cut(e.parentOffset)))}else{let{start:a,end:f}=SA(t,n);return Wf(o,Gx(n,a,f,e,i))}else return Wf(o,ry(n,e,i))}function Ux(n,e){if(!e.type.compatibleContent(n.type))throw new iy("Cannot join "+e.type.name+" onto "+n.type.name)}function $b(n,e,t){let i=n.node(t);return Ux(i,e.node(t)),i}function Gf(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Rm(n,e,t,i){let r=(e||n).node(t),o=0,a=e?e.index(t):r.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(Gf(n.nodeAfter,i),o++));for(let f=o;f<a;f++)Gf(r.child(f),i);e&&e.depth==t&&e.textOffset&&Gf(e.nodeBefore,i)}function Wf(n,e){return n.type.checkContent(e),n.copy(e)}function Gx(n,e,t,i,r){let o=n.depth>r&&$b(n,e,r+1),a=i.depth>r&&$b(t,i,r+1),f=[];return Rm(null,n,r,f),o&&a&&e.index(r)==t.index(r)?(Ux(o,a),Gf(Wf(o,Gx(n,e,t,i,r+1)),f)):(o&&Gf(Wf(o,ry(n,e,r+1)),f),Rm(e,t,r,f),a&&Gf(Wf(a,ry(t,i,r+1)),f)),Rm(i,null,r,f),new $e(f)}function ry(n,e,t){let i=[];if(Rm(null,n,t,i),n.depth>t){let r=$b(n,e,t+1);Gf(Wf(r,ry(n,e,t+1)),i)}return Rm(e,null,t,i),new $e(i)}function SA(n,e){let t=e.depth-n.openStart,r=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)r=e.node(o).copy($e.from(r));return{start:r.resolveNoCache(n.openStart+t),end:r.resolveNoCache(r.content.size-n.openEnd-t)}}class Nm{constructor(e,t,i){this.pos=e,this.path=t,this.parentOffset=i,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],r=e.child(t);return i?e.child(t).cut(i):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let i=this.path[t*3],r=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)r+=i.child(o).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return qn.none;if(this.textOffset)return e.child(t).marks;let i=e.maybeChild(t-1),r=e.maybeChild(t);if(!i){let f=i;i=r,r=f}let o=i.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!r||!o[a].isInSet(r.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let i=t.marks,r=e.parent.maybeChild(e.index());for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!r||!i[o].isInSet(r.marks))&&(i=i[o--].removeFromSet(i));return i}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!t||t(this.node(i))))return new sy(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let i=[],r=0,o=t;for(let a=e;;){let{index:f,offset:d}=a.content.findIndex(o),m=o-d;if(i.push(a,f,r+d),!m||(a=a.child(f),a.isText))break;o=m-1,r+=d+1}return new Nm(t,i,o)}static resolveCached(e,t){let i=sw.get(e);if(i)for(let o=0;o<i.elts.length;o++){let a=i.elts[o];if(a.pos==t)return a}else sw.set(e,i=new wA);let r=i.elts[i.i]=Nm.resolve(e,t);return i.i=(i.i+1)%_A,r}}class wA{constructor(){this.elts=[],this.i=0}}const _A=12,sw=new WeakMap;class sy{constructor(e,t,i){this.$from=e,this.$to=t,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const xA=Object.create(null);let Cc=class Fb{constructor(e,t,i,r=qn.none){this.type=e,this.attrs=t,this.marks=r,this.content=i||$e.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,i,r=0){this.content.nodesBetween(e,t,i,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,i,r){return this.content.textBetween(e,t,i,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,i){return this.type==e&&ny(this.attrs,t||e.defaultAttrs||xA)&&qn.sameSet(this.marks,i||qn.none)}copy(e=null){return e==this.content?this:new Fb(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Fb(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,i=!1){if(e==t)return ft.empty;let r=this.resolve(e),o=this.resolve(t),a=i?0:r.sharedDepth(t),f=r.start(a),m=r.node(a).content.cut(r.pos-f,o.pos-f);return new ft(m,r.depth-a,o.depth-a)}replace(e,t,i){return bA(this.resolve(e),this.resolve(t),i)}nodeAt(e){for(let t=this;;){let{index:i,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(i),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(t),index:t,offset:i};let r=this.content.child(t-1);return{node:r,index:t-1,offset:i-r.nodeSize}}resolve(e){return Nm.resolveCached(this,e)}resolveNoCache(e){return Nm.resolve(this,e)}rangeHasMark(e,t,i){let r=!1;return t>e&&this.nodesBetween(e,t,o=>(i.isInSet(o.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Wx(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,i=$e.empty,r=0,o=i.childCount){let a=this.contentMatchAt(e).matchFragment(i,r,o),f=a&&a.matchFragment(this.content,t);if(!f||!f.validEnd)return!1;for(let d=r;d<o;d++)if(!this.type.allowsMarks(i.child(d).marks))return!1;return!0}canReplaceWith(e,t,i,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(e).matchType(i),a=o&&o.matchFragment(this.content,t);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=qn.none;for(let t=0;t<this.marks.length;t++){let i=this.marks[t];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!qn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let i;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,i)}let r=$e.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,r,i);return o.type.checkAttrs(o.attrs),o}};Cc.prototype.text=void 0;class oy extends Cc{constructor(e,t,i,r){if(super(e,t,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Wx(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new oy(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new oy(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Wx(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Zf{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let i=new CA(e,t);if(i.next==null)return Zf.empty;let r=Vx(i);i.next&&i.err("Unexpected trailing text");let o=kA(AA(r));return DA(o,i),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,i=e.childCount){let r=this;for(let o=t;r&&o<i;o++)r=r.matchType(e.child(o).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let i=0;i<e.next.length;i++)if(this.next[t].type==e.next[i].type)return!0;return!1}fillBefore(e,t=!1,i=0){let r=[this];function o(a,f){let d=a.matchFragment(e,i);if(d&&(!t||d.validEnd))return $e.from(f.map(m=>m.createAndFill()));for(let m=0;m<a.next.length;m++){let{type:y,next:x}=a.next[m];if(!(y.isText||y.hasRequiredAttrs())&&r.indexOf(x)==-1){r.push(x);let T=o(x,f.concat(y));if(T)return T}}return null}return o(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let r=i.shift(),o=r.match;if(o.matchType(e)){let a=[];for(let f=r;f.type;f=f.via)a.push(f.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:f,next:d}=o.next[a];!f.isLeaf&&!f.hasRequiredAttrs()&&!(f.name in t)&&(!r.type||d.validEnd)&&(i.push({match:f.contentMatch,type:f,via:r}),t[f.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(i){e.push(i);for(let r=0;r<i.next.length;r++)e.indexOf(i.next[r].next)==-1&&t(i.next[r].next)}return t(this),e.map((i,r)=>{let o=r+(i.validEnd?"*":" ")+" ";for(let a=0;a<i.next.length;a++)o+=(a?", ":"")+i.next[a].type.name+"->"+e.indexOf(i.next[a].next);return o}).join(`
`)}}Zf.empty=new Zf(!0);class CA{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Vx(n){let e=[];do e.push(TA(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function TA(n){let e=[];do e.push(EA(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function EA(n){let e=OA(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=RA(n,e);else break;return e}function ow(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function RA(n,e){let t=ow(n),i=t;return n.eat(",")&&(n.next!="}"?i=ow(n):i=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:i,expr:e}}function MA(n,e){let t=n.nodeTypes,i=t[e];if(i)return[i];let r=[];for(let o in t){let a=t[o];a.isInGroup(e)&&r.push(a)}return r.length==0&&n.err("No node type or group '"+e+"' found"),r}function OA(n){if(n.eat("(")){let e=Vx(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=MA(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function AA(n){let e=[[]];return r(o(n,0),t()),e;function t(){return e.push([])-1}function i(a,f,d){let m={term:d,to:f};return e[a].push(m),m}function r(a,f){a.forEach(d=>d.to=f)}function o(a,f){if(a.type=="choice")return a.exprs.reduce((d,m)=>d.concat(o(m,f)),[]);if(a.type=="seq")for(let d=0;;d++){let m=o(a.exprs[d],f);if(d==a.exprs.length-1)return m;r(m,f=t())}else if(a.type=="star"){let d=t();return i(f,d),r(o(a.expr,d),d),[i(d)]}else if(a.type=="plus"){let d=t();return r(o(a.expr,f),d),r(o(a.expr,d),d),[i(d)]}else{if(a.type=="opt")return[i(f)].concat(o(a.expr,f));if(a.type=="range"){let d=f;for(let m=0;m<a.min;m++){let y=t();r(o(a.expr,d),y),d=y}if(a.max==-1)r(o(a.expr,d),d);else for(let m=a.min;m<a.max;m++){let y=t();i(d,y),r(o(a.expr,d),y),d=y}return[i(d)]}else{if(a.type=="name")return[i(f,void 0,a.value)];throw new Error("Unknown expr type")}}}}function qx(n,e){return e-n}function lw(n,e){let t=[];return i(e),t.sort(qx);function i(r){let o=n[r];if(o.length==1&&!o[0].term)return i(o[0].to);t.push(r);for(let a=0;a<o.length;a++){let{term:f,to:d}=o[a];!f&&t.indexOf(d)==-1&&i(d)}}}function kA(n){let e=Object.create(null);return t(lw(n,0));function t(i){let r=[];i.forEach(a=>{n[a].forEach(({term:f,to:d})=>{if(!f)return;let m;for(let y=0;y<r.length;y++)r[y][0]==f&&(m=r[y][1]);lw(n,d).forEach(y=>{m||r.push([f,m=[]]),m.indexOf(y)==-1&&m.push(y)})})});let o=e[i.join(",")]=new Zf(i.indexOf(n.length-1)>-1);for(let a=0;a<r.length;a++){let f=r[a][1].sort(qx);o.next.push({type:r[a][0],next:e[f.join(",")]||t(f)})}return o}}function DA(n,e){for(let t=0,i=[n];t<i.length;t++){let r=i[t],o=!r.validEnd,a=[];for(let f=0;f<r.next.length;f++){let{type:d,next:m}=r.next[f];a.push(d.name),o&&!(d.isText||d.hasRequiredAttrs())&&(o=!1),i.indexOf(m)==-1&&i.push(m)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Yx(n){let e=Object.create(null);for(let t in n){let i=n[t];if(!i.hasDefault)return null;e[t]=i.default}return e}function Xx(n,e){let t=Object.create(null);for(let i in n){let r=e&&e[i];if(r===void 0){let o=n[i];if(o.hasDefault)r=o.default;else throw new RangeError("No value supplied for attribute "+i)}t[i]=r}return t}function Kx(n,e,t,i){for(let r in e)if(!(r in n))throw new RangeError(`Unsupported attribute ${r} for ${t} of type ${r}`);for(let r in n){let o=n[r];o.validate&&o.validate(e[r])}}function Zx(n,e){let t=Object.create(null);if(e)for(let i in e)t[i]=new NA(n,i,e[i]);return t}let aw=class Qx{constructor(e,t,i){this.name=e,this.schema=t,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=Zx(e,i.attrs),this.defaultAttrs=Yx(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Zf.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Xx(this.attrs,e)}create(e=null,t,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Cc(this,this.computeAttrs(e),$e.from(t),qn.setFrom(i))}createChecked(e=null,t,i){return t=$e.from(t),this.checkContent(t),new Cc(this,this.computeAttrs(e),t,qn.setFrom(i))}createAndFill(e=null,t,i){if(e=this.computeAttrs(e),t=$e.from(t),t.size){let a=this.contentMatch.fillBefore(t);if(!a)return null;t=a.append(t)}let r=this.contentMatch.matchFragment(t),o=r&&r.fillBefore($e.empty,!0);return o?new Cc(this,e,t.append(o),qn.setFrom(i)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Kx(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?t&&t.push(e[i]):t||(t=e.slice(0,i));return t?t.length?t:qn.none:e}static compile(e,t){let i=Object.create(null);e.forEach((o,a)=>i[o]=new Qx(o,t,a));let r=t.spec.topNode||"doc";if(!i[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let o in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function zA(n,e,t){let i=t.split("|");return r=>{let o=r===null?"null":typeof r;if(i.indexOf(o)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${n}, got ${o}`)}}class NA{constructor(e,t,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?zA(e,t,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class ky{constructor(e,t,i,r){this.name=e,this.rank=t,this.schema=i,this.spec=r,this.attrs=Zx(e,r.attrs),this.excluded=null;let o=Yx(this.attrs);this.instance=o?new qn(this,o):null}create(e=null){return!e&&this.instance?this.instance:new qn(this,Xx(this.attrs,e))}static compile(e,t){let i=Object.create(null),r=0;return e.forEach((o,a)=>i[o]=new ky(o,r++,t,a)),i}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Kx(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Jx{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=xr.from(e.nodes),t.marks=xr.from(e.marks||{}),this.nodes=aw.compile(this.spec.nodes,this),this.marks=ky.compile(this.spec.marks,this);let i=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let o=this.nodes[r],a=o.spec.content||"",f=o.spec.marks;if(o.contentMatch=i[a]||(i[a]=Zf.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=f=="_"?null:f?uw(this,f.split(" ")):f==""||!o.inlineContent?[]:null}for(let r in this.marks){let o=this.marks[r],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:uw(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,i,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof aw){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,i,r)}text(e,t){let i=this.nodes.text;return new oy(i,i.defaultAttrs,e,qn.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Cc.fromJSON(this,e)}markFromJSON(e){return qn.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function uw(n,e){let t=[];for(let i=0;i<e.length;i++){let r=e[i],o=n.marks[r],a=o;if(o)t.push(o);else for(let f in n.marks){let d=n.marks[f];(r=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(r)>-1)&&t.push(a=d)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return t}function LA(n){return n.tag!=null}function PA(n){return n.style!=null}class Tc{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let i=this.matchedStyles=[];t.forEach(r=>{if(LA(r))this.tags.push(r);else if(PA(r)){let o=/[^=]*/.exec(r.style)[0];i.indexOf(o)<0&&i.push(o),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let o=e.nodes[r.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let i=new fw(this,t,!1);return i.addAll(e,qn.none,t.from,t.to),i.finish()}parseSlice(e,t={}){let i=new fw(this,t,!0);return i.addAll(e,qn.none,t.from,t.to),ft.maxOpen(i.finish())}matchTag(e,t,i){for(let r=i?this.tags.indexOf(i)+1:0;r<this.tags.length;r++){let o=this.tags[r];if(BA(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(e);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(e,t,i,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let a=this.styles[o],f=a.style;if(!(f.indexOf(e)!=0||a.context&&!i.matchesContext(a.context)||f.length>e.length&&(f.charCodeAt(e.length)!=61||f.slice(e.length+1)!=t))){if(a.getAttrs){let d=a.getAttrs(t);if(d===!1)continue;a.attrs=d||void 0}return a}}}static schemaRules(e){let t=[];function i(r){let o=r.priority==null?50:r.priority,a=0;for(;a<t.length;a++){let f=t[a];if((f.priority==null?50:f.priority)<o)break}t.splice(a,0,r)}for(let r in e.marks){let o=e.marks[r].spec.parseDOM;o&&o.forEach(a=>{i(a=dw(a)),a.mark||a.ignore||a.clearMark||(a.mark=r)})}for(let r in e.nodes){let o=e.nodes[r].spec.parseDOM;o&&o.forEach(a=>{i(a=dw(a)),a.node||a.ignore||a.mark||(a.node=r)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Tc(e,Tc.schemaRules(e)))}}const eC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},IA={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},tC={ol:!0,ul:!0},Lm=1,Ub=2,Fv=4;function cw(n,e,t){return e!=null?(e?Lm:0)|(e==="full"?Ub:0):n&&n.whitespace=="pre"?Lm|Ub:t&-5}class zv{constructor(e,t,i,r,o,a){this.type=e,this.attrs=t,this.marks=i,this.solid=r,this.options=a,this.content=[],this.activeMarks=qn.none,this.match=o||(a&Fv?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore($e.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let i=this.type.contentMatch,r;return(r=i.findWrapping(e.type))?(this.match=i,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Lm)){let i=this.content[this.content.length-1],r;if(i&&i.isText&&(r=/[ \t\r\n\u000c]+$/.exec(i.text))){let o=i;i.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-r[0].length))}}let t=$e.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore($e.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!eC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class fw{constructor(e,t,i){this.parser=e,this.options=t,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let r=t.topNode,o,a=cw(null,t.preserveWhitespace,0)|(i?Fv:0);r?o=new zv(r.type,r.attrs,qn.none,!0,t.topMatch||r.type.contentMatch,a):i?o=new zv(null,null,qn.none,!0,null,a):o=new zv(e.schema.topNodeType,null,qn.none,!0,null,a),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let i=e.nodeValue,r=this.top,o=r.options&Ub?"full":this.localPreserveWS||(r.options&Lm)>0;if(o==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(o)o!=="full"?i=i.replace(/\r?\n|\r/g," "):i=i.replace(/\r\n?/g,`
`);else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let a=r.content[r.content.length-1],f=e.previousSibling;(!a||f&&f.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),t,!/\S/.test(i)),this.findInText(e)}else this.findInside(e)}addElement(e,t,i){let r=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),f;tC.hasOwnProperty(a)&&this.parser.normalizeLists&&jA(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(f=this.parser.matchTag(e,this,i));e:if(d?d.ignore:IA.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let m,y=this.needsBlock;if(eC.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),m=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let x=d&&d.skip?t:this.readStyles(e,t);x&&this.addAll(e,x),m&&this.sync(o),this.needsBlock=y}else{let m=this.readStyles(e,t);m&&this.addElementByRule(e,d,m,d.consuming===!1?f:void 0)}this.localPreserveWS=r}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let i=e.style;if(i&&i.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let o=this.parser.matchedStyles[r],a=i.getPropertyValue(o);if(a)for(let f=void 0;;){let d=this.parser.matchStyle(o,a,this,f);if(!d)break;if(d.ignore)return null;if(d.clearMark?t=t.filter(m=>!d.clearMark(m)):t=t.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)f=d;else break}}return t}addElementByRule(e,t,i,r){let o,a;if(t.node)if(a=this.parser.schema.nodes[t.node],a.isLeaf)this.insertNode(a.create(t.attrs),i,e.nodeName=="BR")||this.leafFallback(e,i);else{let d=this.enter(a,t.attrs||null,i,t.preserveWhitespace);d&&(o=!0,i=d)}else{let d=this.parser.schema.marks[t.mark];i=i.concat(d.create(t.attrs))}let f=this.top;if(a&&a.isLeaf)this.findInside(e);else if(r)this.addElement(e,i,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,i,!1));else{let d=e;typeof t.contentElement=="string"?d=e.querySelector(t.contentElement):typeof t.contentElement=="function"?d=t.contentElement(e):t.contentElement&&(d=t.contentElement),this.findAround(e,d,!0),this.addAll(d,i),this.findAround(e,d,!1)}o&&this.sync(f)&&this.open--}addAll(e,t,i,r){let o=i||0;for(let a=i?e.childNodes[i]:e.firstChild,f=r==null?null:e.childNodes[r];a!=f;a=a.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(a,t);this.findAtPoint(e,o)}findPlace(e,t,i){let r,o;for(let a=this.open,f=0;a>=0;a--){let d=this.nodes[a],m=d.findWrapping(e);if(m&&(!r||r.length>m.length+f)&&(r=m,o=d,!m.length))break;if(d.solid){if(i)break;f+=2}}if(!r)return null;this.sync(o);for(let a=0;a<r.length;a++)t=this.enterInner(r[a],null,t,!1);return t}insertNode(e,t,i){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(t=this.enterInner(o,null,t))}let r=this.findPlace(e,t,i);if(r){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let a=qn.none;for(let f of r.concat(e.marks))(o.type?o.type.allowsMarkType(f.type):hw(f.type,e.type))&&(a=f.addToSet(a));return o.content.push(e.mark(a)),!0}return!1}enter(e,t,i,r){let o=this.findPlace(e.create(t),i,!1);return o&&(o=this.enterInner(e,t,i,!0,r)),o}enterInner(e,t,i,r=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let f=cw(e,o,a.options);a.options&Fv&&a.content.length==0&&(f|=Fv);let d=qn.none;return i=i.filter(m=>(a.type?a.type.allowsMarkType(m.type):hw(m.type,e))?(d=m.addToSet(d),!1):!0),this.nodes.push(new zv(e,t,d,r,null,f)),this.open++,i}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Lm)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let i=this.nodes[t].content;for(let r=i.length-1;r>=0;r--)e+=i[r].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==t&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,i){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(i?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),i=this.options.context,r=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),o=-(i?i.depth+1:0)+(r?0:1),a=(f,d)=>{for(;f>=0;f--){let m=t[f];if(m==""){if(f==t.length-1||f==0)continue;for(;d>=o;d--)if(a(f-1,d))return!0;return!1}else{let y=d>0||d==0&&r?this.nodes[d].type:i&&d>=o?i.node(d-o).type:null;if(!y||y.name!=m&&!y.isInGroup(m))return!1;d--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let t in this.parser.schema.nodes){let i=this.parser.schema.nodes[t];if(i.isTextblock&&i.defaultAttrs)return i}}}function jA(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&tC.hasOwnProperty(i)&&t?(t.appendChild(e),e=t):i=="li"?t=e:i&&(t=null)}}function BA(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function dw(n){let e={};for(let t in n)e[t]=n[t];return e}function hw(n,e){let t=e.schema.nodes;for(let i in t){let r=t[i];if(!r.allowsMarkType(n))continue;let o=[],a=f=>{o.push(f);for(let d=0;d<f.edgeCount;d++){let{type:m,next:y}=f.edge(d);if(m==e||o.indexOf(y)<0&&a(y))return!0}};if(a(r.contentMatch))return!0}}class rd{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},i){i||(i=rb(t).createDocumentFragment());let r=i,o=[];return e.forEach(a=>{if(o.length||a.marks.length){let f=0,d=0;for(;f<o.length&&d<a.marks.length;){let m=a.marks[d];if(!this.marks[m.type.name]){d++;continue}if(!m.eq(o[f][0])||m.type.spec.spanning===!1)break;f++,d++}for(;f<o.length;)r=o.pop()[1];for(;d<a.marks.length;){let m=a.marks[d++],y=this.serializeMark(m,a.isInline,t);y&&(o.push([m,r]),r.appendChild(y.dom),r=y.contentDOM||y.dom)}}r.appendChild(this.serializeNodeInner(a,t))}),i}serializeNodeInner(e,t){let{dom:i,contentDOM:r}=Uv(rb(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return i}serializeNode(e,t={}){let i=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(i),i=o.dom)}return i}serializeMark(e,t,i={}){let r=this.marks[e.type.name];return r&&Uv(rb(i),r(e,t),null,e.attrs)}static renderSpec(e,t,i=null,r){return Uv(e,t,i,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new rd(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=pw(e.nodes);return t.text||(t.text=i=>i.text),t}static marksFromSchema(e){return pw(e.marks)}}function pw(n){let e={};for(let t in n){let i=n[t].spec.toDOM;i&&(e[t]=i)}return e}function rb(n){return n.document||window.document}const mw=new WeakMap;function HA(n){let e=mw.get(n);return e===void 0&&mw.set(n,e=$A(n)),e}function $A(n){let e=null;function t(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let r=0;r<i.length;r++)t(i[r]);else for(let r in i)t(i[r])}return t(n),e}function Uv(n,e,t,i){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],o;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(o=HA(i))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=r.indexOf(" ");a>0&&(t=r.slice(0,a),r=r.slice(a+1));let f,d=t?n.createElementNS(t,r):n.createElement(r),m=e[1],y=1;if(m&&typeof m=="object"&&m.nodeType==null&&!Array.isArray(m)){y=2;for(let x in m)if(m[x]!=null){let T=x.indexOf(" ");T>0?d.setAttributeNS(x.slice(0,T),x.slice(T+1),m[x]):d.setAttribute(x,m[x])}}for(let x=y;x<e.length;x++){let T=e[x];if(T===0){if(x<e.length-1||x>y)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:R,contentDOM:O}=Uv(n,T,t,i);if(d.appendChild(R),O){if(f)throw new RangeError("Multiple content holes");f=O}}}return{dom:d,contentDOM:f}}const nC=65535,iC=Math.pow(2,16);function FA(n,e){return n+e*iC}function gw(n){return n&nC}function UA(n){return(n-(n&nC))/iC}const rC=1,sC=2,Gv=4,oC=8;class Gb{constructor(e,t,i){this.pos=e,this.delInfo=t,this.recover=i}get deleted(){return(this.delInfo&oC)>0}get deletedBefore(){return(this.delInfo&(rC|Gv))>0}get deletedAfter(){return(this.delInfo&(sC|Gv))>0}get deletedAcross(){return(this.delInfo&Gv)>0}}class bo{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&bo.empty)return bo.empty}recover(e){let t=0,i=gw(e);if(!this.inverted)for(let r=0;r<i;r++)t+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[i*3]+t+UA(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,i){let r=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let f=0;f<this.ranges.length;f+=3){let d=this.ranges[f]-(this.inverted?r:0);if(d>e)break;let m=this.ranges[f+o],y=this.ranges[f+a],x=d+m;if(e<=x){let T=m?e==d?-1:e==x?1:t:t,R=d+r+(T<0?0:y);if(i)return R;let O=e==(t<0?d:x)?null:FA(f/3,e-d),k=e==d?sC:e==x?rC:Gv;return(t<0?e!=d:e!=x)&&(k|=oC),new Gb(R,k,O)}r+=y-m}return i?e+r:new Gb(e+r,0,null)}touches(e,t){let i=0,r=gw(t),o=this.inverted?2:1,a=this.inverted?1:2;for(let f=0;f<this.ranges.length;f+=3){let d=this.ranges[f]-(this.inverted?i:0);if(d>e)break;let m=this.ranges[f+o],y=d+m;if(e<=y&&f==r*3)return!0;i+=this.ranges[f+a]-m}return!1}forEach(e){let t=this.inverted?2:1,i=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let a=this.ranges[r],f=a-(this.inverted?o:0),d=a+(this.inverted?0:o),m=this.ranges[r+t],y=this.ranges[r+i];e(f,f+m,d,d+y),o+=y-m}}invert(){return new bo(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?bo.empty:new bo(e<0?[0,-e,0]:[0,0,e])}}bo.empty=new bo([]);class ly{constructor(e,t,i=0,r=e?e.length:0){this.mirror=t,this.from=i,this.to=r,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new ly(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,i=this._maps.length;t<e._maps.length;t++){let r=e.getMirror(t);this.appendMap(e._maps[t],r!=null&&r<t?i+r:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,i=this._maps.length+e._maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e._maps[t].invert(),r!=null&&r>t?i-r-1:void 0)}}invert(){let e=new ly;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let i=this.from;i<this.to;i++)e=this._maps[i].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,i){let r=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],f=a.mapResult(e,t);if(f.recover!=null){let d=this.getMirror(o);if(d!=null&&d>o&&d<this.to){o=d,e=this._maps[d].recover(f.recover);continue}}r|=f.delInfo,e=f.pos}return i?e:new Gb(e,r,null)}}const sb=Object.create(null);class Fr{getMap(){return bo.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=sb[t.stepType];if(!i)throw new RangeError(`No step type ${t.stepType} defined`);return i.fromJSON(e,t)}static jsonID(e,t){if(e in sb)throw new RangeError("Duplicate use of step JSON ID "+e);return sb[e]=t,t.prototype.jsonID=e,t}}class $i{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new $i(e,null)}static fail(e){return new $i(null,e)}static fromReplace(e,t,i,r){try{return $i.ok(e.replace(t,i,r))}catch(o){if(o instanceof iy)return $i.fail(o.message);throw o}}}function L1(n,e,t){let i=[];for(let r=0;r<n.childCount;r++){let o=n.child(r);o.content.size&&(o=o.copy(L1(o.content,e,o))),o.isInline&&(o=e(o,t,r)),i.push(o)}return $e.fromArray(i)}class bc extends Fr{constructor(e,t,i){super(),this.from=e,this.to=t,this.mark=i}apply(e){let t=e.slice(this.from,this.to),i=e.resolve(this.from),r=i.node(i.sharedDepth(this.to)),o=new ft(L1(t.content,(a,f)=>!a.isAtom||!f.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),r),t.openStart,t.openEnd);return $i.fromReplace(e,this.from,this.to,o)}invert(){return new Ta(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return t.deleted&&i.deleted||t.pos>=i.pos?null:new bc(t.pos,i.pos,this.mark)}merge(e){return e instanceof bc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new bc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new bc(t.from,t.to,e.markFromJSON(t.mark))}}Fr.jsonID("addMark",bc);class Ta extends Fr{constructor(e,t,i){super(),this.from=e,this.to=t,this.mark=i}apply(e){let t=e.slice(this.from,this.to),i=new ft(L1(t.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),t.openStart,t.openEnd);return $i.fromReplace(e,this.from,this.to,i)}invert(){return new bc(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return t.deleted&&i.deleted||t.pos>=i.pos?null:new Ta(t.pos,i.pos,this.mark)}merge(e){return e instanceof Ta&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ta(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ta(t.from,t.to,e.markFromJSON(t.mark))}}Fr.jsonID("removeMark",Ta);class Sc extends Fr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return $i.fail("No node at mark step's position");let i=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return $i.fromReplace(e,this.pos,this.pos+1,new ft($e.from(i),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let i=this.mark.addToSet(t.marks);if(i.length==t.marks.length){for(let r=0;r<t.marks.length;r++)if(!t.marks[r].isInSet(i))return new Sc(this.pos,t.marks[r]);return new Sc(this.pos,this.mark)}}return new Qf(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Sc(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Sc(t.pos,e.markFromJSON(t.mark))}}Fr.jsonID("addNodeMark",Sc);class Qf extends Fr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return $i.fail("No node at mark step's position");let i=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return $i.fromReplace(e,this.pos,this.pos+1,new ft($e.from(i),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Sc(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Qf(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Qf(t.pos,e.markFromJSON(t.mark))}}Fr.jsonID("removeNodeMark",Qf);class ur extends Fr{constructor(e,t,i,r=!1){super(),this.from=e,this.to=t,this.slice=i,this.structure=r}apply(e){return this.structure&&Wb(e,this.from,this.to)?$i.fail("Structure replace would overwrite content"):$i.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new bo([this.from,this.to-this.from,this.slice.size])}invert(e){return new ur(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return t.deletedAcross&&i.deletedAcross?null:new ur(t.pos,Math.max(t.pos,i.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ur)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?ft.empty:new ft(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ur(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?ft.empty:new ft(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ur(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ur(t.from,t.to,ft.fromJSON(e,t.slice),!!t.structure)}}Fr.jsonID("replace",ur);class cr extends Fr{constructor(e,t,i,r,o,a,f=!1){super(),this.from=e,this.to=t,this.gapFrom=i,this.gapTo=r,this.slice=o,this.insert=a,this.structure=f}apply(e){if(this.structure&&(Wb(e,this.from,this.gapFrom)||Wb(e,this.gapTo,this.to)))return $i.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return $i.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,t.content);return i?$i.fromReplace(e,this.from,this.to,i):$i.fail("Content does not fit in gap")}getMap(){return new bo([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new cr(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return t.deletedAcross&&i.deletedAcross||r<t.pos||o>i.pos?null:new cr(t.pos,i.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new cr(t.from,t.to,t.gapFrom,t.gapTo,ft.fromJSON(e,t.slice),t.insert,!!t.structure)}}Fr.jsonID("replaceAround",cr);function Wb(n,e,t){let i=n.resolve(e),r=t-e,o=i.depth;for(;r>0&&o>0&&i.indexAfter(o)==i.node(o).childCount;)o--,r--;if(r>0){let a=i.node(o).maybeChild(i.indexAfter(o));for(;r>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,r--}}return!1}function GA(n,e,t,i){let r=[],o=[],a,f;n.doc.nodesBetween(e,t,(d,m,y)=>{if(!d.isInline)return;let x=d.marks;if(!i.isInSet(x)&&y.type.allowsMarkType(i.type)){let T=Math.max(m,e),R=Math.min(m+d.nodeSize,t),O=i.addToSet(x);for(let k=0;k<x.length;k++)x[k].isInSet(O)||(a&&a.to==T&&a.mark.eq(x[k])?a.to=R:r.push(a=new Ta(T,R,x[k])));f&&f.to==T?f.to=R:o.push(f=new bc(T,R,i))}}),r.forEach(d=>n.step(d)),o.forEach(d=>n.step(d))}function WA(n,e,t,i){let r=[],o=0;n.doc.nodesBetween(e,t,(a,f)=>{if(!a.isInline)return;o++;let d=null;if(i instanceof ky){let m=a.marks,y;for(;y=i.isInSet(m);)(d||(d=[])).push(y),m=y.removeFromSet(m)}else i?i.isInSet(a.marks)&&(d=[i]):d=a.marks;if(d&&d.length){let m=Math.min(f+a.nodeSize,t);for(let y=0;y<d.length;y++){let x=d[y],T;for(let R=0;R<r.length;R++){let O=r[R];O.step==o-1&&x.eq(r[R].style)&&(T=O)}T?(T.to=m,T.step=o):r.push({style:x,from:Math.max(f,e),to:m,step:o})}}}),r.forEach(a=>n.step(new Ta(a.from,a.to,a.style)))}function P1(n,e,t,i=t.contentMatch,r=!0){let o=n.doc.nodeAt(e),a=[],f=e+1;for(let d=0;d<o.childCount;d++){let m=o.child(d),y=f+m.nodeSize,x=i.matchType(m.type);if(!x)a.push(new ur(f,y,ft.empty));else{i=x;for(let T=0;T<m.marks.length;T++)t.allowsMarkType(m.marks[T].type)||n.step(new Ta(f,y,m.marks[T]));if(r&&m.isText&&t.whitespace!="pre"){let T,R=/\r?\n|\r/g,O;for(;T=R.exec(m.text);)O||(O=new ft($e.from(t.schema.text(" ",t.allowedMarks(m.marks))),0,0)),a.push(new ur(f+T.index,f+T.index+T[0].length,O))}}f=y}if(!i.validEnd){let d=i.fillBefore($e.empty,!0);n.replace(f,f,new ft(d,0,0))}for(let d=a.length-1;d>=0;d--)n.step(a[d])}function VA(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Mh(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let i=n.depth;;--i){let r=n.$from.node(i),o=n.$from.index(i),a=n.$to.indexAfter(i);if(i<n.depth&&r.canReplace(o,a,t))return i;if(i==0||r.type.spec.isolating||!VA(r,o,a))break}return null}function qA(n,e,t){let{$from:i,$to:r,depth:o}=e,a=i.before(o+1),f=r.after(o+1),d=a,m=f,y=$e.empty,x=0;for(let O=o,k=!1;O>t;O--)k||i.index(O)>0?(k=!0,y=$e.from(i.node(O).copy(y)),x++):d--;let T=$e.empty,R=0;for(let O=o,k=!1;O>t;O--)k||r.after(O+1)<r.end(O)?(k=!0,T=$e.from(r.node(O).copy(T)),R++):m++;n.step(new cr(d,m,a,f,new ft(y.append(T),x,R),y.size-x,!0))}function lC(n,e,t=null,i=n){let r=YA(n,e),o=r&&XA(i,e);return o?r.map(vw).concat({type:e,attrs:t}).concat(o.map(vw)):null}function vw(n){return{type:n,attrs:null}}function YA(n,e){let{parent:t,startIndex:i,endIndex:r}=n,o=t.contentMatchAt(i).findWrapping(e);if(!o)return null;let a=o.length?o[0]:e;return t.canReplaceWith(i,r,a)?o:null}function XA(n,e){let{parent:t,startIndex:i,endIndex:r}=n,o=t.child(i),a=e.contentMatch.findWrapping(o.type);if(!a)return null;let d=(a.length?a[a.length-1]:e).contentMatch;for(let m=i;d&&m<r;m++)d=d.matchType(t.child(m).type);return!d||!d.validEnd?null:a}function KA(n,e,t){let i=$e.empty;for(let a=t.length-1;a>=0;a--){if(i.size){let f=t[a].type.contentMatch.matchFragment(i);if(!f||!f.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=$e.from(t[a].type.create(t[a].attrs,i))}let r=e.start,o=e.end;n.step(new cr(r,o,r,o,new ft(i,0,0),t.length,!0))}function ZA(n,e,t,i,r){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(a,f)=>{let d=typeof r=="function"?r(a):r;if(a.isTextblock&&!a.hasMarkup(i,d)&&QA(n.doc,n.mapping.slice(o).map(f),i)){let m=null;if(i.schema.linebreakReplacement){let R=i.whitespace=="pre",O=!!i.contentMatch.matchType(i.schema.linebreakReplacement);R&&!O?m=!1:!R&&O&&(m=!0)}m===!1&&uC(n,a,f,o),P1(n,n.mapping.slice(o).map(f,1),i,void 0,m===null);let y=n.mapping.slice(o),x=y.map(f,1),T=y.map(f+a.nodeSize,1);return n.step(new cr(x,T,x+1,T-1,new ft($e.from(i.create(d,null,a.marks)),0,0),1,!0)),m===!0&&aC(n,a,f,o),!1}})}function aC(n,e,t,i){e.forEach((r,o)=>{if(r.isText){let a,f=/\r?\n|\r/g;for(;a=f.exec(r.text);){let d=n.mapping.slice(i).map(t+1+o+a.index);n.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function uC(n,e,t,i){e.forEach((r,o)=>{if(r.type==r.type.schema.linebreakReplacement){let a=n.mapping.slice(i).map(t+1+o);n.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function QA(n,e,t){let i=n.resolve(e),r=i.index();return i.parent.canReplaceWith(r,r+1,t)}function JA(n,e,t,i,r){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let a=t.create(i,null,r||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,a);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new cr(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new ft($e.from(a),0,0),1,!0))}function pu(n,e,t=1,i){let r=n.resolve(e),o=r.depth-t,a=i&&i[i.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!a.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let m=r.depth-1,y=t-2;m>o;m--,y--){let x=r.node(m),T=r.index(m);if(x.type.spec.isolating)return!1;let R=x.content.cutByIndex(T,x.childCount),O=i&&i[y+1];O&&(R=R.replaceChild(0,O.type.create(O.attrs)));let k=i&&i[y]||x;if(!x.canReplace(T+1,x.childCount)||!k.type.validContent(R))return!1}let f=r.indexAfter(o),d=i&&i[0];return r.node(o).canReplaceWith(f,f,d?d.type:r.node(o+1).type)}function ek(n,e,t=1,i){let r=n.doc.resolve(e),o=$e.empty,a=$e.empty;for(let f=r.depth,d=r.depth-t,m=t-1;f>d;f--,m--){o=$e.from(r.node(f).copy(o));let y=i&&i[m];a=$e.from(y?y.type.create(y.attrs,a):r.node(f).copy(a))}n.step(new ur(e,e,new ft(o.append(a),t,t),!0))}function sd(n,e){let t=n.resolve(e),i=t.index();return cC(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(i,i+1)}function tk(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:i}=n.type.schema;for(let r=0;r<e.childCount;r++){let o=e.child(r),a=o.type==i?n.type.schema.nodes.text:o.type;if(t=t.matchType(a),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function cC(n,e){return!!(n&&e&&!n.isLeaf&&tk(n,e))}function Dy(n,e,t=-1){let i=n.resolve(e);for(let r=i.depth;;r--){let o,a,f=i.index(r);if(r==i.depth?(o=i.nodeBefore,a=i.nodeAfter):t>0?(o=i.node(r+1),f++,a=i.node(r).maybeChild(f)):(o=i.node(r).maybeChild(f-1),a=i.node(r+1)),o&&!o.isTextblock&&cC(o,a)&&i.node(r).canReplace(f,f+1))return e;if(r==0)break;e=t<0?i.before(r):i.after(r)}}function nk(n,e,t){let i=null,{linebreakReplacement:r}=n.doc.type.schema,o=n.doc.resolve(e-t),a=o.node().type;if(r&&a.inlineContent){let y=a.whitespace=="pre",x=!!a.contentMatch.matchType(r);y&&!x?i=!1:!y&&x&&(i=!0)}let f=n.steps.length;if(i===!1){let y=n.doc.resolve(e+t);uC(n,y.node(),y.before(),f)}a.inlineContent&&P1(n,e+t-1,a,o.node().contentMatchAt(o.index()),i==null);let d=n.mapping.slice(f),m=d.map(e-t);if(n.step(new ur(m,d.map(e+t,-1),ft.empty,!0)),i===!0){let y=n.doc.resolve(m);aC(n,y.node(),y.before(),n.steps.length)}return n}function ik(n,e,t){let i=n.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),t))return e;if(i.parentOffset==0)for(let r=i.depth-1;r>=0;r--){let o=i.index(r);if(i.node(r).canReplaceWith(o,o,t))return i.before(r+1);if(o>0)return null}if(i.parentOffset==i.parent.content.size)for(let r=i.depth-1;r>=0;r--){let o=i.indexAfter(r);if(i.node(r).canReplaceWith(o,o,t))return i.after(r+1);if(o<i.node(r).childCount)return null}return null}function rk(n,e,t){let i=n.resolve(e);if(!t.content.size)return e;let r=t.content;for(let o=0;o<t.openStart;o++)r=r.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let a=i.depth;a>=0;a--){let f=a==i.depth?0:i.pos<=(i.start(a+1)+i.end(a+1))/2?-1:1,d=i.index(a)+(f>0?1:0),m=i.node(a),y=!1;if(o==1)y=m.canReplace(d,d,r);else{let x=m.contentMatchAt(d).findWrapping(r.firstChild.type);y=x&&m.canReplaceWith(d,d,x[0])}if(y)return f==0?i.pos:f<0?i.before(a+1):i.after(a+1)}return null}function zy(n,e,t=e,i=ft.empty){if(e==t&&!i.size)return null;let r=n.resolve(e),o=n.resolve(t);return fC(r,o,i)?new ur(e,t,i):new sk(r,o,i).fit()}function fC(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class sk{constructor(e,t,i){this.$from=e,this.$to=t,this.unplaced=i,this.frontier=[],this.placed=$e.empty;for(let r=0;r<=e.depth;r++){let o=e.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=$e.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let m=this.findFittable();m?this.placeNodes(m):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,i=this.$from,r=this.close(e<0?this.$to:i.doc.resolve(e));if(!r)return null;let o=this.placed,a=i.depth,f=r.depth;for(;a&&f&&o.childCount==1;)o=o.firstChild.content,a--,f--;let d=new ft(o,a,f);return e>-1?new cr(i.pos,e,this.$to.pos,this.$to.end(),d,t):d.size||i.pos!=this.$to.pos?new ur(i.pos,r.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,i=0,r=this.unplaced.openEnd;i<e;i++){let o=t.firstChild;if(t.childCount>1&&(r=0),o.type.spec.isolating&&r<=i){e=i;break}t=o.content}for(let t=1;t<=2;t++)for(let i=t==1?e:this.unplaced.openStart;i>=0;i--){let r,o=null;i?(o=ob(this.unplaced.content,i-1).firstChild,r=o.content):r=this.unplaced.content;let a=r.firstChild;for(let f=this.depth;f>=0;f--){let{type:d,match:m}=this.frontier[f],y,x=null;if(t==1&&(a?m.matchType(a.type)||(x=m.fillBefore($e.from(a),!1)):o&&d.compatibleContent(o.type)))return{sliceDepth:i,frontierDepth:f,parent:o,inject:x};if(t==2&&a&&(y=m.findWrapping(a.type)))return{sliceDepth:i,frontierDepth:f,parent:o,wrap:y};if(o&&m.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:i}=this.unplaced,r=ob(e,t);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new ft(e,t+1,Math.max(i,r.size+t>=e.size-i?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:i}=this.unplaced,r=ob(e,t);if(r.childCount<=1&&t>0){let o=e.size-t<=t+r.size;this.unplaced=new ft(wm(e,t-1,1),t-1,o?t-1:i)}else this.unplaced=new ft(wm(e,t,1),t,i)}placeNodes({sliceDepth:e,frontierDepth:t,parent:i,inject:r,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let k=0;k<o.length;k++)this.openFrontierNode(o[k]);let a=this.unplaced,f=i?i.content:a.content,d=a.openStart-e,m=0,y=[],{match:x,type:T}=this.frontier[t];if(r){for(let k=0;k<r.childCount;k++)y.push(r.child(k));x=x.matchFragment(r)}let R=f.size+e-(a.content.size-a.openEnd);for(;m<f.childCount;){let k=f.child(m),N=x.matchType(k.type);if(!N)break;m++,(m>1||d==0||k.content.size)&&(x=N,y.push(dC(k.mark(T.allowedMarks(k.marks)),m==1?d:0,m==f.childCount?R:-1)))}let O=m==f.childCount;O||(R=-1),this.placed=_m(this.placed,t,$e.from(y)),this.frontier[t].match=x,O&&R<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,N=f;k<R;k++){let H=N.lastChild;this.frontier.push({type:H.type,match:H.contentMatchAt(H.childCount)}),N=H.content}this.unplaced=O?e==0?ft.empty:new ft(wm(a.content,e-1,1),e-1,R<0?a.openEnd:e-1):new ft(wm(a.content,e,m),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!lb(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:i}=this.$to,r=this.$to.after(i);for(;i>1&&r==this.$to.end(--i);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:i,type:r}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=lb(e,t,r,i,o);if(a){for(let f=t-1;f>=0;f--){let{match:d,type:m}=this.frontier[f],y=lb(e,f,m,d,!0);if(!y||y.childCount)continue e}return{depth:t,fit:a,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=_m(this.placed,t.depth,t.fit)),e=t.move;for(let i=t.depth+1;i<=e.depth;i++){let r=e.node(i),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(i));this.openFrontierNode(r.type,r.attrs,o)}return e}openFrontierNode(e,t=null,i){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=_m(this.placed,this.depth,$e.from(e.create(t,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore($e.empty,!0);t.childCount&&(this.placed=_m(this.placed,this.frontier.length,t))}}function wm(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(wm(n.firstChild.content,e-1,t)))}function _m(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(_m(n.lastChild.content,e-1,t)))}function ob(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function dC(n,e,t){if(e<=0)return n;let i=n.content;return e>1&&(i=i.replaceChild(0,dC(i.firstChild,e-1,i.childCount==1?t-1:0))),e>0&&(i=n.type.contentMatch.fillBefore(i).append(i),t<=0&&(i=i.append(n.type.contentMatch.matchFragment(i).fillBefore($e.empty,!0)))),n.copy(i)}function lb(n,e,t,i,r){let o=n.node(e),a=r?n.indexAfter(e):n.index(e);if(a==o.childCount&&!t.compatibleContent(o.type))return null;let f=i.fillBefore(o.content,!0,a);return f&&!ok(t,o.content,a)?f:null}function ok(n,e,t){for(let i=t;i<e.childCount;i++)if(!n.allowsMarks(e.child(i).marks))return!0;return!1}function lk(n){return n.spec.defining||n.spec.definingForContent}function ak(n,e,t,i){if(!i.size)return n.deleteRange(e,t);let r=n.doc.resolve(e),o=n.doc.resolve(t);if(fC(r,o,i))return n.step(new ur(e,t,i));let a=pC(r,n.doc.resolve(t));a[a.length-1]==0&&a.pop();let f=-(r.depth+1);a.unshift(f);for(let T=r.depth,R=r.pos-1;T>0;T--,R--){let O=r.node(T).type.spec;if(O.defining||O.definingAsContext||O.isolating)break;a.indexOf(T)>-1?f=T:r.before(T)==R&&a.splice(1,0,-T)}let d=a.indexOf(f),m=[],y=i.openStart;for(let T=i.content,R=0;;R++){let O=T.firstChild;if(m.push(O),R==i.openStart)break;T=O.content}for(let T=y-1;T>=0;T--){let R=m[T],O=lk(R.type);if(O&&!R.sameMarkup(r.node(Math.abs(f)-1)))y=T;else if(O||!R.type.isTextblock)break}for(let T=i.openStart;T>=0;T--){let R=(T+y+1)%(i.openStart+1),O=m[R];if(O)for(let k=0;k<a.length;k++){let N=a[(k+d)%a.length],H=!0;N<0&&(H=!1,N=-N);let V=r.node(N-1),Z=r.index(N-1);if(V.canReplaceWith(Z,Z,O.type,O.marks))return n.replace(r.before(N),H?o.after(N):t,new ft(hC(i.content,0,i.openStart,R),R,i.openEnd))}}let x=n.steps.length;for(let T=a.length-1;T>=0&&(n.replace(e,t,i),!(n.steps.length>x));T--){let R=a[T];R<0||(e=r.before(R),t=o.after(R))}}function hC(n,e,t,i,r){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(hC(o.content,e+1,t,i,o)))}if(e>i){let o=r.contentMatchAt(0),a=o.fillBefore(n).append(n);n=a.append(o.matchFragment(a).fillBefore($e.empty,!0))}return n}function uk(n,e,t,i){if(!i.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let r=ik(n.doc,e,i.type);r!=null&&(e=t=r)}n.replaceRange(e,t,new ft($e.from(i),0,0))}function ck(n,e,t){let i=n.doc.resolve(e),r=n.doc.resolve(t),o=pC(i,r);for(let a=0;a<o.length;a++){let f=o[a],d=a==o.length-1;if(d&&f==0||i.node(f).type.contentMatch.validEnd)return n.delete(i.start(f),r.end(f));if(f>0&&(d||i.node(f-1).canReplace(i.index(f-1),r.indexAfter(f-1))))return n.delete(i.before(f),r.after(f))}for(let a=1;a<=i.depth&&a<=r.depth;a++)if(e-i.start(a)==i.depth-a&&t>i.end(a)&&r.end(a)-t!=r.depth-a&&i.start(a-1)==r.start(a-1)&&i.node(a-1).canReplace(i.index(a-1),r.index(a-1)))return n.delete(i.before(a),t);n.delete(e,t)}function pC(n,e){let t=[],i=Math.min(n.depth,e.depth);for(let r=i;r>=0;r--){let o=n.start(r);if(o<n.pos-(n.depth-r)||e.end(r)>e.pos+(e.depth-r)||n.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(o==e.start(r)||r==n.depth&&r==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==o-1)&&t.push(r)}return t}class yh extends Fr{constructor(e,t,i){super(),this.pos=e,this.attr=t,this.value=i}apply(e){let t=e.nodeAt(this.pos);if(!t)return $i.fail("No node at attribute step's position");let i=Object.create(null);for(let o in t.attrs)i[o]=t.attrs[o];i[this.attr]=this.value;let r=t.type.create(i,null,t.marks);return $i.fromReplace(e,this.pos,this.pos+1,new ft($e.from(r),0,t.isLeaf?0:1))}getMap(){return bo.empty}invert(e){return new yh(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new yh(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new yh(t.pos,t.attr,t.value)}}Fr.jsonID("attr",yh);class Pm extends Fr{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let r in e.attrs)t[r]=e.attrs[r];t[this.attr]=this.value;let i=e.type.create(t,e.content,e.marks);return $i.ok(i)}getMap(){return bo.empty}invert(e){return new Pm(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Pm(t.attr,t.value)}}Fr.jsonID("docAttr",Pm);let wh=class extends Error{};wh=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};wh.prototype=Object.create(Error.prototype);wh.prototype.constructor=wh;wh.prototype.name="TransformError";class fk{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ly}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new wh(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,i=ft.empty){let r=zy(this.doc,e,t,i);return r&&this.step(r),this}replaceWith(e,t,i){return this.replace(e,t,new ft($e.from(i),0,0))}delete(e,t){return this.replace(e,t,ft.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,i){return ak(this,e,t,i),this}replaceRangeWith(e,t,i){return uk(this,e,t,i),this}deleteRange(e,t){return ck(this,e,t),this}lift(e,t){return qA(this,e,t),this}join(e,t=1){return nk(this,e,t),this}wrap(e,t){return KA(this,e,t),this}setBlockType(e,t=e,i,r=null){return ZA(this,e,t,i,r),this}setNodeMarkup(e,t,i=null,r){return JA(this,e,t,i,r),this}setNodeAttribute(e,t,i){return this.step(new yh(e,t,i)),this}setDocAttribute(e,t){return this.step(new Pm(e,t)),this}addNodeMark(e,t){return this.step(new Sc(e,t)),this}removeNodeMark(e,t){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(t instanceof qn)t.isInSet(i.marks)&&this.step(new Qf(e,t));else{let r=i.marks,o,a=[];for(;o=t.isInSet(r);)a.push(new Qf(e,o)),r=o.removeFromSet(r);for(let f=a.length-1;f>=0;f--)this.step(a[f])}return this}split(e,t=1,i){return ek(this,e,t,i),this}addMark(e,t,i){return GA(this,e,t,i),this}removeMark(e,t,i){return WA(this,e,t,i),this}clearIncompatible(e,t,i){return P1(this,e,t,i),this}}const ab=Object.create(null);class pn{constructor(e,t,i){this.$anchor=e,this.$head=t,this.ranges=i||[new dk(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ft.empty){let i=t.content.lastChild,r=null;for(let f=0;f<t.openEnd;f++)r=i,i=i.lastChild;let o=e.steps.length,a=this.ranges;for(let f=0;f<a.length;f++){let{$from:d,$to:m}=a[f],y=e.mapping.slice(o);e.replaceRange(y.map(d.pos),y.map(m.pos),f?ft.empty:t),f==0&&Sw(e,o,(i?i.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let i=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:a,$to:f}=r[o],d=e.mapping.slice(i),m=d.map(a.pos),y=d.map(f.pos);o?e.deleteRange(m,y):(e.replaceRangeWith(m,y,t),Sw(e,i,t.isInline?-1:1))}}static findFrom(e,t,i=!1){let r=e.parent.inlineContent?new rn(e):hh(e.node(0),e.parent,e.pos,e.index(),t,i);if(r)return r;for(let o=e.depth-1;o>=0;o--){let a=t<0?hh(e.node(0),e.node(o),e.before(o+1),e.index(o),t,i):hh(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,i);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new So(e.node(0))}static atStart(e){return hh(e,e,0,0,1)||new So(e)}static atEnd(e){return hh(e,e,e.content.size,e.childCount,-1)||new So(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=ab[t.type];if(!i)throw new RangeError(`No selection type ${t.type} defined`);return i.fromJSON(e,t)}static jsonID(e,t){if(e in ab)throw new RangeError("Duplicate use of selection JSON ID "+e);return ab[e]=t,t.prototype.jsonID=e,t}getBookmark(){return rn.between(this.$anchor,this.$head).getBookmark()}}pn.prototype.visible=!0;class dk{constructor(e,t){this.$from=e,this.$to=t}}let yw=!1;function bw(n){!yw&&!n.parent.inlineContent&&(yw=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class rn extends pn{constructor(e,t=e){bw(e),bw(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let i=e.resolve(t.map(this.head));if(!i.parent.inlineContent)return pn.near(i);let r=e.resolve(t.map(this.anchor));return new rn(r.parent.inlineContent?r:i,i)}replace(e,t=ft.empty){if(super.replace(e,t),t==ft.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof rn&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ny(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new rn(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,i=t){let r=e.resolve(t);return new this(r,i==t?r:e.resolve(i))}static between(e,t,i){let r=e.pos-t.pos;if((!i||r)&&(i=r>=0?1:-1),!t.parent.inlineContent){let o=pn.findFrom(t,i,!0)||pn.findFrom(t,-i,!0);if(o)t=o.$head;else return pn.near(t,i)}return e.parent.inlineContent||(r==0?e=t:(e=(pn.findFrom(e,-i,!0)||pn.findFrom(e,i,!0)).$anchor,e.pos<t.pos!=r<0&&(e=t))),new rn(e,t)}}pn.jsonID("text",rn);class Ny{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Ny(e.map(this.anchor),e.map(this.head))}resolve(e){return rn.between(e.resolve(this.anchor),e.resolve(this.head))}}class Pt extends pn{constructor(e){let t=e.nodeAfter,i=e.node(0).resolve(e.pos+t.nodeSize);super(e,i),this.node=t}map(e,t){let{deleted:i,pos:r}=t.mapResult(this.anchor),o=e.resolve(r);return i?pn.near(o):new Pt(o)}content(){return new ft($e.from(this.node),0,0)}eq(e){return e instanceof Pt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new I1(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Pt(e.resolve(t.anchor))}static create(e,t){return new Pt(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Pt.prototype.visible=!1;pn.jsonID("node",Pt);class I1{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:i}=e.mapResult(this.anchor);return t?new Ny(i,i):new I1(i)}resolve(e){let t=e.resolve(this.anchor),i=t.nodeAfter;return i&&Pt.isSelectable(i)?new Pt(t):pn.near(t)}}class So extends pn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ft.empty){if(t==ft.empty){e.delete(0,e.doc.content.size);let i=pn.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new So(e)}map(e){return new So(e)}eq(e){return e instanceof So}getBookmark(){return hk}}pn.jsonID("all",So);const hk={map(){return this},resolve(n){return new So(n)}};function hh(n,e,t,i,r,o=!1){if(e.inlineContent)return rn.create(n,t);for(let a=i-(r>0?0:1);r>0?a<e.childCount:a>=0;a+=r){let f=e.child(a);if(f.isAtom){if(!o&&Pt.isSelectable(f))return Pt.create(n,t-(r<0?f.nodeSize:0))}else{let d=hh(n,f,t+r,r<0?f.childCount:0,r,o);if(d)return d}t+=f.nodeSize*r}return null}function Sw(n,e,t){let i=n.steps.length-1;if(i<e)return;let r=n.steps[i];if(!(r instanceof ur||r instanceof cr))return;let o=n.mapping.maps[i],a;o.forEach((f,d,m,y)=>{a==null&&(a=y)}),n.setSelection(pn.near(n.doc.resolve(a),t))}const ww=1,_w=2,xw=4;class pk extends fk{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ww)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&ww)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=_w,this}ensureMarks(e){return qn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&_w)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let i=this.selection;return t&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||qn.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,i){let r=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(i==null&&(i=t),i=i??t,!e)return this.deleteRange(t,i);let o=this.storedMarks;if(!o){let a=this.doc.resolve(t);o=i==t?a.marks():a.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(t,i,r.text(e,o)),this.selection.empty||this.setSelection(pn.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=xw,this}get scrolledIntoView(){return(this.updated&xw)>0}}function Cw(n,e){return!e||!n?n:n.bind(e)}class xm{constructor(e,t,i){this.name=e,this.init=Cw(t.init,i),this.apply=Cw(t.apply,i)}}const mk=[new xm("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new xm("selection",{init(n,e){return n.selection||pn.atStart(e.doc)},apply(n){return n.selection}}),new xm("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,i){return i.selection.$cursor?n.storedMarks:null}}),new xm("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class ub{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=mk.slice(),t&&t.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new xm(i.key,i.spec.state,i))})}}class mh{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=t){let r=this.config.plugins[i];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],i=this.applyInner(e),r=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let f=this.config.plugins[a];if(f.spec.appendTransaction){let d=r?r[a].n:0,m=r?r[a].state:this,y=d<t.length&&f.spec.appendTransaction.call(f,d?t.slice(d):t,m,i);if(y&&i.filterTransaction(y,a)){if(y.setMeta("appendedTransaction",e),!r){r=[];for(let x=0;x<this.config.plugins.length;x++)r.push(x<a?{state:i,n:t.length}:{state:this,n:0})}t.push(y),i=i.applyInner(y),o=!0}r&&(r[a]={state:i,n:t.length})}}if(!o)return{state:i,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new mh(this.config),i=this.config.fields;for(let r=0;r<i.length;r++){let o=i[r];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new pk(this)}static create(e){let t=new ub(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new mh(t);for(let r=0;r<t.fields.length;r++)i[t.fields[r].name]=t.fields[r].init(e,i);return i}reconfigure(e){let t=new ub(this.schema,e.plugins),i=t.fields,r=new mh(t);for(let o=0;o<i.length;o++){let a=i[o].name;r[a]=this.hasOwnProperty(a)?this[a]:i[o].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[i],o=r.spec.state;o&&o.toJSON&&(t[i]=o.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,i){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new ub(e.schema,e.plugins),o=new mh(r);return r.fields.forEach(a=>{if(a.name=="doc")o.doc=Cc.fromJSON(e.schema,t.doc);else if(a.name=="selection")o.selection=pn.fromJSON(o.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let f in i){let d=i[f],m=d.spec.state;if(d.key==a.name&&m&&m.fromJSON&&Object.prototype.hasOwnProperty.call(t,f)){o[a.name]=m.fromJSON.call(d,e,t[f],o);return}}o[a.name]=a.init(e,o)}}),o}}function mC(n,e,t){for(let i in n){let r=n[i];r instanceof Function?r=r.bind(e):i=="handleDOMEvents"&&(r=mC(r,e,{})),t[i]=r}return t}class Aa{constructor(e){this.spec=e,this.props={},e.props&&mC(e.props,this,this.props),this.key=e.key?e.key.key:gC("plugin")}getState(e){return e[this.key]}}const cb=Object.create(null);function gC(n){return n in cb?n+"$"+ ++cb[n]:(cb[n]=0,n+"$")}class od{constructor(e="key"){this.key=gC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Tr=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},_h=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Vb=null;const cu=function(n,e,t){let i=Vb||(Vb=document.createRange());return i.setEnd(n,t??n.nodeValue.length),i.setStart(n,e||0),i},gk=function(){Vb=null},Jf=function(n,e,t,i){return t&&(Tw(n,e,t,i,-1)||Tw(n,e,t,i,1))},vk=/^(img|br|input|textarea|hr)$/i;function Tw(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:el(n))){let o=n.parentNode;if(!o||o.nodeType!=1||qm(n)||vk.test(n.nodeName)||n.contentEditable=="false")return!1;e=Tr(n)+(r<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.contentEditable=="false")return!1;e=r<0?el(n):0}else return!1}}function el(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function yk(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=el(n)}else if(n.parentNode&&!qm(n))e=Tr(n),n=n.parentNode;else return null}}function bk(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!qm(n))e=Tr(n)+1,n=n.parentNode;else return null}}function Sk(n,e,t){for(let i=e==0,r=e==el(n);i||r;){if(n==t)return!0;let o=Tr(n);if(n=n.parentNode,!n)return!1;i=i&&o==0,r=r&&o==el(n)}}function qm(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Ly=function(n){return n.focusNode&&Jf(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Lf(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function wk(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function _k(n,e,t){if(n.caretPositionFromPoint)try{let i=n.caretPositionFromPoint(e,t);if(i)return{node:i.offsetNode,offset:Math.min(el(i.offsetNode),i.offset)}}catch{}if(n.caretRangeFromPoint){let i=n.caretRangeFromPoint(e,t);if(i)return{node:i.startContainer,offset:Math.min(el(i.startContainer),i.startOffset)}}}const Ra=typeof navigator<"u"?navigator:null,Ew=typeof document<"u"?document:null,Nc=Ra&&Ra.userAgent||"",qb=/Edge\/(\d+)/.exec(Nc),vC=/MSIE \d/.exec(Nc),Yb=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Nc),Bs=!!(vC||Yb||qb),Ec=vC?document.documentMode:Yb?+Yb[1]:qb?+qb[1]:0,$l=!Bs&&/gecko\/(\d+)/i.test(Nc);$l&&+(/Firefox\/(\d+)/.exec(Nc)||[0,0])[1];const Xb=!Bs&&/Chrome\/(\d+)/.exec(Nc),$r=!!Xb,yC=Xb?+Xb[1]:0,ps=!Bs&&!!Ra&&/Apple Computer/.test(Ra.vendor),xh=ps&&(/Mobile\/\w+/.test(Nc)||!!Ra&&Ra.maxTouchPoints>2),Jo=xh||(Ra?/Mac/.test(Ra.platform):!1),xk=Ra?/Win/.test(Ra.platform):!1,fu=/Android \d/.test(Nc),Ym=!!Ew&&"webkitFontSmoothing"in Ew.documentElement.style,Ck=Ym?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Tk(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function au(n,e){return typeof n=="number"?n:n[e]}function Ek(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,i=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*i}}function Rw(n,e,t){let i=n.someProp("scrollThreshold")||0,r=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let a=t||n.dom;a;){if(a.nodeType!=1){a=_h(a);continue}let f=a,d=f==o.body,m=d?Tk(o):Ek(f),y=0,x=0;if(e.top<m.top+au(i,"top")?x=-(m.top-e.top+au(r,"top")):e.bottom>m.bottom-au(i,"bottom")&&(x=e.bottom-e.top>m.bottom-m.top?e.top+au(r,"top")-m.top:e.bottom-m.bottom+au(r,"bottom")),e.left<m.left+au(i,"left")?y=-(m.left-e.left+au(r,"left")):e.right>m.right-au(i,"right")&&(y=e.right-m.right+au(r,"right")),y||x)if(d)o.defaultView.scrollBy(y,x);else{let R=f.scrollLeft,O=f.scrollTop;x&&(f.scrollTop+=x),y&&(f.scrollLeft+=y);let k=f.scrollLeft-R,N=f.scrollTop-O;e={left:e.left-k,top:e.top-N,right:e.right-k,bottom:e.bottom-N}}let T=d?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(T))break;a=T=="absolute"?a.offsetParent:_h(a)}}function Rk(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),i,r;for(let o=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){let f=n.root.elementFromPoint(o,a);if(!f||f==n.dom||!n.dom.contains(f))continue;let d=f.getBoundingClientRect();if(d.top>=t-20){i=f,r=d.top;break}}return{refDOM:i,refTop:r,stack:bC(n.dom)}}function bC(n){let e=[],t=n.ownerDocument;for(let i=n;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),n!=t);i=_h(i));return e}function Mk({refDOM:n,refTop:e,stack:t}){let i=n?n.getBoundingClientRect().top:0;SC(t,i==0?0:i-e)}function SC(n,e){for(let t=0;t<n.length;t++){let{dom:i,top:r,left:o}=n[t];i.scrollTop!=r+e&&(i.scrollTop=r+e),i.scrollLeft!=o&&(i.scrollLeft=o)}}let uh=null;function Ok(n){if(n.setActive)return n.setActive();if(uh)return n.focus(uh);let e=bC(n);n.focus(uh==null?{get preventScroll(){return uh={preventScroll:!0},!0}}:void 0),uh||(uh=!1,SC(e,0))}function wC(n,e){let t,i=2e8,r,o=0,a=e.top,f=e.top,d,m;for(let y=n.firstChild,x=0;y;y=y.nextSibling,x++){let T;if(y.nodeType==1)T=y.getClientRects();else if(y.nodeType==3)T=cu(y).getClientRects();else continue;for(let R=0;R<T.length;R++){let O=T[R];if(O.top<=a&&O.bottom>=f){a=Math.max(O.bottom,a),f=Math.min(O.top,f);let k=O.left>e.left?O.left-e.left:O.right<e.left?e.left-O.right:0;if(k<i){t=y,i=k,r=k&&t.nodeType==3?{left:O.right<e.left?O.right:O.left,top:e.top}:e,y.nodeType==1&&k&&(o=x+(e.left>=(O.left+O.right)/2?1:0));continue}}else O.top>e.top&&!d&&O.left<=e.left&&O.right>=e.left&&(d=y,m={left:Math.max(O.left,Math.min(O.right,e.left)),top:O.top});!t&&(e.left>=O.right&&e.top>=O.top||e.left>=O.left&&e.top>=O.bottom)&&(o=x+1)}}return!t&&d&&(t=d,r=m,i=0),t&&t.nodeType==3?Ak(t,r):!t||i&&t.nodeType==1?{node:n,offset:o}:wC(t,r)}function Ak(n,e){let t=n.nodeValue.length,i=document.createRange();for(let r=0;r<t;r++){i.setEnd(n,r+1),i.setStart(n,r);let o=mc(i,1);if(o.top!=o.bottom&&j1(e,o))return{node:n,offset:r+(e.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function j1(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function kk(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function Dk(n,e,t){let{node:i,offset:r}=wC(e,t),o=-1;if(i.nodeType==1&&!i.firstChild){let a=i.getBoundingClientRect();o=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(i,r,o)}function zk(n,e,t,i){let r=-1;for(let o=e,a=!1;o!=n.dom;){let f=n.docView.nearestDesc(o,!0),d;if(!f)return null;if(f.dom.nodeType==1&&(f.node.isBlock&&f.parent||!f.contentDOM)&&((d=f.dom.getBoundingClientRect()).width||d.height)&&(f.node.isBlock&&f.parent&&(!a&&d.left>i.left||d.top>i.top?r=f.posBefore:(!a&&d.right<i.left||d.bottom<i.top)&&(r=f.posAfter),a=!0),!f.contentDOM&&r<0&&!f.node.isText))return(f.node.isBlock?i.top<(d.top+d.bottom)/2:i.left<(d.left+d.right)/2)?f.posBefore:f.posAfter;o=f.dom.parentNode}return r>-1?r:n.docView.posFromDOM(e,t,-1)}function _C(n,e,t){let i=n.childNodes.length;if(i&&t.top<t.bottom)for(let r=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-t.top)/(t.bottom-t.top))-2)),o=r;;){let a=n.childNodes[o];if(a.nodeType==1){let f=a.getClientRects();for(let d=0;d<f.length;d++){let m=f[d];if(j1(e,m))return _C(a,e,m)}}if((o=(o+1)%i)==r)break}return n}function Nk(n,e){let t=n.dom.ownerDocument,i,r=0,o=_k(t,e.left,e.top);o&&({node:i,offset:r}=o);let a=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),f;if(!a||!n.dom.contains(a.nodeType!=1?a.parentNode:a)){let m=n.dom.getBoundingClientRect();if(!j1(e,m)||(a=_C(n.dom,e,m),!a))return null}if(ps)for(let m=a;i&&m;m=_h(m))m.draggable&&(i=void 0);if(a=kk(a,e),i){if($l&&i.nodeType==1&&(r=Math.min(r,i.childNodes.length),r<i.childNodes.length)){let y=i.childNodes[r],x;y.nodeName=="IMG"&&(x=y.getBoundingClientRect()).right<=e.left&&x.bottom>e.top&&r++}let m;Ym&&r&&i.nodeType==1&&(m=i.childNodes[r-1]).nodeType==1&&m.contentEditable=="false"&&m.getBoundingClientRect().top>=e.top&&r--,i==n.dom&&r==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?f=n.state.doc.content.size:(r==0||i.nodeType!=1||i.childNodes[r-1].nodeName!="BR")&&(f=zk(n,i,r,e))}f==null&&(f=Dk(n,a,e));let d=n.docView.nearestDesc(a,!0);return{pos:f,inside:d?d.posAtStart-d.border:-1}}function Mw(n){return n.top<n.bottom||n.left<n.right}function mc(n,e){let t=n.getClientRects();if(t.length){let i=t[e<0?0:t.length-1];if(Mw(i))return i}return Array.prototype.find.call(t,Mw)||n.getBoundingClientRect()}const Lk=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function xC(n,e,t){let{node:i,offset:r,atom:o}=n.docView.domFromPos(e,t<0?-1:1),a=Ym||$l;if(i.nodeType==3)if(a&&(Lk.test(i.nodeValue)||(t<0?!r:r==i.nodeValue.length))){let d=mc(cu(i,r,r),t);if($l&&r&&/\s/.test(i.nodeValue[r-1])&&r<i.nodeValue.length){let m=mc(cu(i,r-1,r-1),-1);if(m.top==d.top){let y=mc(cu(i,r,r+1),-1);if(y.top!=d.top)return pm(y,y.left<m.left)}}return d}else{let d=r,m=r,y=t<0?1:-1;return t<0&&!r?(m++,y=-1):t>=0&&r==i.nodeValue.length?(d--,y=1):t<0?d--:m++,pm(mc(cu(i,d,m),y),y<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&r&&(t<0||r==el(i))){let d=i.childNodes[r-1];if(d.nodeType==1)return fb(d.getBoundingClientRect(),!1)}if(o==null&&r<el(i)){let d=i.childNodes[r];if(d.nodeType==1)return fb(d.getBoundingClientRect(),!0)}return fb(i.getBoundingClientRect(),t>=0)}if(o==null&&r&&(t<0||r==el(i))){let d=i.childNodes[r-1],m=d.nodeType==3?cu(d,el(d)-(a?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(m)return pm(mc(m,1),!1)}if(o==null&&r<el(i)){let d=i.childNodes[r];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let m=d?d.nodeType==3?cu(d,0,a?0:1):d.nodeType==1?d:null:null;if(m)return pm(mc(m,-1),!0)}return pm(mc(i.nodeType==3?cu(i):i,-t),t>=0)}function pm(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function fb(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function CC(n,e,t){let i=n.state,r=n.root.activeElement;i!=e&&n.updateState(e),r!=n.dom&&n.focus();try{return t()}finally{i!=e&&n.updateState(i),r!=n.dom&&r&&r.focus()}}function Pk(n,e,t){let i=e.selection,r=t=="up"?i.$from:i.$to;return CC(n,e,()=>{let{node:o}=n.docView.domFromPos(r.pos,t=="up"?-1:1);for(;;){let f=n.docView.nearestDesc(o,!0);if(!f)break;if(f.node.isBlock){o=f.contentDOM||f.dom;break}o=f.dom.parentNode}let a=xC(n,r.pos,1);for(let f=o.firstChild;f;f=f.nextSibling){let d;if(f.nodeType==1)d=f.getClientRects();else if(f.nodeType==3)d=cu(f,0,f.nodeValue.length).getClientRects();else continue;for(let m=0;m<d.length;m++){let y=d[m];if(y.bottom>y.top+1&&(t=="up"?a.top-y.top>(y.bottom-a.top)*2:y.bottom-a.bottom>(a.bottom-y.top)*2))return!1}}return!0})}const Ik=/[\u0590-\u08ac]/;function jk(n,e,t){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let r=i.parentOffset,o=!r,a=r==i.parent.content.size,f=n.domSelection();return f?!Ik.test(i.parent.textContent)||!f.modify?t=="left"||t=="backward"?o:a:CC(n,e,()=>{let{focusNode:d,focusOffset:m,anchorNode:y,anchorOffset:x}=n.domSelectionRange(),T=f.caretBidiLevel;f.modify("move",t,"character");let R=i.depth?n.docView.domAfterPos(i.before()):n.dom,{focusNode:O,focusOffset:k}=n.domSelectionRange(),N=O&&!R.contains(O.nodeType==1?O:O.parentNode)||d==O&&m==k;try{f.collapse(y,x),d&&(d!=y||m!=x)&&f.extend&&f.extend(d,m)}catch{}return T!=null&&(f.caretBidiLevel=T),N}):i.pos==i.start()||i.pos==i.end()}let Ow=null,Aw=null,kw=!1;function Bk(n,e,t){return Ow==e&&Aw==t?kw:(Ow=e,Aw=t,kw=t=="up"||t=="down"?Pk(n,e,t):jk(n,e,t))}const nl=0,Dw=1,jf=2,Ma=3;class Xm{constructor(e,t,i,r){this.parent=e,this.children=t,this.dom=i,this.contentDOM=r,this.dirty=nl,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,i=this.posAtStart;;t++){let r=this.children[t];if(r==e)return i;i+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let o,a;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=t>Tr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){r=!1;break}if(o.previousSibling)break}if(r==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){r=!0;break}if(o.nextSibling)break}}return r??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let i=!0,r=e;r;r=r.parentNode){let o=this.getDesc(r),a;if(o&&(!t||o.node))if(i&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))i=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let i=t;i;i=i.parent)if(i==this)return t}posFromDOM(e,t,i){for(let r=e;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,i)}return-1}descAt(e){for(let t=0,i=0;t<this.children.length;t++){let r=this.children[t],o=i+r.size;if(i==e&&o!=i){for(;!r.border&&r.children.length;)for(let a=0;a<r.children.length;a++){let f=r.children[a];if(f.size){r=f;break}}return r}if(e<o)return r.descAt(e-i-r.border);i=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,r=0;for(let o=0;i<this.children.length;i++){let a=this.children[i],f=o+a.size;if(f>e||a instanceof EC){r=e-o;break}o=f}if(r)return this.children[i].domFromPos(r-this.children[i].border,t);for(let o;i&&!(o=this.children[i-1]).size&&o instanceof TC&&o.side>=0;i--);if(t<=0){let o,a=!0;for(;o=i?this.children[i-1]:null,!(!o||o.dom.parentNode==this.contentDOM);i--,a=!1);return o&&t&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?Tr(o.dom)+1:0}}else{let o,a=!0;for(;o=i<this.children.length?this.children[i]:null,!(!o||o.dom.parentNode==this.contentDOM);i++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?Tr(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let a=i,f=0;;f++){let d=this.children[f],m=a+d.size;if(r==-1&&e<=m){let y=a+d.border;if(e>=y&&t<=m-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,t,y);e=a;for(let x=f;x>0;x--){let T=this.children[x-1];if(T.size&&T.dom.parentNode==this.contentDOM&&!T.emptyChildAt(1)){r=Tr(T.dom)+1;break}e-=T.size}r==-1&&(r=0)}if(r>-1&&(m>t||f==this.children.length-1)){t=m;for(let y=f+1;y<this.children.length;y++){let x=this.children[y];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(-1)){o=Tr(x.dom);break}t+=x.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=m}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:i}=this.domFromPos(e,0);if(t.nodeType!=1||i==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[i]}setSelection(e,t,i,r=!1){let o=Math.min(e,t),a=Math.max(e,t);for(let R=0,O=0;R<this.children.length;R++){let k=this.children[R],N=O+k.size;if(o>O&&a<N)return k.setSelection(e-O-k.border,t-O-k.border,i,r);O=N}let f=this.domFromPos(e,e?-1:1),d=t==e?f:this.domFromPos(t,t?-1:1),m=i.root.getSelection(),y=i.domSelectionRange(),x=!1;if(($l||ps)&&e==t){let{node:R,offset:O}=f;if(R.nodeType==3){if(x=!!(O&&R.nodeValue[O-1]==`
`),x&&O==R.nodeValue.length)for(let k=R,N;k;k=k.parentNode){if(N=k.nextSibling){N.nodeName=="BR"&&(f=d={node:N.parentNode,offset:Tr(N)+1});break}let H=k.pmViewDesc;if(H&&H.node&&H.node.isBlock)break}}else{let k=R.childNodes[O-1];x=k&&(k.nodeName=="BR"||k.contentEditable=="false")}}if($l&&y.focusNode&&y.focusNode!=d.node&&y.focusNode.nodeType==1){let R=y.focusNode.childNodes[y.focusOffset];R&&R.contentEditable=="false"&&(r=!0)}if(!(r||x&&ps)&&Jf(f.node,f.offset,y.anchorNode,y.anchorOffset)&&Jf(d.node,d.offset,y.focusNode,y.focusOffset))return;let T=!1;if((m.extend||e==t)&&!x){m.collapse(f.node,f.offset);try{e!=t&&m.extend(d.node,d.offset),T=!0}catch{}}if(!T){if(e>t){let O=f;f=d,d=O}let R=document.createRange();R.setEnd(d.node,d.offset),R.setStart(f.node,f.offset),m.removeAllRanges(),m.addRange(R)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let i=0,r=0;r<this.children.length;r++){let o=this.children[r],a=i+o.size;if(i==a?e<=a&&t>=i:e<a&&t>i){let f=i+o.border,d=a-o.border;if(e>=f&&t<=d){this.dirty=e==i||t==a?jf:Dw,e==f&&t==d&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Ma:o.markDirty(e-f,t-f);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?jf:Ma}i=a}this.dirty=jf}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let i=e==1?jf:Dw;t.dirty<i&&(t.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class TC extends Xm{constructor(e,t,i,r){let o,a=t.type.toDOM;if(typeof a=="function"&&(a=a(i,()=>{if(!o)return r;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(a.nodeType!=1){let f=document.createElement("span");f.appendChild(a),a=f}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==nl&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Hk extends Xm{constructor(e,t,i,r){super(e,[],t,null),this.textDOM=i,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ed extends Xm{constructor(e,t,i,r,o){super(e,[],i,r),this.mark=t,this.spec=o}static create(e,t,i,r){let o=r.nodeViews[t.type.name],a=o&&o(t,r,i);return(!a||!a.dom)&&(a=rd.renderSpec(document,t.type.spec.toDOM(t,i),null,t.attrs)),new ed(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Ma||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ma&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=nl){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=nl}}slice(e,t,i){let r=ed.create(this.parent,this.mark,!0,i),o=this.children,a=this.size;t<a&&(o=Zb(o,t,a,i)),e>0&&(o=Zb(o,0,e,i));for(let f=0;f<o.length;f++)o[f].parent=r;return r.children=o,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Rc extends Xm{constructor(e,t,i,r,o,a,f,d,m){super(e,[],o,a),this.node=t,this.outerDeco=i,this.innerDeco=r,this.nodeDOM=f}static create(e,t,i,r,o,a){let f=o.nodeViews[t.type.name],d,m=f&&f(t,o,()=>{if(!d)return a;if(d.parent)return d.parent.posBeforeChild(d)},i,r),y=m&&m.dom,x=m&&m.contentDOM;if(t.isText){if(!y)y=document.createTextNode(t.text);else if(y.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else y||({dom:y,contentDOM:x}=rd.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!x&&!t.isText&&y.nodeName!="BR"&&(y.hasAttribute("contenteditable")||(y.contentEditable="false"),t.type.spec.draggable&&(y.draggable=!0));let T=y;return y=OC(y,i,t),m?d=new $k(e,t,i,r,y,x||null,T,m,o,a+1):t.isText?new Py(e,t,i,r,y,T,o):new Rc(e,t,i,r,y,x||null,T,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let i=this.children[t];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>$e.empty)}return e}matchesNode(e,t,i){return this.dirty==nl&&e.eq(this.node)&&ay(t,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let i=this.node.inlineContent,r=t,o=e.composing?this.localCompositionInfo(e,t):null,a=o&&o.pos>-1?o:null,f=o&&o.pos<0,d=new Uk(this,a&&a.node,e);Vk(this.node,this.innerDeco,(m,y,x)=>{m.spec.marks?d.syncToMarks(m.spec.marks,i,e):m.type.side>=0&&!x&&d.syncToMarks(y==this.node.childCount?qn.none:this.node.child(y).marks,i,e),d.placeWidget(m,e,r)},(m,y,x,T)=>{d.syncToMarks(m.marks,i,e);let R;d.findNodeMatch(m,y,x,T)||f&&e.state.selection.from>r&&e.state.selection.to<r+m.nodeSize&&(R=d.findIndexWithChild(o.node))>-1&&d.updateNodeAt(m,y,x,R,e)||d.updateNextNode(m,y,x,e,T,r)||d.addNode(m,y,x,e,r),r+=m.nodeSize}),d.syncToMarks([],i,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==jf)&&(a&&this.protectLocalComposition(e,a),RC(this.contentDOM,this.children,e),xh&&qk(this.dom))}localCompositionInfo(e,t){let{from:i,to:r}=e.state.selection;if(!(e.state.selection instanceof rn)||i<t||r>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,f=Yk(this.node.content,a,i-t,r-t);return f<0?null:{node:o,pos:f,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:i,text:r}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new Hk(this,o,t,r);e.input.compositionNodes.push(a),this.children=Zb(this.children,i,i+r.length,e,a)}update(e,t,i,r){return this.dirty==Ma||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,i,r),!0)}updateInner(e,t,i,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=nl}updateOuterDeco(e){if(ay(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=MC(this.dom,this.nodeDOM,Kb(this.outerDeco,this.node,t),Kb(e,this.node,t)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function zw(n,e,t,i,r){OC(i,e,n);let o=new Rc(void 0,n,e,t,i,i,i,r,0);return o.contentDOM&&o.updateChildren(r,0),o}class Py extends Rc{constructor(e,t,i,r,o,a,f){super(e,t,i,r,o,null,a,f,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,i,r){return this.dirty==Ma||this.dirty!=nl&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=nl||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=nl,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,i){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,i){let r=this.node.cut(e,t),o=document.createTextNode(r.text);return new Py(this.parent,r,this.outerDeco,this.innerDeco,o,o,i)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Ma)}get domAtom(){return!1}isText(e){return this.node.text==e}}class EC extends Xm{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==nl&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class $k extends Rc{constructor(e,t,i,r,o,a,f,d,m,y){super(e,t,i,r,o,a,f,m,y),this.spec=d}update(e,t,i,r){if(this.dirty==Ma)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,i);return o&&this.updateInner(e,t,i,r),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,i,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,i,r){this.spec.setSelection?this.spec.setSelection(e,t,i.root):super.setSelection(e,t,i,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function RC(n,e,t){let i=n.firstChild,r=!1;for(let o=0;o<e.length;o++){let a=e[o],f=a.dom;if(f.parentNode==n){for(;f!=i;)i=Nw(i),r=!0;i=i.nextSibling}else r=!0,n.insertBefore(f,i);if(a instanceof ed){let d=i?i.previousSibling:n.lastChild;RC(a.contentDOM,a.children,t),i=d?d.nextSibling:n.firstChild}}for(;i;)i=Nw(i),r=!0;r&&t.trackWrites==n&&(t.trackWrites=null)}const Mm=function(n){n&&(this.nodeName=n)};Mm.prototype=Object.create(null);const Bf=[new Mm];function Kb(n,e,t){if(n.length==0)return Bf;let i=t?Bf[0]:new Mm,r=[i];for(let o=0;o<n.length;o++){let a=n[o].type.attrs;if(a){a.nodeName&&r.push(i=new Mm(a.nodeName));for(let f in a){let d=a[f];d!=null&&(t&&r.length==1&&r.push(i=new Mm(e.isInline?"span":"div")),f=="class"?i.class=(i.class?i.class+" ":"")+d:f=="style"?i.style=(i.style?i.style+";":"")+d:f!="nodeName"&&(i[f]=d))}}}return r}function MC(n,e,t,i){if(t==Bf&&i==Bf)return e;let r=e;for(let o=0;o<i.length;o++){let a=i[o],f=t[o];if(o){let d;f&&f.nodeName==a.nodeName&&r!=n&&(d=r.parentNode)&&d.nodeName.toLowerCase()==a.nodeName||(d=document.createElement(a.nodeName),d.pmIsDeco=!0,d.appendChild(r),f=Bf[0]),r=d}Fk(r,f||Bf[0],a)}return r}function Fk(n,e,t){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in t)&&n.removeAttribute(i);for(let i in t)i!="class"&&i!="style"&&i!="nodeName"&&t[i]!=e[i]&&n.setAttribute(i,t[i]);if(e.class!=t.class){let i=e.class?e.class.split(" ").filter(Boolean):[],r=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&n.classList.remove(i[o]);for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&n.classList.add(r[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=i.exec(e.style);)n.style.removeProperty(r[1])}t.style&&(n.style.cssText+=t.style)}}function OC(n,e,t){return MC(n,n,Bf,Kb(e,t,n.nodeType!=1))}function ay(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function Nw(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Uk{constructor(e,t,i){this.lock=t,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Gk(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let i=e;i<t;i++)this.top.children[i].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,i){let r=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;r<a&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=nl,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let f=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let m=this.top.children[d];if(m.matchesMark(e[o])&&!this.isLocked(m.dom)){f=d;break}}if(f>-1)f>this.index&&(this.changed=!0,this.destroyBetween(this.index,f)),this.top=this.top.children[this.index];else{let d=ed.create(this.top,e[o],t,i);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,i,r){let o=-1,a;if(r>=this.preMatch.index&&(a=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,i))o=this.top.children.indexOf(a,this.index);else for(let f=this.index,d=Math.min(this.top.children.length,f+5);f<d;f++){let m=this.top.children[f];if(m.matchesNode(e,t,i)&&!this.preMatch.matched.has(m)){o=f;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,i,r,o){let a=this.top.children[r];return a.dirty==Ma&&a.dom==a.contentDOM&&(a.dirty=jf),a.update(e,t,i,o)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==i)return r}return-1}e=t}}updateNextNode(e,t,i,r,o,a){for(let f=this.index;f<this.top.children.length;f++){let d=this.top.children[f];if(d instanceof Rc){let m=this.preMatch.matched.get(d);if(m!=null&&m!=o)return!1;let y=d.dom,x,T=this.isLocked(y)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Ma&&ay(t,d.outerDeco));if(!T&&d.update(e,t,i,r))return this.destroyBetween(this.index,f),d.dom!=y&&(this.changed=!0),this.index++,!0;if(!T&&(x=this.recreateWrapper(d,e,t,i,r,a)))return this.destroyBetween(this.index,f),this.top.children[this.index]=x,x.contentDOM&&(x.dirty=jf,x.updateChildren(r,a+1),x.dirty=nl),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,i,r,o,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!ay(i,e.outerDeco)||!r.eq(e.innerDeco))return null;let f=Rc.create(this.top,t,i,r,o,a);if(f.contentDOM){f.children=e.children,e.children=[];for(let d of f.children)d.parent=f}return e.destroy(),f}addNode(e,t,i,r,o){let a=Rc.create(this.top,e,t,i,r,o);a.contentDOM&&a.updateChildren(r,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,t,i){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let o=new TC(this.top,e,t,i);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof ed;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Py)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ps||$r)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let r=new EC(this.top,[],i,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Gk(n,e){let t=e,i=t.children.length,r=n.childCount,o=new Map,a=[];e:for(;r>0;){let f;for(;;)if(i){let m=t.children[i-1];if(m instanceof ed)t=m,i=m.children.length;else{f=m,i--;break}}else{if(t==e)break e;i=t.parent.children.indexOf(t),t=t.parent}let d=f.node;if(d){if(d!=n.child(r-1))break;--r,o.set(f,r),a.push(f)}}return{index:r,matched:o,matches:a.reverse()}}function Wk(n,e){return n.type.side-e.type.side}function Vk(n,e,t,i){let r=e.locals(n),o=0;if(r.length==0){for(let m=0;m<n.childCount;m++){let y=n.child(m);i(y,r,e.forChild(o,y),m),o+=y.nodeSize}return}let a=0,f=[],d=null;for(let m=0;;){let y,x;for(;a<r.length&&r[a].to==o;){let N=r[a++];N.widget&&(y?(x||(x=[y])).push(N):y=N)}if(y)if(x){x.sort(Wk);for(let N=0;N<x.length;N++)t(x[N],m,!!d)}else t(y,m,!!d);let T,R;if(d)R=-1,T=d,d=null;else if(m<n.childCount)R=m,T=n.child(m++);else break;for(let N=0;N<f.length;N++)f[N].to<=o&&f.splice(N--,1);for(;a<r.length&&r[a].from<=o&&r[a].to>o;)f.push(r[a++]);let O=o+T.nodeSize;if(T.isText){let N=O;a<r.length&&r[a].from<N&&(N=r[a].from);for(let H=0;H<f.length;H++)f[H].to<N&&(N=f[H].to);N<O&&(d=T.cut(N-o),T=T.cut(0,N-o),O=N,R=-1)}else for(;a<r.length&&r[a].to<O;)a++;let k=T.isInline&&!T.isLeaf?f.filter(N=>!N.inline):f.slice();i(T,k,e.forChild(o,T),R),o=O}}function qk(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function Yk(n,e,t,i){for(let r=0,o=0;r<n.childCount&&o<=i;){let a=n.child(r++),f=o;if(o+=a.nodeSize,!a.isText)continue;let d=a.text;for(;r<n.childCount;){let m=n.child(r++);if(o+=m.nodeSize,!m.isText)break;d+=m.text}if(o>=t){if(o>=i&&d.slice(i-e.length-f,i-f)==e)return i-e.length;let m=f<i?d.lastIndexOf(e,i-f-1):-1;if(m>=0&&m+e.length+f>=t)return f+m;if(t==i&&d.length>=i+e.length-f&&d.slice(i-f,i-f+e.length)==e)return i}}return-1}function Zb(n,e,t,i,r){let o=[];for(let a=0,f=0;a<n.length;a++){let d=n[a],m=f,y=f+=d.size;m>=t||y<=e?o.push(d):(m<e&&o.push(d.slice(0,e-m,i)),r&&(o.push(r),r=void 0),y>t&&o.push(d.slice(t-m,d.size,i)))}return o}function B1(n,e=null){let t=n.domSelectionRange(),i=n.state.doc;if(!t.focusNode)return null;let r=n.docView.nearestDesc(t.focusNode),o=r&&r.size==0,a=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(a<0)return null;let f=i.resolve(a),d,m;if(Ly(t)){for(d=a;r&&!r.node;)r=r.parent;let x=r.node;if(r&&x.isAtom&&Pt.isSelectable(x)&&r.parent&&!(x.isInline&&Sk(t.focusNode,t.focusOffset,r.dom))){let T=r.posBefore;m=new Pt(a==T?f:i.resolve(T))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let x=a,T=a;for(let R=0;R<t.rangeCount;R++){let O=t.getRangeAt(R);x=Math.min(x,n.docView.posFromDOM(O.startContainer,O.startOffset,1)),T=Math.max(T,n.docView.posFromDOM(O.endContainer,O.endOffset,-1))}if(x<0)return null;[d,a]=T==n.state.selection.anchor?[T,x]:[x,T],f=i.resolve(a)}else d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(d<0)return null}let y=i.resolve(d);if(!m){let x=e=="pointer"||n.state.selection.head<f.pos&&!o?1:-1;m=H1(n,y,f,x)}return m}function AC(n){return n.editable?n.hasFocus():DC(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function mu(n,e=!1){let t=n.state.selection;if(kC(n,t),!!AC(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&$r){let i=n.domSelectionRange(),r=n.domObserver.currentSelection;if(i.anchorNode&&r.anchorNode&&Jf(i.anchorNode,i.anchorOffset,r.anchorNode,r.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)Kk(n);else{let{anchor:i,head:r}=t,o,a;Lw&&!(t instanceof rn)&&(t.$from.parent.inlineContent||(o=Pw(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(a=Pw(n,t.to))),n.docView.setSelection(i,r,n,e),Lw&&(o&&Iw(o),a&&Iw(a)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Xk(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const Lw=ps||$r&&yC<63;function Pw(n,e){let{node:t,offset:i}=n.docView.domFromPos(e,0),r=i<t.childNodes.length?t.childNodes[i]:null,o=i?t.childNodes[i-1]:null;if(ps&&r&&r.contentEditable=="false")return db(r);if((!r||r.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(r)return db(r);if(o)return db(o)}}function db(n){return n.contentEditable="true",ps&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Iw(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function Xk(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),i=t.anchorNode,r=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=i||t.anchorOffset!=r)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!AC(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function Kk(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let i=n.cursorWrapper.dom,r=i.nodeName=="IMG";r?t.setStart(i.parentNode,Tr(i)+1):t.setStart(i,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!r&&!n.state.selection.visible&&Bs&&Ec<=11&&(i.disabled=!0,i.disabled=!1)}function kC(n,e){if(e instanceof Pt){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(jw(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else jw(n)}function jw(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function H1(n,e,t,i){return n.someProp("createSelectionBetween",r=>r(n,e,t))||rn.between(e,t,i)}function Bw(n){return n.editable&&!n.hasFocus()?!1:DC(n)}function DC(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Zk(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Jf(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Qb(n,e){let{$anchor:t,$head:i}=n.selection,r=e>0?t.max(i):t.min(i),o=r.parent.inlineContent?r.depth?n.doc.resolve(e>0?r.after():r.before()):null:r;return o&&pn.findFrom(o,e)}function gc(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function Hw(n,e,t){let i=n.state.selection;if(i instanceof rn)if(t.indexOf("s")>-1){let{$head:r}=i,o=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=n.state.doc.resolve(r.pos+o.nodeSize*(e<0?-1:1));return gc(n,new rn(i.$anchor,a))}else if(i.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let r=Qb(n.state,e);return r&&r instanceof Pt?gc(n,r):!1}else if(!(Jo&&t.indexOf("m")>-1)){let r=i.$head,o=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,a;if(!o||o.isText)return!1;let f=e<0?r.pos-o.nodeSize:r.pos;return o.isAtom||(a=n.docView.descAt(f))&&!a.contentDOM?Pt.isSelectable(o)?gc(n,new Pt(e<0?n.state.doc.resolve(r.pos-o.nodeSize):r)):Ym?gc(n,new rn(n.state.doc.resolve(e<0?f:f+o.nodeSize))):!1:!1}}else return!1;else{if(i instanceof Pt&&i.node.isInline)return gc(n,new rn(e>0?i.$to:i.$from));{let r=Qb(n.state,e);return r?gc(n,r):!1}}}function uy(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Om(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function ch(n,e){return e<0?Qk(n):Jk(n)}function Qk(n){let e=n.domSelectionRange(),t=e.focusNode,i=e.focusOffset;if(!t)return;let r,o,a=!1;for($l&&t.nodeType==1&&i<uy(t)&&Om(t.childNodes[i],-1)&&(a=!0);;)if(i>0){if(t.nodeType!=1)break;{let f=t.childNodes[i-1];if(Om(f,-1))r=t,o=--i;else if(f.nodeType==3)t=f,i=t.nodeValue.length;else break}}else{if(zC(t))break;{let f=t.previousSibling;for(;f&&Om(f,-1);)r=t.parentNode,o=Tr(f),f=f.previousSibling;if(f)t=f,i=uy(t);else{if(t=t.parentNode,t==n.dom)break;i=0}}}a?Jb(n,t,i):r&&Jb(n,r,o)}function Jk(n){let e=n.domSelectionRange(),t=e.focusNode,i=e.focusOffset;if(!t)return;let r=uy(t),o,a;for(;;)if(i<r){if(t.nodeType!=1)break;let f=t.childNodes[i];if(Om(f,1))o=t,a=++i;else break}else{if(zC(t))break;{let f=t.nextSibling;for(;f&&Om(f,1);)o=f.parentNode,a=Tr(f)+1,f=f.nextSibling;if(f)t=f,i=0,r=uy(t);else{if(t=t.parentNode,t==n.dom)break;i=r=0}}}o&&Jb(n,o,a)}function zC(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function e2(n,e){for(;n&&e==n.childNodes.length&&!qm(n);)e=Tr(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function t2(n,e){for(;n&&!e&&!qm(n);)e=Tr(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function Jb(n,e,t){if(e.nodeType!=3){let o,a;(a=e2(e,t))?(e=a,t=0):(o=t2(e,t))&&(e=o,t=o.nodeValue.length)}let i=n.domSelection();if(!i)return;if(Ly(i)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),i.removeAllRanges(),i.addRange(o)}else i.extend&&i.extend(e,t);n.domObserver.setCurSelection();let{state:r}=n;setTimeout(()=>{n.state==r&&mu(n)},50)}function $w(n,e){let t=n.state.doc.resolve(e);if(!($r||xk)&&t.parent.inlineContent){let r=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),a=(o.top+o.bottom)/2;if(a>r.top&&a<r.bottom&&Math.abs(o.left-r.left)>1)return o.left<r.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),a=(o.top+o.bottom)/2;if(a>r.top&&a<r.bottom&&Math.abs(o.left-r.left)>1)return o.left>r.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function Fw(n,e,t){let i=n.state.selection;if(i instanceof rn&&!i.empty||t.indexOf("s")>-1||Jo&&t.indexOf("m")>-1)return!1;let{$from:r,$to:o}=i;if(!r.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let a=Qb(n.state,e);if(a&&a instanceof Pt)return gc(n,a)}if(!r.parent.inlineContent){let a=e<0?r:o,f=i instanceof So?pn.near(a,e):pn.findFrom(a,e);return f?gc(n,f):!1}return!1}function Uw(n,e){if(!(n.state.selection instanceof rn))return!0;let{$head:t,$anchor:i,empty:r}=n.state.selection;if(!t.sameParent(i))return!0;if(!r)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let a=n.state.tr;return e<0?a.delete(t.pos-o.nodeSize,t.pos):a.delete(t.pos,t.pos+o.nodeSize),n.dispatch(a),!0}return!1}function Gw(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function n2(n){if(!ps||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;Gw(n,i,"true"),setTimeout(()=>Gw(n,i,"false"),20)}return!1}function i2(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function r2(n,e){let t=e.keyCode,i=i2(e);if(t==8||Jo&&t==72&&i=="c")return Uw(n,-1)||ch(n,-1);if(t==46&&!e.shiftKey||Jo&&t==68&&i=="c")return Uw(n,1)||ch(n,1);if(t==13||t==27)return!0;if(t==37||Jo&&t==66&&i=="c"){let r=t==37?$w(n,n.state.selection.from)=="ltr"?-1:1:-1;return Hw(n,r,i)||ch(n,r)}else if(t==39||Jo&&t==70&&i=="c"){let r=t==39?$w(n,n.state.selection.from)=="ltr"?1:-1:1;return Hw(n,r,i)||ch(n,r)}else{if(t==38||Jo&&t==80&&i=="c")return Fw(n,-1,i)||ch(n,-1);if(t==40||Jo&&t==78&&i=="c")return n2(n)||Fw(n,1,i)||ch(n,1);if(i==(Jo?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function $1(n,e){n.someProp("transformCopied",R=>{e=R(e,n)});let t=[],{content:i,openStart:r,openEnd:o}=e;for(;r>1&&o>1&&i.childCount==1&&i.firstChild.childCount==1;){r--,o--;let R=i.firstChild;t.push(R.type.name,R.attrs!=R.type.defaultAttrs?R.attrs:null),i=R.content}let a=n.someProp("clipboardSerializer")||rd.fromSchema(n.state.schema),f=BC(),d=f.createElement("div");d.appendChild(a.serializeFragment(i,{document:f}));let m=d.firstChild,y,x=0;for(;m&&m.nodeType==1&&(y=jC[m.nodeName.toLowerCase()]);){for(let R=y.length-1;R>=0;R--){let O=f.createElement(y[R]);for(;d.firstChild;)O.appendChild(d.firstChild);d.appendChild(O),x++}m=d.firstChild}m&&m.nodeType==1&&m.setAttribute("data-pm-slice",`${r} ${o}${x?` -${x}`:""} ${JSON.stringify(t)}`);let T=n.someProp("clipboardTextSerializer",R=>R(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:T,slice:e}}function NC(n,e,t,i,r){let o=r.parent.type.spec.code,a,f;if(!t&&!e)return null;let d=e&&(i||o||!t);if(d){if(n.someProp("transformPastedText",T=>{e=T(e,o||i,n)}),o)return e?new ft($e.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ft.empty;let x=n.someProp("clipboardTextParser",T=>T(e,r,i,n));if(x)f=x;else{let T=r.marks(),{schema:R}=n.state,O=rd.fromSchema(R);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(k=>{let N=a.appendChild(document.createElement("p"));k&&N.appendChild(O.serializeNode(R.text(k,T)))})}}else n.someProp("transformPastedHTML",x=>{t=x(t,n)}),a=a2(t),Ym&&u2(a);let m=a&&a.querySelector("[data-pm-slice]"),y=m&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(m.getAttribute("data-pm-slice")||"");if(y&&y[3])for(let x=+y[3];x>0;x--){let T=a.firstChild;for(;T&&T.nodeType!=1;)T=T.nextSibling;if(!T)break;a=T}if(f||(f=(n.someProp("clipboardParser")||n.someProp("domParser")||Tc.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(d||y),context:r,ruleFromNode(T){return T.nodeName=="BR"&&!T.nextSibling&&T.parentNode&&!s2.test(T.parentNode.nodeName)?{ignore:!0}:null}})),y)f=c2(Ww(f,+y[1],+y[2]),y[4]);else if(f=ft.maxOpen(o2(f.content,r),!0),f.openStart||f.openEnd){let x=0,T=0;for(let R=f.content.firstChild;x<f.openStart&&!R.type.spec.isolating;x++,R=R.firstChild);for(let R=f.content.lastChild;T<f.openEnd&&!R.type.spec.isolating;T++,R=R.lastChild);f=Ww(f,x,T)}return n.someProp("transformPasted",x=>{f=x(f,n)}),f}const s2=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function o2(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.index(t)),o,a=[];if(n.forEach(f=>{if(!a)return;let d=r.findWrapping(f.type),m;if(!d)return a=null;if(m=a.length&&o.length&&PC(d,o,f,a[a.length-1],0))a[a.length-1]=m;else{a.length&&(a[a.length-1]=IC(a[a.length-1],o.length));let y=LC(f,d);a.push(y),r=r.matchType(y.type),o=d}}),a)return $e.from(a)}return n}function LC(n,e,t=0){for(let i=e.length-1;i>=t;i--)n=e[i].create(null,$e.from(n));return n}function PC(n,e,t,i,r){if(r<n.length&&r<e.length&&n[r]==e[r]){let o=PC(n,e,t,i.lastChild,r+1);if(o)return i.copy(i.content.replaceChild(i.childCount-1,o));if(i.contentMatchAt(i.childCount).matchType(r==n.length-1?t.type:n[r+1]))return i.copy(i.content.append($e.from(LC(t,n,r+1))))}}function IC(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,IC(n.lastChild,e-1)),i=n.contentMatchAt(n.childCount).fillBefore($e.empty,!0);return n.copy(t.append(i))}function e1(n,e,t,i,r,o){let a=e<0?n.firstChild:n.lastChild,f=a.content;return n.childCount>1&&(o=0),r<i-1&&(f=e1(f,e,t,i,r+1,o)),r>=t&&(f=e<0?a.contentMatchAt(0).fillBefore(f,o<=r).append(f):f.append(a.contentMatchAt(a.childCount).fillBefore($e.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,a.copy(f))}function Ww(n,e,t){return e<n.openStart&&(n=new ft(e1(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new ft(e1(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const jC={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Vw=null;function BC(){return Vw||(Vw=document.implementation.createHTMLDocument("title"))}let hb=null;function l2(n){let e=window.trustedTypes;return e?(hb||(hb=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),hb.createHTML(n)):n}function a2(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=BC().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(n),r;if((r=i&&jC[i[1].toLowerCase()])&&(n=r.map(o=>"<"+o+">").join("")+n+r.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=l2(n),r)for(let o=0;o<r.length;o++)t=t.querySelector(r[o])||t;return t}function u2(n){let e=n.querySelectorAll($r?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let i=e[t];i.childNodes.length==1&&i.textContent==" "&&i.parentNode&&i.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),i)}}function c2(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return n}let{content:r,openStart:o,openEnd:a}=n;for(let f=i.length-2;f>=0;f-=2){let d=t.nodes[i[f]];if(!d||d.hasRequiredAttrs())break;r=$e.from(d.create(i[f+1],r)),o++,a++}return new ft(r,o,a)}const ms={},gs={},f2={touchstart:!0,touchmove:!0};class d2{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function h2(n){for(let e in ms){let t=ms[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=i=>{m2(n,i)&&!F1(n,i)&&(n.editable||!(i.type in gs))&&t(n,i)},f2[e]?{passive:!0}:void 0)}ps&&n.dom.addEventListener("input",()=>null),t1(n)}function wc(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function p2(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function t1(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=i=>F1(n,i))})}function F1(n,e){return n.someProp("handleDOMEvents",t=>{let i=t[e.type];return i?i(n,e)||e.defaultPrevented:!1})}function m2(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function g2(n,e){!F1(n,e)&&ms[e.type]&&(n.editable||!(e.type in gs))&&ms[e.type](n,e)}gs.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!$C(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(fu&&$r&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),xh&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let i=Date.now();n.input.lastIOSEnter=i,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==i&&(n.someProp("handleKeyDown",r=>r(n,Lf(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",i=>i(n,t))||r2(n,t)?t.preventDefault():wc(n,"key")};gs.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};gs.keypress=(n,e)=>{let t=e;if($C(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Jo&&t.metaKey)return;if(n.someProp("handleKeyPress",r=>r(n,t))){t.preventDefault();return}let i=n.state.selection;if(!(i instanceof rn)||!i.$from.sameParent(i.$to)){let r=String.fromCharCode(t.charCode);!/[\r\n]/.test(r)&&!n.someProp("handleTextInput",o=>o(n,i.$from.pos,i.$to.pos,r))&&n.dispatch(n.state.tr.insertText(r).scrollIntoView()),t.preventDefault()}};function Iy(n){return{left:n.clientX,top:n.clientY}}function v2(n,e){let t=e.x-n.clientX,i=e.y-n.clientY;return t*t+i*i<100}function U1(n,e,t,i,r){if(i==-1)return!1;let o=n.state.doc.resolve(i);for(let a=o.depth+1;a>0;a--)if(n.someProp(e,f=>a>o.depth?f(n,t,o.nodeAfter,o.before(a),r,!0):f(n,t,o.node(a),o.before(a),r,!1)))return!0;return!1}function bh(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let i=n.state.tr.setSelection(e);i.setMeta("pointer",!0),n.dispatch(i)}function y2(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),i=t.nodeAfter;return i&&i.isAtom&&Pt.isSelectable(i)?(bh(n,new Pt(t)),!0):!1}function b2(n,e){if(e==-1)return!1;let t=n.state.selection,i,r;t instanceof Pt&&(i=t.node);let o=n.state.doc.resolve(e);for(let a=o.depth+1;a>0;a--){let f=a>o.depth?o.nodeAfter:o.node(a);if(Pt.isSelectable(f)){i&&t.$from.depth>0&&a>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?r=o.before(t.$from.depth):r=o.before(a);break}}return r!=null?(bh(n,Pt.create(n.state.doc,r)),!0):!1}function S2(n,e,t,i,r){return U1(n,"handleClickOn",e,t,i)||n.someProp("handleClick",o=>o(n,e,i))||(r?b2(n,t):y2(n,t))}function w2(n,e,t,i){return U1(n,"handleDoubleClickOn",e,t,i)||n.someProp("handleDoubleClick",r=>r(n,e,i))}function _2(n,e,t,i){return U1(n,"handleTripleClickOn",e,t,i)||n.someProp("handleTripleClick",r=>r(n,e,i))||x2(n,t,i)}function x2(n,e,t){if(t.button!=0)return!1;let i=n.state.doc;if(e==-1)return i.inlineContent?(bh(n,rn.create(i,0,i.content.size)),!0):!1;let r=i.resolve(e);for(let o=r.depth+1;o>0;o--){let a=o>r.depth?r.nodeAfter:r.node(o),f=r.before(o);if(a.inlineContent)bh(n,rn.create(i,f+1,f+1+a.content.size));else if(Pt.isSelectable(a))bh(n,Pt.create(i,f));else continue;return!0}}function G1(n){return cy(n)}const HC=Jo?"metaKey":"ctrlKey";ms.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let i=G1(n),r=Date.now(),o="singleClick";r-n.input.lastClick.time<500&&v2(t,n.input.lastClick)&&!t[HC]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:r,x:t.clientX,y:t.clientY,type:o,button:t.button};let a=n.posAtCoords(Iy(t));a&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new C2(n,a,t,!!i)):(o=="doubleClick"?w2:_2)(n,a.pos,a.inside,t)?t.preventDefault():wc(n,"pointer"))};class C2{constructor(e,t,i,r){this.view=e,this.pos=t,this.event=i,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[HC],this.allowDefault=i.shiftKey;let o,a;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),a=t.inside;else{let y=e.state.doc.resolve(t.pos);o=y.parent,a=y.depth?y.before():0}const f=r?null:i.target,d=f?e.docView.nearestDesc(f,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:m}=e.state;(i.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||m instanceof Pt&&m.from<=a&&m.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&$l&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),wc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>mu(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Iy(e))),this.updateAllowDefault(e),this.allowDefault||!t?wc(this.view,"pointer"):S2(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ps&&this.mightDrag&&!this.mightDrag.node.isAtom||$r&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(bh(this.view,pn.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):wc(this.view,"pointer")}move(e){this.updateAllowDefault(e),wc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ms.touchstart=n=>{n.input.lastTouch=Date.now(),G1(n),wc(n,"pointer")};ms.touchmove=n=>{n.input.lastTouch=Date.now(),wc(n,"pointer")};ms.contextmenu=n=>G1(n);function $C(n,e){return n.composing?!0:ps&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const T2=fu?5e3:-1;gs.compositionstart=gs.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof rn&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),cy(n,!0),n.markCursor=null;else if(cy(n,!e.selection.empty),$l&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let i=n.domSelectionRange();for(let r=i.focusNode,o=i.focusOffset;r&&r.nodeType==1&&o!=0;){let a=o<0?r.lastChild:r.childNodes[o-1];if(!a)break;if(a.nodeType==3){let f=n.domSelection();f&&f.collapse(a,a.nodeValue.length);break}else r=a,o=-1}}n.input.composing=!0}FC(n,T2)};gs.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,FC(n,20))};function FC(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>cy(n),e))}function UC(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=R2());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function E2(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=yk(e.focusNode,e.focusOffset),i=bk(e.focusNode,e.focusOffset);if(t&&i&&t!=i){let r=i.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(t==o||i==o)return o;if(!r||!r.isText(i.nodeValue))return i;if(n.input.compositionNode==i){let a=t.pmViewDesc;if(!(!a||!a.isText(t.nodeValue)))return i}}return t||i}function R2(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function cy(n,e=!1){if(!(fu&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),UC(n),e||n.docView&&n.docView.dirty){let t=B1(n),i=n.state.selection;return t&&!t.eq(i)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function M2(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),r=document.createRange();r.selectNodeContents(e),n.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Im=Bs&&Ec<15||xh&&Ck<604;ms.copy=gs.cut=(n,e)=>{let t=e,i=n.state.selection,r=t.type=="cut";if(i.empty)return;let o=Im?null:t.clipboardData,a=i.content(),{dom:f,text:d}=$1(n,a);o?(t.preventDefault(),o.clearData(),o.setData("text/html",f.innerHTML),o.setData("text/plain",d)):M2(n,f),r&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function O2(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function A2(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,i=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let r=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),i.parentNode&&i.parentNode.removeChild(i),t?jm(n,i.value,null,r,e):jm(n,i.textContent,i.innerHTML,r,e)},50)}function jm(n,e,t,i,r){let o=NC(n,e,t,i,n.state.selection.$from);if(n.someProp("handlePaste",d=>d(n,r,o||ft.empty)))return!0;if(!o)return!1;let a=O2(o),f=a?n.state.tr.replaceSelectionWith(a,i):n.state.tr.replaceSelection(o);return n.dispatch(f.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function GC(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}gs.paste=(n,e)=>{let t=e;if(n.composing&&!fu)return;let i=Im?null:t.clipboardData,r=n.input.shiftKey&&n.input.lastKeyCode!=45;i&&jm(n,GC(i),i.getData("text/html"),r,t)?t.preventDefault():A2(n,t)};class WC{constructor(e,t,i){this.slice=e,this.move=t,this.node=i}}const k2=Jo?"altKey":"ctrlKey";function VC(n,e){let t=n.someProp("dragCopies",i=>!i(e));return t??!e[k2]}ms.dragstart=(n,e)=>{let t=e,i=n.input.mouseDown;if(i&&i.done(),!t.dataTransfer)return;let r=n.state.selection,o=r.empty?null:n.posAtCoords(Iy(t)),a;if(!(o&&o.pos>=r.from&&o.pos<=(r instanceof Pt?r.to-1:r.to))){if(i&&i.mightDrag)a=Pt.create(n.state.doc,i.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let x=n.docView.nearestDesc(t.target,!0);x&&x.node.type.spec.draggable&&x!=n.docView&&(a=Pt.create(n.state.doc,x.posBefore))}}let f=(a||n.state.selection).content(),{dom:d,text:m,slice:y}=$1(n,f);(!t.dataTransfer.files.length||!$r||yC>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Im?"Text":"text/html",d.innerHTML),t.dataTransfer.effectAllowed="copyMove",Im||t.dataTransfer.setData("text/plain",m),n.dragging=new WC(y,VC(n,t),a)};ms.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};gs.dragover=gs.dragenter=(n,e)=>e.preventDefault();gs.drop=(n,e)=>{let t=e,i=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let r=n.posAtCoords(Iy(t));if(!r)return;let o=n.state.doc.resolve(r.pos),a=i&&i.slice;a?n.someProp("transformPasted",O=>{a=O(a,n)}):a=NC(n,GC(t.dataTransfer),Im?null:t.dataTransfer.getData("text/html"),!1,o);let f=!!(i&&VC(n,t));if(n.someProp("handleDrop",O=>O(n,t,a||ft.empty,f))){t.preventDefault();return}if(!a)return;t.preventDefault();let d=a?rk(n.state.doc,o.pos,a):o.pos;d==null&&(d=o.pos);let m=n.state.tr;if(f){let{node:O}=i;O?O.replace(m):m.deleteSelection()}let y=m.mapping.map(d),x=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,T=m.doc;if(x?m.replaceRangeWith(y,y,a.content.firstChild):m.replaceRange(y,y,a),m.doc.eq(T))return;let R=m.doc.resolve(y);if(x&&Pt.isSelectable(a.content.firstChild)&&R.nodeAfter&&R.nodeAfter.sameMarkup(a.content.firstChild))m.setSelection(new Pt(R));else{let O=m.mapping.map(d);m.mapping.maps[m.mapping.maps.length-1].forEach((k,N,H,V)=>O=V),m.setSelection(H1(n,R,m.doc.resolve(O)))}n.focus(),n.dispatch(m.setMeta("uiEvent","drop"))};ms.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&mu(n)},20))};ms.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};ms.beforeinput=(n,e)=>{if($r&&fu&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:i}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=i||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,Lf(8,"Backspace")))))return;let{$cursor:r}=n.state.selection;r&&r.pos>0&&n.dispatch(n.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let n in gs)ms[n]=gs[n];function Bm(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class fy{constructor(e,t){this.toDOM=e,this.spec=t||Vf,this.side=this.spec.side||0}map(e,t,i,r){let{pos:o,deleted:a}=e.mapResult(t.from+r,this.side<0?-1:1);return a?null:new Bl(o-i,o-i,this)}valid(){return!0}eq(e){return this==e||e instanceof fy&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Bm(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Mc{constructor(e,t){this.attrs=e,this.spec=t||Vf}map(e,t,i,r){let o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-i,a=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-i;return o>=a?null:new Bl(o,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Mc&&Bm(this.attrs,e.attrs)&&Bm(this.spec,e.spec)}static is(e){return e.type instanceof Mc}destroy(){}}class W1{constructor(e,t){this.attrs=e,this.spec=t||Vf}map(e,t,i,r){let o=e.mapResult(t.from+r,1);if(o.deleted)return null;let a=e.mapResult(t.to+r,-1);return a.deleted||a.pos<=o.pos?null:new Bl(o.pos-i,a.pos-i,this)}valid(e,t){let{index:i,offset:r}=e.content.findIndex(t.from),o;return r==t.from&&!(o=e.child(i)).isText&&r+o.nodeSize==t.to}eq(e){return this==e||e instanceof W1&&Bm(this.attrs,e.attrs)&&Bm(this.spec,e.spec)}destroy(){}}class Bl{constructor(e,t,i){this.from=e,this.to=t,this.type=i}copy(e,t){return new Bl(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,i){return this.type.map(e,this,t,i)}static widget(e,t,i){return new Bl(e,e,new fy(t,i))}static inline(e,t,i,r){return new Bl(e,t,new Mc(i,r))}static node(e,t,i,r){return new Bl(e,t,new W1(i,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Mc}get widget(){return this.type instanceof fy}}const ph=[],Vf={};class lr{constructor(e,t){this.local=e.length?e:ph,this.children=t.length?t:ph}static create(e,t){return t.length?dy(t,e,0,Vf):Br}find(e,t,i){let r=[];return this.findInner(e??0,t??1e9,r,0,i),r}findInner(e,t,i,r,o){for(let a=0;a<this.local.length;a++){let f=this.local[a];f.from<=t&&f.to>=e&&(!o||o(f.spec))&&i.push(f.copy(f.from+r,f.to+r))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let f=this.children[a]+1;this.children[a+2].findInner(e-f,t-f,i,r+f,o)}}map(e,t,i){return this==Br||e.maps.length==0?this:this.mapInner(e,t,0,0,i||Vf)}mapInner(e,t,i,r,o){let a;for(let f=0;f<this.local.length;f++){let d=this.local[f].map(e,i,r);d&&d.type.valid(t,d)?(a||(a=[])).push(d):o.onRemove&&o.onRemove(this.local[f].spec)}return this.children.length?D2(this.children,a||[],e,t,i,r,o):a?new lr(a.sort(qf),ph):Br}add(e,t){return t.length?this==Br?lr.create(e,t):this.addInner(e,t,0):this}addInner(e,t,i){let r,o=0;e.forEach((f,d)=>{let m=d+i,y;if(y=YC(t,f,m)){for(r||(r=this.children.slice());o<r.length&&r[o]<d;)o+=3;r[o]==d?r[o+2]=r[o+2].addInner(f,y,m+1):r.splice(o,0,d,d+f.nodeSize,dy(y,f,m+1,Vf)),o+=3}});let a=qC(o?XC(t):t,-i);for(let f=0;f<a.length;f++)a[f].type.valid(e,a[f])||a.splice(f--,1);return new lr(a.length?this.local.concat(a).sort(qf):this.local,r||this.children)}remove(e){return e.length==0||this==Br?this:this.removeInner(e,0)}removeInner(e,t){let i=this.children,r=this.local;for(let o=0;o<i.length;o+=3){let a,f=i[o]+t,d=i[o+1]+t;for(let y=0,x;y<e.length;y++)(x=e[y])&&x.from>f&&x.to<d&&(e[y]=null,(a||(a=[])).push(x));if(!a)continue;i==this.children&&(i=this.children.slice());let m=i[o+2].removeInner(a,f+1);m!=Br?i[o+2]=m:(i.splice(o,3),o-=3)}if(r.length){for(let o=0,a;o<e.length;o++)if(a=e[o])for(let f=0;f<r.length;f++)r[f].eq(a,t)&&(r==this.local&&(r=this.local.slice()),r.splice(f--,1))}return i==this.children&&r==this.local?this:r.length||i.length?new lr(r,i):Br}forChild(e,t){if(this==Br)return this;if(t.isLeaf)return lr.empty;let i,r;for(let f=0;f<this.children.length;f+=3)if(this.children[f]>=e){this.children[f]==e&&(i=this.children[f+2]);break}let o=e+1,a=o+t.content.size;for(let f=0;f<this.local.length;f++){let d=this.local[f];if(d.from<a&&d.to>o&&d.type instanceof Mc){let m=Math.max(o,d.from)-o,y=Math.min(a,d.to)-o;m<y&&(r||(r=[])).push(d.copy(m,y))}}if(r){let f=new lr(r.sort(qf),ph);return i?new vc([f,i]):f}return i||Br}eq(e){if(this==e)return!0;if(!(e instanceof lr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return V1(this.localsInner(e))}localsInner(e){if(this==Br)return ph;if(e.inlineContent||!this.local.some(Mc.is))return this.local;let t=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof Mc||t.push(this.local[i]);return t}forEachSet(e){e(this)}}lr.empty=new lr([],[]);lr.removeOverlap=V1;const Br=lr.empty;class vc{constructor(e){this.members=e}map(e,t){const i=this.members.map(r=>r.map(e,t,Vf));return vc.from(i)}forChild(e,t){if(t.isLeaf)return lr.empty;let i=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(e,t);o!=Br&&(o instanceof vc?i=i.concat(o.members):i.push(o))}return vc.from(i)}eq(e){if(!(e instanceof vc)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,i=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(e);if(o.length)if(!t)t=o;else{i&&(t=t.slice(),i=!1);for(let a=0;a<o.length;a++)t.push(o[a])}}return t?V1(i?t:t.sort(qf)):ph}static from(e){switch(e.length){case 0:return Br;case 1:return e[0];default:return new vc(e.every(t=>t instanceof lr)?e:e.reduce((t,i)=>t.concat(i instanceof lr?i:i.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function D2(n,e,t,i,r,o,a){let f=n.slice();for(let m=0,y=o;m<t.maps.length;m++){let x=0;t.maps[m].forEach((T,R,O,k)=>{let N=k-O-(R-T);for(let H=0;H<f.length;H+=3){let V=f[H+1];if(V<0||T>V+y-x)continue;let Z=f[H]+y-x;R>=Z?f[H+1]=T<=Z?-2:-1:T>=y&&N&&(f[H]+=N,f[H+1]+=N)}x+=N}),y=t.maps[m].map(y,-1)}let d=!1;for(let m=0;m<f.length;m+=3)if(f[m+1]<0){if(f[m+1]==-2){d=!0,f[m+1]=-1;continue}let y=t.map(n[m]+o),x=y-r;if(x<0||x>=i.content.size){d=!0;continue}let T=t.map(n[m+1]+o,-1),R=T-r,{index:O,offset:k}=i.content.findIndex(x),N=i.maybeChild(O);if(N&&k==x&&k+N.nodeSize==R){let H=f[m+2].mapInner(t,N,y+1,n[m]+o+1,a);H!=Br?(f[m]=x,f[m+1]=R,f[m+2]=H):(f[m+1]=-2,d=!0)}else d=!0}if(d){let m=z2(f,n,e,t,r,o,a),y=dy(m,i,0,a);e=y.local;for(let x=0;x<f.length;x+=3)f[x+1]<0&&(f.splice(x,3),x-=3);for(let x=0,T=0;x<y.children.length;x+=3){let R=y.children[x];for(;T<f.length&&f[T]<R;)T+=3;f.splice(T,0,y.children[x],y.children[x+1],y.children[x+2])}}return new lr(e.sort(qf),f)}function qC(n,e){if(!e||!n.length)return n;let t=[];for(let i=0;i<n.length;i++){let r=n[i];t.push(new Bl(r.from+e,r.to+e,r.type))}return t}function z2(n,e,t,i,r,o,a){function f(d,m){for(let y=0;y<d.local.length;y++){let x=d.local[y].map(i,r,m);x?t.push(x):a.onRemove&&a.onRemove(d.local[y].spec)}for(let y=0;y<d.children.length;y+=3)f(d.children[y+2],d.children[y]+m+1)}for(let d=0;d<n.length;d+=3)n[d+1]==-1&&f(n[d+2],e[d]+o+1);return t}function YC(n,e,t){if(e.isLeaf)return null;let i=t+e.nodeSize,r=null;for(let o=0,a;o<n.length;o++)(a=n[o])&&a.from>t&&a.to<i&&((r||(r=[])).push(a),n[o]=null);return r}function XC(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function dy(n,e,t,i){let r=[],o=!1;e.forEach((f,d)=>{let m=YC(n,f,d+t);if(m){o=!0;let y=dy(m,f,t+d+1,i);y!=Br&&r.push(d,d+f.nodeSize,y)}});let a=qC(o?XC(n):n,-t).sort(qf);for(let f=0;f<a.length;f++)a[f].type.valid(e,a[f])||(i.onRemove&&i.onRemove(a[f].spec),a.splice(f--,1));return a.length||r.length?new lr(a,r):Br}function qf(n,e){return n.from-e.from||n.to-e.to}function V1(n){let e=n;for(let t=0;t<e.length-1;t++){let i=e[t];if(i.from!=i.to)for(let r=t+1;r<e.length;r++){let o=e[r];if(o.from==i.from){o.to!=i.to&&(e==n&&(e=n.slice()),e[r]=o.copy(o.from,i.to),qw(e,r+1,o.copy(i.to,o.to)));continue}else{o.from<i.to&&(e==n&&(e=n.slice()),e[t]=i.copy(i.from,o.from),qw(e,r,i.copy(o.from,i.to)));break}}}return e}function qw(n,e,t){for(;e<n.length&&qf(t,n[e])>0;)e++;n.splice(e,0,t)}function pb(n){let e=[];return n.someProp("decorations",t=>{let i=t(n.state);i&&i!=Br&&e.push(i)}),n.cursorWrapper&&e.push(lr.create(n.state.doc,[n.cursorWrapper.deco])),vc.from(e)}const N2={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},L2=Bs&&Ec<=11;class P2{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class I2{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new P2,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let r=0;r<i.length;r++)this.queue.push(i[r]);Bs&&Ec<=11&&i.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),L2&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,N2)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Bw(this.view)){if(this.suppressingSelectionUpdates)return mu(this.view);if(Bs&&Ec<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Jf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,i;for(let o=e.focusNode;o;o=_h(o))t.add(o);for(let o=e.anchorNode;o;o=_h(o))if(t.has(o)){i=o;break}let r=i&&this.view.docView.nearestDesc(i);if(r&&r.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let i=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&Bw(e)&&!this.ignoreSelectionChange(i),o=-1,a=-1,f=!1,d=[];if(e.editable)for(let y=0;y<t.length;y++){let x=this.registerMutation(t[y],d);x&&(o=o<0?x.from:Math.min(x.from,o),a=a<0?x.to:Math.max(x.to,a),x.typeOver&&(f=!0))}if($l&&d.length){let y=d.filter(x=>x.nodeName=="BR");if(y.length==2){let[x,T]=y;x.parentNode&&x.parentNode.parentNode==T.parentNode?T.remove():x.remove()}else{let{focusNode:x}=this.currentSelection;for(let T of y){let R=T.parentNode;R&&R.nodeName=="LI"&&(!x||H2(e,x)!=R)&&T.remove()}}}let m=null;o<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ly(i)&&(m=B1(e))&&m.eq(pn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,mu(e),this.currentSelection.set(i),e.scrollToSelection()):(o>-1||r)&&(o>-1&&(e.docView.markDirty(o,a),j2(e)),this.handleDOMChange(o,a,f,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||mu(e),this.currentSelection.set(i))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let y=0;y<e.addedNodes.length;y++){let x=e.addedNodes[y];t.push(x),x.nodeType==3&&(this.lastChangedTextNode=x)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let r=e.previousSibling,o=e.nextSibling;if(Bs&&Ec<=11&&e.addedNodes.length)for(let y=0;y<e.addedNodes.length;y++){let{previousSibling:x,nextSibling:T}=e.addedNodes[y];(!x||Array.prototype.indexOf.call(e.addedNodes,x)<0)&&(r=x),(!T||Array.prototype.indexOf.call(e.addedNodes,T)<0)&&(o=T)}let a=r&&r.parentNode==e.target?Tr(r)+1:0,f=i.localPosFromDOM(e.target,a,-1),d=o&&o.parentNode==e.target?Tr(o):e.target.childNodes.length,m=i.localPosFromDOM(e.target,d,1);return{from:f,to:m}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Yw=new WeakMap,Xw=!1;function j2(n){if(!Yw.has(n)&&(Yw.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=$l,Xw)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Xw=!0}}function Kw(n,e){let t=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset,a=n.domAtPos(n.state.selection.anchor);return Jf(a.node,a.offset,r,o)&&([t,i,r,o]=[r,o,t,i]),{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:o}}function B2(n,e){if(e.getComposedRanges){let r=e.getComposedRanges(n.root)[0];if(r)return Kw(n,r)}let t;function i(r){r.preventDefault(),r.stopImmediatePropagation(),t=r.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",i,!0),t?Kw(n,t):null}function H2(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let i=n.docView.nearestDesc(t,!0);if(i&&i.node.isBlock)return t}return null}function $2(n,e,t){let{node:i,fromOffset:r,toOffset:o,from:a,to:f}=n.docView.parseRange(e,t),d=n.domSelectionRange(),m,y=d.anchorNode;if(y&&n.dom.contains(y.nodeType==1?y:y.parentNode)&&(m=[{node:y,offset:d.anchorOffset}],Ly(d)||m.push({node:d.focusNode,offset:d.focusOffset})),$r&&n.input.lastKeyCode===8)for(let N=o;N>r;N--){let H=i.childNodes[N-1],V=H.pmViewDesc;if(H.nodeName=="BR"&&!V){o=N;break}if(!V||V.size)break}let x=n.state.doc,T=n.someProp("domParser")||Tc.fromSchema(n.state.schema),R=x.resolve(a),O=null,k=T.parse(i,{topNode:R.parent,topMatch:R.parent.contentMatchAt(R.index()),topOpen:!0,from:r,to:o,preserveWhitespace:R.parent.type.whitespace=="pre"?"full":!0,findPositions:m,ruleFromNode:F2,context:R});if(m&&m[0].pos!=null){let N=m[0].pos,H=m[1]&&m[1].pos;H==null&&(H=N),O={anchor:N+a,head:H+a}}return{doc:k,sel:O,from:a,to:f}}function F2(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(ps&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||ps&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const U2=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function G2(n,e,t,i,r){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let ge=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,xe=B1(n,ge);if(xe&&!n.state.selection.eq(xe)){if($r&&fu&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",Xe=>Xe(n,Lf(13,"Enter"))))return;let Pe=n.state.tr.setSelection(xe);ge=="pointer"?Pe.setMeta("pointer",!0):ge=="key"&&Pe.scrollIntoView(),o&&Pe.setMeta("composition",o),n.dispatch(Pe)}return}let a=n.state.doc.resolve(e),f=a.sharedDepth(t);e=a.before(f+1),t=n.state.doc.resolve(t).after(f+1);let d=n.state.selection,m=$2(n,e,t),y=n.state.doc,x=y.slice(m.from,m.to),T,R;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(T=n.state.selection.to,R="end"):(T=n.state.selection.from,R="start"),n.input.lastKeyCode=null;let O=q2(x.content,m.doc.content,m.from,T,R);if(O&&n.input.domChangeCount++,(xh&&n.input.lastIOSEnter>Date.now()-225||fu)&&r.some(ge=>ge.nodeType==1&&!U2.test(ge.nodeName))&&(!O||O.endA>=O.endB)&&n.someProp("handleKeyDown",ge=>ge(n,Lf(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!O)if(i&&d instanceof rn&&!d.empty&&d.$head.sameParent(d.$anchor)&&!n.composing&&!(m.sel&&m.sel.anchor!=m.sel.head))O={start:d.from,endA:d.to,endB:d.to};else{if(m.sel){let ge=Zw(n,n.state.doc,m.sel);if(ge&&!ge.eq(n.state.selection)){let xe=n.state.tr.setSelection(ge);o&&xe.setMeta("composition",o),n.dispatch(xe)}}return}n.state.selection.from<n.state.selection.to&&O.start==O.endB&&n.state.selection instanceof rn&&(O.start>n.state.selection.from&&O.start<=n.state.selection.from+2&&n.state.selection.from>=m.from?O.start=n.state.selection.from:O.endA<n.state.selection.to&&O.endA>=n.state.selection.to-2&&n.state.selection.to<=m.to&&(O.endB+=n.state.selection.to-O.endA,O.endA=n.state.selection.to)),Bs&&Ec<=11&&O.endB==O.start+1&&O.endA==O.start&&O.start>m.from&&m.doc.textBetween(O.start-m.from-1,O.start-m.from+1)=="  "&&(O.start--,O.endA--,O.endB--);let k=m.doc.resolveNoCache(O.start-m.from),N=m.doc.resolveNoCache(O.endB-m.from),H=y.resolve(O.start),V=k.sameParent(N)&&k.parent.inlineContent&&H.end()>=O.endA,Z;if((xh&&n.input.lastIOSEnter>Date.now()-225&&(!V||r.some(ge=>ge.nodeName=="DIV"||ge.nodeName=="P"))||!V&&k.pos<m.doc.content.size&&(!k.sameParent(N)||!k.parent.inlineContent)&&!/\S/.test(m.doc.textBetween(k.pos,N.pos,"",""))&&(Z=pn.findFrom(m.doc.resolve(k.pos+1),1,!0))&&Z.head>k.pos)&&n.someProp("handleKeyDown",ge=>ge(n,Lf(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>O.start&&V2(y,O.start,O.endA,k,N)&&n.someProp("handleKeyDown",ge=>ge(n,Lf(8,"Backspace")))){fu&&$r&&n.domObserver.suppressSelectionUpdates();return}$r&&O.endB==O.start&&(n.input.lastChromeDelete=Date.now()),fu&&!V&&k.start()!=N.start()&&N.parentOffset==0&&k.depth==N.depth&&m.sel&&m.sel.anchor==m.sel.head&&m.sel.head==O.endA&&(O.endB-=2,N=m.doc.resolveNoCache(O.endB-m.from),setTimeout(()=>{n.someProp("handleKeyDown",function(ge){return ge(n,Lf(13,"Enter"))})},20));let J=O.start,se=O.endA,me,G,ue;if(V){if(k.pos==N.pos)Bs&&Ec<=11&&k.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>mu(n),20)),me=n.state.tr.delete(J,se),G=y.resolve(O.start).marksAcross(y.resolve(O.endA));else if(O.endA==O.endB&&(ue=W2(k.parent.content.cut(k.parentOffset,N.parentOffset),H.parent.content.cut(H.parentOffset,O.endA-H.start()))))me=n.state.tr,ue.type=="add"?me.addMark(J,se,ue.mark):me.removeMark(J,se,ue.mark);else if(k.parent.child(k.index()).isText&&k.index()==N.index()-(N.textOffset?0:1)){let ge=k.parent.textBetween(k.parentOffset,N.parentOffset);if(n.someProp("handleTextInput",xe=>xe(n,J,se,ge)))return;me=n.state.tr.insertText(ge,J,se)}}if(me||(me=n.state.tr.replace(J,se,m.doc.slice(O.start-m.from,O.endB-m.from))),m.sel){let ge=Zw(n,me.doc,m.sel);ge&&!($r&&n.composing&&ge.empty&&(O.start!=O.endB||n.input.lastChromeDelete<Date.now()-100)&&(ge.head==J||ge.head==me.mapping.map(se)-1)||Bs&&ge.empty&&ge.head==J)&&me.setSelection(ge)}G&&me.ensureMarks(G),o&&me.setMeta("composition",o),n.dispatch(me.scrollIntoView())}function Zw(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:H1(n,e.resolve(t.anchor),e.resolve(t.head))}function W2(n,e){let t=n.firstChild.marks,i=e.firstChild.marks,r=t,o=i,a,f,d;for(let y=0;y<i.length;y++)r=i[y].removeFromSet(r);for(let y=0;y<t.length;y++)o=t[y].removeFromSet(o);if(r.length==1&&o.length==0)f=r[0],a="add",d=y=>y.mark(f.addToSet(y.marks));else if(r.length==0&&o.length==1)f=o[0],a="remove",d=y=>y.mark(f.removeFromSet(y.marks));else return null;let m=[];for(let y=0;y<e.childCount;y++)m.push(d(e.child(y)));if($e.from(m).eq(n))return{mark:f,type:a}}function V2(n,e,t,i,r){if(t-e<=r.pos-i.pos||mb(i,!0,!1)<r.pos)return!1;let o=n.resolve(e);if(!i.parent.isTextblock){let f=o.nodeAfter;return f!=null&&t==e+f.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=n.resolve(mb(o,!0,!0));return!a.parent.isTextblock||a.pos>t||mb(a,!0,!1)<t?!1:i.parent.content.cut(i.parentOffset).eq(a.parent.content)}function mb(n,e,t){let i=n.depth,r=e?n.end():n.pos;for(;i>0&&(e||n.indexAfter(i)==n.node(i).childCount);)i--,r++,e=!1;if(t){let o=n.node(i).maybeChild(n.indexAfter(i));for(;o&&!o.isLeaf;)o=o.firstChild,r++}return r}function q2(n,e,t,i,r){let o=n.findDiffStart(e,t);if(o==null)return null;let{a,b:f}=n.findDiffEnd(e,t+n.size,t+e.size);if(r=="end"){let d=Math.max(0,o-Math.min(a,f));i-=a+d-o}if(a<o&&n.size<e.size){let d=i<=o&&i>=a?o-i:0;o-=d,o&&o<e.size&&Qw(e.textBetween(o-1,o+1))&&(o+=d?1:-1),f=o+(f-a),a=o}else if(f<o){let d=i<=o&&i>=f?o-i:0;o-=d,o&&o<n.size&&Qw(n.textBetween(o-1,o+1))&&(o+=d?1:-1),a=o+(a-f),f=o}return{start:o,endA:a,endB:f}}function Qw(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class Y2{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new d2,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(i_),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=t_(this),e_(this),this.nodeViews=n_(this),this.docView=zw(this.state.doc,Jw(this),pb(this),this.dom,this),this.domObserver=new I2(this,(i,r,o,a)=>G2(this,i,r,o,a)),this.domObserver.start(),h2(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&t1(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(i_),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let i in this._props)t[i]=this._props[i];t.state=this.state;for(let i in e)t[i]=e[i];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var i;let r=this.state,o=!1,a=!1;e.storedMarks&&this.composing&&(UC(this),a=!0),this.state=e;let f=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(f||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let R=n_(this);K2(R,this.nodeViews)&&(this.nodeViews=R,o=!0)}(f||t.handleDOMEvents!=this._props.handleDOMEvents)&&t1(this),this.editable=t_(this),e_(this);let d=pb(this),m=Jw(this),y=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",x=o||!this.docView.matchesNode(e.doc,m,d);(x||!e.selection.eq(r.selection))&&(a=!0);let T=y=="preserve"&&a&&this.dom.style.overflowAnchor==null&&Rk(this);if(a){this.domObserver.stop();let R=x&&(Bs||$r)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&X2(r.selection,e.selection);if(x){let O=$r?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=E2(this)),(o||!this.docView.update(e.doc,m,d,this))&&(this.docView.updateOuterDeco(m),this.docView.destroy(),this.docView=zw(e.doc,m,d,this.dom,this)),O&&!this.trackWrites&&(R=!0)}R||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Zk(this))?mu(this,R):(kC(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((i=this.dragging)===null||i===void 0)&&i.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),y=="reset"?this.dom.scrollTop=0:y=="to selection"?this.scrollToSelection():T&&Mk(T)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Pt){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&Rw(this,t.getBoundingClientRect(),e)}else Rw(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let i=this.directPlugins[t];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let i=this.state.plugins[t];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let i=this.pluginViews[t];i.update&&i.update(this,e)}}updateDraggedNode(e,t){let i=e.node,r=-1;if(this.state.doc.nodeAt(i.from)==i.node)r=i.from;else{let o=i.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==i.node&&(r=o)}this.dragging=new WC(e.slice,e.move,r<0?void 0:Pt.create(this.state.doc,r))}someProp(e,t){let i=this._props&&this._props[e],r;if(i!=null&&(r=t?t(i):i))return r;for(let a=0;a<this.directPlugins.length;a++){let f=this.directPlugins[a].props[e];if(f!=null&&(r=t?t(f):f))return r}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let f=o[a].props[e];if(f!=null&&(r=t?t(f):f))return r}}hasFocus(){if(Bs){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Ok(this.dom),mu(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Nk(this,e)}coordsAtPos(e,t=1){return xC(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,i=-1){let r=this.docView.posFromDOM(e,t,i);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return Bk(this,t||this.state,e)}pasteHTML(e,t){return jm(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return jm(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return $1(this,e)}destroy(){this.docView&&(p2(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],pb(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,gk())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return g2(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?ps&&this.root.nodeType===11&&wk(this.dom.ownerDocument)==this.dom&&B2(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Jw(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let i in t)i=="class"?e.class+=" "+t[i]:i=="style"?e.style=(e.style?e.style+";":"")+t[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(t[i]))}),e.translate||(e.translate="no"),[Bl.node(0,n.state.doc.content.size,e)]}function e_(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Bl.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function t_(n){return!n.someProp("editable",e=>e(n.state)===!1)}function X2(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function n_(n){let e=Object.create(null);function t(i){for(let r in i)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=i[r])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function K2(n,e){let t=0,i=0;for(let r in n){if(n[r]!=e[r])return!0;t++}for(let r in e)i++;return t!=i}function i_(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var kc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},hy={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Z2=typeof navigator<"u"&&/Mac/.test(navigator.platform),Q2=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Er=0;Er<10;Er++)kc[48+Er]=kc[96+Er]=String(Er);for(var Er=1;Er<=24;Er++)kc[Er+111]="F"+Er;for(var Er=65;Er<=90;Er++)kc[Er]=String.fromCharCode(Er+32),hy[Er]=String.fromCharCode(Er);for(var gb in kc)hy.hasOwnProperty(gb)||(hy[gb]=kc[gb]);function J2(n){var e=Z2&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Q2&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?hy:kc)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const eD=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),tD=typeof navigator<"u"&&/Win/.test(navigator.platform);function nD(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let i,r,o,a;for(let f=0;f<e.length-1;f++){let d=e[f];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))i=!0;else if(/^(c|ctrl|control)$/i.test(d))r=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))eD?a=!0:r=!0;else throw new Error("Unrecognized modifier name: "+d)}return i&&(t="Alt-"+t),r&&(t="Ctrl-"+t),a&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function iD(n){let e=Object.create(null);for(let t in n)e[nD(t)]=n[t];return e}function vb(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function rD(n){return new Aa({props:{handleKeyDown:sD(n)}})}function sD(n){let e=iD(n);return function(t,i){let r=J2(i),o,a=e[vb(r,i)];if(a&&a(t.state,t.dispatch,t))return!0;if(r.length==1&&r!=" "){if(i.shiftKey){let f=e[vb(r,i,!1)];if(f&&f(t.state,t.dispatch,t))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(tD&&i.ctrlKey&&i.altKey)&&(o=kc[i.keyCode])&&o!=r){let f=e[vb(o,i)];if(f&&f(t.state,t.dispatch,t))return!0}}return!1}}const q1=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function KC(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const ZC=(n,e,t)=>{let i=KC(n,t);if(!i)return!1;let r=Y1(i);if(!r){let a=i.blockRange(),f=a&&Mh(a);return f==null?!1:(e&&e(n.tr.lift(a,f).scrollIntoView()),!0)}let o=r.nodeBefore;if(oT(n,r,e,-1))return!0;if(i.parent.content.size==0&&(Ch(o,"end")||Pt.isSelectable(o)))for(let a=i.depth;;a--){let f=zy(n.doc,i.before(a),i.after(a),ft.empty);if(f&&f.slice.size<f.to-f.from){if(e){let d=n.tr.step(f);d.setSelection(Ch(o,"end")?pn.findFrom(d.doc.resolve(d.mapping.map(r.pos,-1)),-1):Pt.create(d.doc,r.pos-o.nodeSize)),e(d.scrollIntoView())}return!0}if(a==1||i.node(a-1).childCount>1)break}return o.isAtom&&r.depth==i.depth-1?(e&&e(n.tr.delete(r.pos-o.nodeSize,r.pos).scrollIntoView()),!0):!1},oD=(n,e,t)=>{let i=KC(n,t);if(!i)return!1;let r=Y1(i);return r?QC(n,r,e):!1},lD=(n,e,t)=>{let i=eT(n,t);if(!i)return!1;let r=X1(i);return r?QC(n,r,e):!1};function QC(n,e,t){let i=e.nodeBefore,r=i,o=e.pos-1;for(;!r.isTextblock;o--){if(r.type.spec.isolating)return!1;let y=r.lastChild;if(!y)return!1;r=y}let a=e.nodeAfter,f=a,d=e.pos+1;for(;!f.isTextblock;d++){if(f.type.spec.isolating)return!1;let y=f.firstChild;if(!y)return!1;f=y}let m=zy(n.doc,o,d,ft.empty);if(!m||m.from!=o||m instanceof ur&&m.slice.size>=d-o)return!1;if(t){let y=n.tr.step(m);y.setSelection(rn.create(y.doc,o)),t(y.scrollIntoView())}return!0}function Ch(n,e,t=!1){for(let i=n;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(t&&i.childCount!=1)return!1}return!1}const JC=(n,e,t)=>{let{$head:i,empty:r}=n.selection,o=i;if(!r)return!1;if(i.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):i.parentOffset>0)return!1;o=Y1(i)}let a=o&&o.nodeBefore;return!a||!Pt.isSelectable(a)?!1:(e&&e(n.tr.setSelection(Pt.create(n.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function Y1(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function eT(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const tT=(n,e,t)=>{let i=eT(n,t);if(!i)return!1;let r=X1(i);if(!r)return!1;let o=r.nodeAfter;if(oT(n,r,e,1))return!0;if(i.parent.content.size==0&&(Ch(o,"start")||Pt.isSelectable(o))){let a=zy(n.doc,i.before(),i.after(),ft.empty);if(a&&a.slice.size<a.to-a.from){if(e){let f=n.tr.step(a);f.setSelection(Ch(o,"start")?pn.findFrom(f.doc.resolve(f.mapping.map(r.pos)),1):Pt.create(f.doc,f.mapping.map(r.pos))),e(f.scrollIntoView())}return!0}}return o.isAtom&&r.depth==i.depth-1?(e&&e(n.tr.delete(r.pos,r.pos+o.nodeSize).scrollIntoView()),!0):!1},nT=(n,e,t)=>{let{$head:i,empty:r}=n.selection,o=i;if(!r)return!1;if(i.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):i.parentOffset<i.parent.content.size)return!1;o=X1(i)}let a=o&&o.nodeAfter;return!a||!Pt.isSelectable(a)?!1:(e&&e(n.tr.setSelection(Pt.create(n.doc,o.pos)).scrollIntoView()),!0)};function X1(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const aD=(n,e)=>{let t=n.selection,i=t instanceof Pt,r;if(i){if(t.node.isTextblock||!sd(n.doc,t.from))return!1;r=t.from}else if(r=Dy(n.doc,t.from,-1),r==null)return!1;if(e){let o=n.tr.join(r);i&&o.setSelection(Pt.create(o.doc,r-n.doc.resolve(r).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},uD=(n,e)=>{let t=n.selection,i;if(t instanceof Pt){if(t.node.isTextblock||!sd(n.doc,t.to))return!1;i=t.to}else if(i=Dy(n.doc,t.to,1),i==null)return!1;return e&&e(n.tr.join(i).scrollIntoView()),!0},cD=(n,e)=>{let{$from:t,$to:i}=n.selection,r=t.blockRange(i),o=r&&Mh(r);return o==null?!1:(e&&e(n.tr.lift(r,o).scrollIntoView()),!0)},iT=(n,e)=>{let{$head:t,$anchor:i}=n.selection;return!t.parent.type.spec.code||!t.sameParent(i)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function K1(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const fD=(n,e)=>{let{$head:t,$anchor:i}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(i))return!1;let r=t.node(-1),o=t.indexAfter(-1),a=K1(r.contentMatchAt(o));if(!a||!r.canReplaceWith(o,o,a))return!1;if(e){let f=t.after(),d=n.tr.replaceWith(f,f,a.createAndFill());d.setSelection(pn.near(d.doc.resolve(f),1)),e(d.scrollIntoView())}return!0},rT=(n,e)=>{let t=n.selection,{$from:i,$to:r}=t;if(t instanceof So||i.parent.inlineContent||r.parent.inlineContent)return!1;let o=K1(r.parent.contentMatchAt(r.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let a=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,f=n.tr.insert(a,o.createAndFill());f.setSelection(rn.create(f.doc,a+1)),e(f.scrollIntoView())}return!0},sT=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(pu(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let i=t.blockRange(),r=i&&Mh(i);return r==null?!1:(e&&e(n.tr.lift(i,r).scrollIntoView()),!0)};function dD(n){return(e,t)=>{let{$from:i,$to:r}=e.selection;if(e.selection instanceof Pt&&e.selection.node.isBlock)return!i.parentOffset||!pu(e.doc,i.pos)?!1:(t&&t(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let o=[],a,f,d=!1,m=!1;for(let R=i.depth;;R--)if(i.node(R).isBlock){d=i.end(R)==i.pos+(i.depth-R),m=i.start(R)==i.pos-(i.depth-R),f=K1(i.node(R-1).contentMatchAt(i.indexAfter(R-1))),o.unshift(d&&f?{type:f}:null),a=R;break}else{if(R==1)return!1;o.unshift(null)}let y=e.tr;(e.selection instanceof rn||e.selection instanceof So)&&y.deleteSelection();let x=y.mapping.map(i.pos),T=pu(y.doc,x,o.length,o);if(T||(o[0]=f?{type:f}:null,T=pu(y.doc,x,o.length,o)),!T)return!1;if(y.split(x,o.length,o),!d&&m&&i.node(a).type!=f){let R=y.mapping.map(i.before(a)),O=y.doc.resolve(R);f&&i.node(a-1).canReplaceWith(O.index(),O.index()+1,f)&&y.setNodeMarkup(y.mapping.map(i.before(a)),f)}return t&&t(y.scrollIntoView()),!0}}const hD=dD(),pD=(n,e)=>{let{$from:t,to:i}=n.selection,r,o=t.sharedDepth(i);return o==0?!1:(r=t.before(o),e&&e(n.tr.setSelection(Pt.create(n.doc,r))),!0)};function mD(n,e,t){let i=e.nodeBefore,r=e.nodeAfter,o=e.index();return!i||!r||!i.type.compatibleContent(r.type)?!1:!i.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(r.isTextblock||sd(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function oT(n,e,t,i){let r=e.nodeBefore,o=e.nodeAfter,a,f,d=r.type.spec.isolating||o.type.spec.isolating;if(!d&&mD(n,e,t))return!0;let m=!d&&e.parent.canReplace(e.index(),e.index()+1);if(m&&(a=(f=r.contentMatchAt(r.childCount)).findWrapping(o.type))&&f.matchType(a[0]||o.type).validEnd){if(t){let R=e.pos+o.nodeSize,O=$e.empty;for(let H=a.length-1;H>=0;H--)O=$e.from(a[H].create(null,O));O=$e.from(r.copy(O));let k=n.tr.step(new cr(e.pos-1,R,e.pos,R,new ft(O,1,0),a.length,!0)),N=k.doc.resolve(R+2*a.length);N.nodeAfter&&N.nodeAfter.type==r.type&&sd(k.doc,N.pos)&&k.join(N.pos),t(k.scrollIntoView())}return!0}let y=o.type.spec.isolating||i>0&&d?null:pn.findFrom(e,1),x=y&&y.$from.blockRange(y.$to),T=x&&Mh(x);if(T!=null&&T>=e.depth)return t&&t(n.tr.lift(x,T).scrollIntoView()),!0;if(m&&Ch(o,"start",!0)&&Ch(r,"end")){let R=r,O=[];for(;O.push(R),!R.isTextblock;)R=R.lastChild;let k=o,N=1;for(;!k.isTextblock;k=k.firstChild)N++;if(R.canReplace(R.childCount,R.childCount,k.content)){if(t){let H=$e.empty;for(let Z=O.length-1;Z>=0;Z--)H=$e.from(O[Z].copy(H));let V=n.tr.step(new cr(e.pos-O.length,e.pos+o.nodeSize,e.pos+N,e.pos+o.nodeSize-N,new ft(H,O.length,0),0,!0));t(V.scrollIntoView())}return!0}}return!1}function lT(n){return function(e,t){let i=e.selection,r=n<0?i.$from:i.$to,o=r.depth;for(;r.node(o).isInline;){if(!o)return!1;o--}return r.node(o).isTextblock?(t&&t(e.tr.setSelection(rn.create(e.doc,n<0?r.start(o):r.end(o)))),!0):!1}}const gD=lT(-1),vD=lT(1);function yD(n,e=null){return function(t,i){let{$from:r,$to:o}=t.selection,a=r.blockRange(o),f=a&&lC(a,n,e);return f?(i&&i(t.tr.wrap(a,f).scrollIntoView()),!0):!1}}function r_(n,e=null){return function(t,i){let r=!1;for(let o=0;o<t.selection.ranges.length&&!r;o++){let{$from:{pos:a},$to:{pos:f}}=t.selection.ranges[o];t.doc.nodesBetween(a,f,(d,m)=>{if(r)return!1;if(!(!d.isTextblock||d.hasMarkup(n,e)))if(d.type==n)r=!0;else{let y=t.doc.resolve(m),x=y.index();r=y.parent.canReplaceWith(x,x+1,n)}})}if(!r)return!1;if(i){let o=t.tr;for(let a=0;a<t.selection.ranges.length;a++){let{$from:{pos:f},$to:{pos:d}}=t.selection.ranges[a];o.setBlockType(f,d,n,e)}i(o.scrollIntoView())}return!0}}function Z1(...n){return function(e,t,i){for(let r=0;r<n.length;r++)if(n[r](e,t,i))return!0;return!1}}Z1(q1,ZC,JC);Z1(q1,tT,nT);Z1(iT,rT,sT,hD);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function bD(n,e=null){return function(t,i){let{$from:r,$to:o}=t.selection,a=r.blockRange(o);if(!a)return!1;let f=i?t.tr:null;return SD(f,a,n,e)?(i&&i(f.scrollIntoView()),!0):!1}}function SD(n,e,t,i=null){let r=!1,o=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=a.resolve(e.start-2);o=new sy(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new sy(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let f=lC(o,t,i,e);return f?(n&&wD(n,e,f,r,t),!0):!1}function wD(n,e,t,i,r){let o=$e.empty;for(let y=t.length-1;y>=0;y--)o=$e.from(t[y].type.create(t[y].attrs,o));n.step(new cr(e.start-(i?2:0),e.end,e.start,e.end,new ft(o,0,0),t.length,!0));let a=0;for(let y=0;y<t.length;y++)t[y].type==r&&(a=y+1);let f=t.length-a,d=e.start+t.length-(i?2:0),m=e.parent;for(let y=e.startIndex,x=e.endIndex,T=!0;y<x;y++,T=!1)!T&&pu(n.doc,d,f)&&(n.split(d,f),d+=2*f),d+=m.child(y).nodeSize;return n}function _D(n){return function(e,t){let{$from:i,$to:r}=e.selection,o=i.blockRange(r,a=>a.childCount>0&&a.firstChild.type==n);return o?t?i.node(o.depth-1).type==n?xD(e,t,n,o):CD(e,t,o):!0:!1}}function xD(n,e,t,i){let r=n.tr,o=i.end,a=i.$to.end(i.depth);o<a&&(r.step(new cr(o-1,a,o,a,new ft($e.from(t.create(null,i.parent.copy())),1,0),1,!0)),i=new sy(r.doc.resolve(i.$from.pos),r.doc.resolve(a),i.depth));const f=Mh(i);if(f==null)return!1;r.lift(i,f);let d=r.doc.resolve(r.mapping.map(o,-1)-1);return sd(r.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&r.join(d.pos),e(r.scrollIntoView()),!0}function CD(n,e,t){let i=n.tr,r=t.parent;for(let R=t.end,O=t.endIndex-1,k=t.startIndex;O>k;O--)R-=r.child(O).nodeSize,i.delete(R-1,R+1);let o=i.doc.resolve(t.start),a=o.nodeAfter;if(i.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let f=t.startIndex==0,d=t.endIndex==r.childCount,m=o.node(-1),y=o.index(-1);if(!m.canReplace(y+(f?0:1),y+1,a.content.append(d?$e.empty:$e.from(r))))return!1;let x=o.pos,T=x+a.nodeSize;return i.step(new cr(x-(f?1:0),T+(d?1:0),x+1,T-1,new ft((f?$e.empty:$e.from(r.copy($e.empty))).append(d?$e.empty:$e.from(r.copy($e.empty))),f?0:1,d?0:1),f?0:1)),e(i.scrollIntoView()),!0}function TD(n){return function(e,t){let{$from:i,$to:r}=e.selection,o=i.blockRange(r,m=>m.childCount>0&&m.firstChild.type==n);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let f=o.parent,d=f.child(a-1);if(d.type!=n)return!1;if(t){let m=d.lastChild&&d.lastChild.type==f.type,y=$e.from(m?n.create():null),x=new ft($e.from(n.create(null,$e.from(f.type.create(null,y)))),m?3:1,0),T=o.start,R=o.end;t(e.tr.step(new cr(T-(m?3:1),R,T,R,x,1,!0)).scrollIntoView())}return!0}}function jy(n){const{state:e,transaction:t}=n;let{selection:i}=t,{doc:r}=t,{storedMarks:o}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return i},get doc(){return r},get tr(){return i=t.selection,r=t.doc,o=t.storedMarks,t}}}class By{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:i}=this,{view:r}=t,{tr:o}=i,a=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([f,d])=>[f,(...y)=>{const x=d(...y)(a);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(o),x}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:i,editor:r,state:o}=this,{view:a}=r,f=[],d=!!e,m=e||o.tr,y=()=>(!d&&t&&!m.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(m),f.every(T=>T===!0)),x={...Object.fromEntries(Object.entries(i).map(([T,R])=>[T,(...k)=>{const N=this.buildProps(m,t),H=R(...k)(N);return f.push(H),x}])),run:y};return x}createCan(e){const{rawCommands:t,state:i}=this,r=!1,o=e||i.tr,a=this.buildProps(o,r);return{...Object.fromEntries(Object.entries(t).map(([d,m])=>[d,(...y)=>m(...y)({...a,dispatch:void 0})])),chain:()=>this.createChain(o,r)}}buildProps(e,t=!0){const{rawCommands:i,editor:r,state:o}=this,{view:a}=r,f={tr:e,editor:r,view:a,state:jy({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(i).map(([d,m])=>[d,(...y)=>m(...y)(f)]))}};return f}}class ED{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const i=this.callbacks[e];return i&&i.forEach(r=>r.apply(this,t)),this}off(e,t){const i=this.callbacks[e];return i&&(t?this.callbacks[e]=i.filter(r=>r!==t):delete this.callbacks[e]),this}once(e,t){const i=(...r)=>{this.off(e,i),t.apply(this,r)};return this.on(e,i)}removeAllListeners(){this.callbacks={}}}function vt(n,e,t){return n.config[e]===void 0&&n.parent?vt(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?vt(n.parent,e,t):null}):n.config[e]}function Hy(n){const e=n.filter(r=>r.type==="extension"),t=n.filter(r=>r.type==="node"),i=n.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:i}}function aT(n){const e=[],{nodeExtensions:t,markExtensions:i}=Hy(n),r=[...t,...i],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(a=>{const f={name:a.name,options:a.options,storage:a.storage,extensions:r},d=vt(a,"addGlobalAttributes",f);if(!d)return;d().forEach(y=>{y.types.forEach(x=>{Object.entries(y.attributes).forEach(([T,R])=>{e.push({type:x,name:T,attribute:{...o,...R}})})})})}),r.forEach(a=>{const f={name:a.name,options:a.options,storage:a.storage},d=vt(a,"addAttributes",f);if(!d)return;const m=d();Object.entries(m).forEach(([y,x])=>{const T={...o,...x};typeof(T==null?void 0:T.default)=="function"&&(T.default=T.default()),T!=null&&T.isRequired&&(T==null?void 0:T.default)===void 0&&delete T.default,e.push({type:a.name,name:y,attribute:T})})}),e}function fr(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function Oh(...n){return n.filter(e=>!!e).reduce((e,t)=>{const i={...e};return Object.entries(t).forEach(([r,o])=>{if(!i[r]){i[r]=o;return}if(r==="class"){const f=o?String(o).split(" "):[],d=i[r]?i[r].split(" "):[],m=f.filter(y=>!d.includes(y));i[r]=[...d,...m].join(" ")}else if(r==="style"){const f=o?o.split(";").map(y=>y.trim()).filter(Boolean):[],d=i[r]?i[r].split(";").map(y=>y.trim()).filter(Boolean):[],m=new Map;d.forEach(y=>{const[x,T]=y.split(":").map(R=>R.trim());m.set(x,T)}),f.forEach(y=>{const[x,T]=y.split(":").map(R=>R.trim());m.set(x,T)}),i[r]=Array.from(m.entries()).map(([y,x])=>`${y}: ${x}`).join("; ")}else i[r]=o}),i},{})}function n1(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,i)=>Oh(t,i),{})}function uT(n){return typeof n=="function"}function yn(n,e=void 0,...t){return uT(n)?e?n.bind(e)(...t):n(...t):n}function RD(n={}){return Object.keys(n).length===0&&n.constructor===Object}function MD(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function s_(n,e){return"style"in n?n:{...n,getAttrs:t=>{const i=n.getAttrs?n.getAttrs(t):n.attrs;if(i===!1)return!1;const r=e.reduce((o,a)=>{const f=a.attribute.parseHTML?a.attribute.parseHTML(t):MD(t.getAttribute(a.name));return f==null?o:{...o,[a.name]:f}},{});return{...i,...r}}}}function o_(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&RD(t)?!1:t!=null))}function OD(n,e){var t;const i=aT(n),{nodeExtensions:r,markExtensions:o}=Hy(n),a=(t=r.find(m=>vt(m,"topNode")))===null||t===void 0?void 0:t.name,f=Object.fromEntries(r.map(m=>{const y=i.filter(H=>H.type===m.name),x={name:m.name,options:m.options,storage:m.storage,editor:e},T=n.reduce((H,V)=>{const Z=vt(V,"extendNodeSchema",x);return{...H,...Z?Z(m):{}}},{}),R=o_({...T,content:yn(vt(m,"content",x)),marks:yn(vt(m,"marks",x)),group:yn(vt(m,"group",x)),inline:yn(vt(m,"inline",x)),atom:yn(vt(m,"atom",x)),selectable:yn(vt(m,"selectable",x)),draggable:yn(vt(m,"draggable",x)),code:yn(vt(m,"code",x)),whitespace:yn(vt(m,"whitespace",x)),linebreakReplacement:yn(vt(m,"linebreakReplacement",x)),defining:yn(vt(m,"defining",x)),isolating:yn(vt(m,"isolating",x)),attrs:Object.fromEntries(y.map(H=>{var V;return[H.name,{default:(V=H==null?void 0:H.attribute)===null||V===void 0?void 0:V.default}]}))}),O=yn(vt(m,"parseHTML",x));O&&(R.parseDOM=O.map(H=>s_(H,y)));const k=vt(m,"renderHTML",x);k&&(R.toDOM=H=>k({node:H,HTMLAttributes:n1(H,y)}));const N=vt(m,"renderText",x);return N&&(R.toText=N),[m.name,R]})),d=Object.fromEntries(o.map(m=>{const y=i.filter(N=>N.type===m.name),x={name:m.name,options:m.options,storage:m.storage,editor:e},T=n.reduce((N,H)=>{const V=vt(H,"extendMarkSchema",x);return{...N,...V?V(m):{}}},{}),R=o_({...T,inclusive:yn(vt(m,"inclusive",x)),excludes:yn(vt(m,"excludes",x)),group:yn(vt(m,"group",x)),spanning:yn(vt(m,"spanning",x)),code:yn(vt(m,"code",x)),attrs:Object.fromEntries(y.map(N=>{var H;return[N.name,{default:(H=N==null?void 0:N.attribute)===null||H===void 0?void 0:H.default}]}))}),O=yn(vt(m,"parseHTML",x));O&&(R.parseDOM=O.map(N=>s_(N,y)));const k=vt(m,"renderHTML",x);return k&&(R.toDOM=N=>k({mark:N,HTMLAttributes:n1(N,y)})),[m.name,R]}));return new Jx({topNode:a,nodes:f,marks:d})}function yb(n,e){return e.nodes[n]||e.marks[n]||null}function l_(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function Q1(n,e){const t=rd.fromSchema(e).serializeFragment(n),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(t),r.innerHTML}const AD=(n,e=500)=>{let t="";const i=n.parentOffset;return n.parent.nodesBetween(Math.max(0,i-e),i,(r,o,a,f)=>{var d,m;const y=((m=(d=r.type.spec).toText)===null||m===void 0?void 0:m.call(d,{node:r,pos:o,parent:a,index:f}))||r.textContent||"%leaf%";t+=r.isAtom&&!r.isText?y:y.slice(0,Math.max(0,i-o))}),t};function J1(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class kD{constructor(e){this.find=e.find,this.handler=e.handler}}const DD=(n,e)=>{if(J1(e))return e.exec(n);const t=e(n);if(!t)return null;const i=[t.text];return i.index=t.index,i.input=n,i.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(t.replaceWith)),i};function Nv(n){var e;const{editor:t,from:i,to:r,text:o,rules:a,plugin:f}=n,{view:d}=t;if(d.composing)return!1;const m=d.state.doc.resolve(i);if(m.parent.type.spec.code||!((e=m.nodeBefore||m.nodeAfter)===null||e===void 0)&&e.marks.find(T=>T.type.spec.code))return!1;let y=!1;const x=AD(m)+o;return a.forEach(T=>{if(y)return;const R=DD(x,T.find);if(!R)return;const O=d.state.tr,k=jy({state:d.state,transaction:O}),N={from:i-(R[0].length-o.length),to:r},{commands:H,chain:V,can:Z}=new By({editor:t,state:k});T.handler({state:k,range:N,match:R,commands:H,chain:V,can:Z})===null||!O.steps.length||(O.setMeta(f,{transform:O,from:i,to:r,text:o}),d.dispatch(O),y=!0)}),y}function zD(n){const{editor:e,rules:t}=n,i=new Aa({state:{init(){return null},apply(r,o,a){const f=r.getMeta(i);if(f)return f;const d=r.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:y}=d;typeof y=="string"?y=y:y=Q1($e.from(y),a.schema);const{from:x}=d,T=x+y.length;Nv({editor:e,from:x,to:T,text:y,rules:t,plugin:i})}),r.selectionSet||r.docChanged?null:o}},props:{handleTextInput(r,o,a,f){return Nv({editor:e,from:o,to:a,text:f,rules:t,plugin:i})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:o}=r.state.selection;o&&Nv({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:i})}),!1)},handleKeyDown(r,o){if(o.key!=="Enter")return!1;const{$cursor:a}=r.state.selection;return a?Nv({editor:e,from:a.pos,to:a.pos,text:`
`,rules:t,plugin:i}):!1}},isInputRules:!0});return i}function ND(n){return Object.prototype.toString.call(n).slice(8,-1)}function Lv(n){return ND(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function $y(n,e){const t={...n};return Lv(n)&&Lv(e)&&Object.keys(e).forEach(i=>{Lv(e[i])&&Lv(n[i])?t[i]=$y(n[i],e[i]):t[i]=e[i]}),t}class Dc{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=yn(vt(this,"addOptions",{name:this.name}))),this.storage=yn(vt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Dc(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>$y(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Dc(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=yn(vt(t,"addOptions",{name:t.name})),t.storage=yn(vt(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:i}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const a=r.marks();if(!!!a.find(m=>(m==null?void 0:m.type.name)===t.name))return!1;const d=a.find(m=>(m==null?void 0:m.type.name)===t.name);return d&&i.removeStoredMark(d),i.insertText(" ",r.pos),e.view.dispatch(i),!0}return!1}}function LD(n){return typeof n=="number"}class PD{constructor(e){this.find=e.find,this.handler=e.handler}}const ID=(n,e,t)=>{if(J1(e))return[...n.matchAll(e)];const i=e(n,t);return i?i.map(r=>{const o=[r.text];return o.index=r.index,o.input=n,o.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(r.replaceWith)),o}):[]};function jD(n){const{editor:e,state:t,from:i,to:r,rule:o,pasteEvent:a,dropEvent:f}=n,{commands:d,chain:m,can:y}=new By({editor:e,state:t}),x=[];return t.doc.nodesBetween(i,r,(R,O)=>{if(!R.isTextblock||R.type.spec.code)return;const k=Math.max(i,O),N=Math.min(r,O+R.content.size),H=R.textBetween(k-O,N-O,void 0,"￼");ID(H,o.find,a).forEach(Z=>{if(Z.index===void 0)return;const J=k+Z.index+1,se=J+Z[0].length,me={from:t.tr.mapping.map(J),to:t.tr.mapping.map(se)},G=o.handler({state:t,range:me,match:Z,commands:d,chain:m,can:y,pasteEvent:a,dropEvent:f});x.push(G)})}),x.every(R=>R!==null)}let Pv=null;const BD=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function HD(n){const{editor:e,rules:t}=n;let i=null,r=!1,o=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,f;try{f=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{f=null}const d=({state:y,from:x,to:T,rule:R,pasteEvt:O})=>{const k=y.tr,N=jy({state:y,transaction:k});if(!(!jD({editor:e,state:N,from:Math.max(x-1,0),to:T.b-1,rule:R,pasteEvent:O,dropEvent:f})||!k.steps.length)){try{f=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{f=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,k}};return t.map(y=>new Aa({view(x){const T=O=>{var k;i=!((k=x.dom.parentElement)===null||k===void 0)&&k.contains(O.target)?x.dom.parentElement:null,i&&(Pv=e)},R=()=>{Pv&&(Pv=null)};return window.addEventListener("dragstart",T),window.addEventListener("dragend",R),{destroy(){window.removeEventListener("dragstart",T),window.removeEventListener("dragend",R)}}},props:{handleDOMEvents:{drop:(x,T)=>{if(o=i===x.dom.parentElement,f=T,!o){const R=Pv;R&&setTimeout(()=>{const O=R.state.selection;O&&R.commands.deleteRange({from:O.from,to:O.to})},10)}return!1},paste:(x,T)=>{var R;const O=(R=T.clipboardData)===null||R===void 0?void 0:R.getData("text/html");return a=T,r=!!(O!=null&&O.includes("data-pm-slice")),!1}}},appendTransaction:(x,T,R)=>{const O=x[0],k=O.getMeta("uiEvent")==="paste"&&!r,N=O.getMeta("uiEvent")==="drop"&&!o,H=O.getMeta("applyPasteRules"),V=!!H;if(!k&&!N&&!V)return;if(V){let{text:se}=H;typeof se=="string"?se=se:se=Q1($e.from(se),R.schema);const{from:me}=H,G=me+se.length,ue=BD(se);return d({rule:y,state:R,from:me,to:{b:G},pasteEvt:ue})}const Z=T.doc.content.findDiffStart(R.doc.content),J=T.doc.content.findDiffEnd(R.doc.content);if(!(!LD(Z)||!J||Z===J.b))return d({rule:y,state:R,from:Z,to:J,pasteEvt:a})}}))}function $D(n){const e=n.filter((t,i)=>n.indexOf(t)!==i);return Array.from(new Set(e))}class gh{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=gh.resolve(e),this.schema=OD(this.extensions,t),this.setupExtensions()}static resolve(e){const t=gh.sort(gh.flatten(e)),i=$D(t.map(r=>r.name));return i.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${i.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const i={name:t.name,options:t.options,storage:t.storage},r=vt(t,"addExtensions",i);return r?[t,...this.flatten(r())]:t}).flat(10)}static sort(e){return e.sort((i,r)=>{const o=vt(i,"priority")||100,a=vt(r,"priority")||100;return o>a?-1:o<a?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const i={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:yb(t.name,this.schema)},r=vt(t,"addCommands",i);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this,t=gh.sort([...this.extensions].reverse()),i=[],r=[],o=t.map(a=>{const f={name:a.name,options:a.options,storage:a.storage,editor:e,type:yb(a.name,this.schema)},d=[],m=vt(a,"addKeyboardShortcuts",f);let y={};if(a.type==="mark"&&vt(a,"exitable",f)&&(y.ArrowRight=()=>Dc.handleExit({editor:e,mark:a})),m){const k=Object.fromEntries(Object.entries(m()).map(([N,H])=>[N,()=>H({editor:e})]));y={...y,...k}}const x=rD(y);d.push(x);const T=vt(a,"addInputRules",f);l_(a,e.options.enableInputRules)&&T&&i.push(...T());const R=vt(a,"addPasteRules",f);l_(a,e.options.enablePasteRules)&&R&&r.push(...R());const O=vt(a,"addProseMirrorPlugins",f);if(O){const k=O();d.push(...k)}return d}).flat();return[zD({editor:e,rules:i}),...HD({editor:e,rules:r}),...o]}get attributes(){return aT(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Hy(this.extensions);return Object.fromEntries(t.filter(i=>!!vt(i,"addNodeView")).map(i=>{const r=this.attributes.filter(d=>d.type===i.name),o={name:i.name,options:i.options,storage:i.storage,editor:e,type:fr(i.name,this.schema)},a=vt(i,"addNodeView",o);if(!a)return[];const f=(d,m,y,x,T)=>{const R=n1(d,r);return a()({node:d,view:m,getPos:y,decorations:x,innerDecorations:T,editor:e,extension:i,HTMLAttributes:R})};return[i.name,f]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const i={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:yb(e.name,this.schema)};e.type==="mark"&&(!((t=yn(vt(e,"keepOnSplit",i)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const r=vt(e,"onBeforeCreate",i),o=vt(e,"onCreate",i),a=vt(e,"onUpdate",i),f=vt(e,"onSelectionUpdate",i),d=vt(e,"onTransaction",i),m=vt(e,"onFocus",i),y=vt(e,"onBlur",i),x=vt(e,"onDestroy",i);r&&this.editor.on("beforeCreate",r),o&&this.editor.on("create",o),a&&this.editor.on("update",a),f&&this.editor.on("selectionUpdate",f),d&&this.editor.on("transaction",d),m&&this.editor.on("focus",m),y&&this.editor.on("blur",y),x&&this.editor.on("destroy",x)})}}class Fl{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=yn(vt(this,"addOptions",{name:this.name}))),this.storage=yn(vt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Fl(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>$y(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Fl({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=yn(vt(t,"addOptions",{name:t.name})),t.storage=yn(vt(t,"addStorage",{name:t.name,options:t.options})),t}}function cT(n,e,t){const{from:i,to:r}=e,{blockSeparator:o=`

`,textSerializers:a={}}=t||{};let f="";return n.nodesBetween(i,r,(d,m,y,x)=>{var T;d.isBlock&&m>i&&(f+=o);const R=a==null?void 0:a[d.type.name];if(R)return y&&(f+=R({node:d,pos:m,parent:y,index:x,range:e})),!1;d.isText&&(f+=(T=d==null?void 0:d.text)===null||T===void 0?void 0:T.slice(Math.max(i,m)-m,r-m))}),f}function fT(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const FD=Fl.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Aa({key:new od("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:i,selection:r}=e,{ranges:o}=r,a=Math.min(...o.map(y=>y.$from.pos)),f=Math.max(...o.map(y=>y.$to.pos)),d=fT(t);return cT(i,{from:a,to:f},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),UD=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),GD=(n=!1)=>({commands:e})=>e.setContent("",n),WD=()=>({state:n,tr:e,dispatch:t})=>{const{selection:i}=e,{ranges:r}=i;return t&&r.forEach(({$from:o,$to:a})=>{n.doc.nodesBetween(o.pos,a.pos,(f,d)=>{if(f.type.isText)return;const{doc:m,mapping:y}=e,x=m.resolve(y.map(d)),T=m.resolve(y.map(d+f.nodeSize)),R=x.blockRange(T);if(!R)return;const O=Mh(R);if(f.type.isTextblock){const{defaultType:k}=x.parent.contentMatchAt(x.index());e.setNodeMarkup(R.start,k)}(O||O===0)&&e.lift(R,O)})}),!0},VD=n=>e=>n(e),qD=()=>({state:n,dispatch:e})=>rT(n,e),YD=(n,e)=>({editor:t,tr:i})=>{const{state:r}=t,o=r.doc.slice(n.from,n.to);i.deleteRange(n.from,n.to);const a=i.mapping.map(e);return i.insert(a,o.content),i.setSelection(new rn(i.doc.resolve(a-1))),!0},XD=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,i=t.$anchor.node();if(i.content.size>0)return!1;const r=n.selection.$anchor;for(let o=r.depth;o>0;o-=1)if(r.node(o).type===i.type){if(e){const f=r.before(o),d=r.after(o);n.delete(f,d).scrollIntoView()}return!0}return!1},KD=n=>({tr:e,state:t,dispatch:i})=>{const r=fr(n,t.schema),o=e.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===r){if(i){const d=o.before(a),m=o.after(a);e.delete(d,m).scrollIntoView()}return!0}return!1},ZD=n=>({tr:e,dispatch:t})=>{const{from:i,to:r}=n;return t&&e.delete(i,r),!0},QD=()=>({state:n,dispatch:e})=>q1(n,e),JD=()=>({commands:n})=>n.keyboardShortcut("Enter"),ez=()=>({state:n,dispatch:e})=>fD(n,e);function py(n,e,t={strict:!0}){const i=Object.keys(e);return i.length?i.every(r=>t.strict?e[r]===n[r]:J1(e[r])?e[r].test(n[r]):e[r]===n[r]):!0}function dT(n,e,t={}){return n.find(i=>i.type===e&&py(Object.fromEntries(Object.keys(t).map(r=>[r,i.attrs[r]])),t))}function a_(n,e,t={}){return!!dT(n,e,t)}function eS(n,e,t){var i;if(!n||!e)return;let r=n.parent.childAfter(n.parentOffset);if((!r.node||!r.node.marks.some(y=>y.type===e))&&(r=n.parent.childBefore(n.parentOffset)),!r.node||!r.node.marks.some(y=>y.type===e)||(t=t||((i=r.node.marks[0])===null||i===void 0?void 0:i.attrs),!dT([...r.node.marks],e,t)))return;let a=r.index,f=n.start()+r.offset,d=a+1,m=f+r.node.nodeSize;for(;a>0&&a_([...n.parent.child(a-1).marks],e,t);)a-=1,f-=n.parent.child(a).nodeSize;for(;d<n.parent.childCount&&a_([...n.parent.child(d).marks],e,t);)m+=n.parent.child(d).nodeSize,d+=1;return{from:f,to:m}}function Lc(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const tz=(n,e={})=>({tr:t,state:i,dispatch:r})=>{const o=Lc(n,i.schema),{doc:a,selection:f}=t,{$from:d,from:m,to:y}=f;if(r){const x=eS(d,o,e);if(x&&x.from<=m&&x.to>=y){const T=rn.create(a,x.from,x.to);t.setSelection(T)}}return!0},nz=n=>e=>{const t=typeof n=="function"?n(e):n;for(let i=0;i<t.length;i+=1)if(t[i](e))return!0;return!1};function hT(n){return n instanceof rn}function Hf(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function pT(n,e=null){if(!e)return null;const t=pn.atStart(n),i=pn.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return i;const r=t.from,o=i.to;return e==="all"?rn.create(n,Hf(0,r,o),Hf(n.content.size,r,o)):rn.create(n,Hf(e,r,o),Hf(e,r,o))}function iz(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function tS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const rz=(n=null,e={})=>({editor:t,view:i,tr:r,dispatch:o})=>{e={scrollIntoView:!0,...e};const a=()=>{(tS()||iz())&&i.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(i.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(i.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!hT(t.state.selection))return a(),!0;const f=pT(r.doc,n)||t.state.selection,d=t.state.selection.eq(f);return o&&(d||r.setSelection(f),d&&r.storedMarks&&r.setStoredMarks(r.storedMarks),a()),!0},sz=(n,e)=>t=>n.every((i,r)=>e(i,{...t,index:r})),oz=(n,e)=>({tr:t,commands:i})=>i.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),mT=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const i=e[t];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?n.removeChild(i):i.nodeType===1&&mT(i)}return n};function Iv(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return mT(t)}function my(n,e,t){if(n instanceof Cc||n instanceof $e)return n;t={slice:!0,parseOptions:{},...t};const i=typeof n=="object"&&n!==null,r=typeof n=="string";if(i)try{if(Array.isArray(n)&&n.length>0)return $e.fromArray(n.map(f=>e.nodeFromJSON(f)));const a=e.nodeFromJSON(n);return t.errorOnInvalidContent&&a.check(),a}catch(o){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),my("",e,t)}if(r){if(t.errorOnInvalidContent){let a=!1,f="";const d=new Jx({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:m=>(a=!0,f=typeof m=="string"?m:m.outerHTML,null)}]}})});if(t.slice?Tc.fromSchema(d).parseSlice(Iv(n),t.parseOptions):Tc.fromSchema(d).parse(Iv(n),t.parseOptions),t.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${f}`)})}const o=Tc.fromSchema(e);return t.slice?o.parseSlice(Iv(n),t.parseOptions).content:o.parse(Iv(n),t.parseOptions)}return my("",e,t)}function lz(n,e,t){const i=n.steps.length-1;if(i<e)return;const r=n.steps[i];if(!(r instanceof ur||r instanceof cr))return;const o=n.mapping.maps[i];let a=0;o.forEach((f,d,m,y)=>{a===0&&(a=y)}),n.setSelection(pn.near(n.doc.resolve(a),t))}const az=n=>!("type"in n),uz=(n,e,t)=>({tr:i,dispatch:r,editor:o})=>{var a;if(r){t={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let f;try{f=my(e,o.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(a=t.errorOnInvalidContent)!==null&&a!==void 0?a:o.options.enableContentCheck})}catch(O){return o.emit("contentError",{editor:o,error:O,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}}),!1}let{from:d,to:m}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},y=!0,x=!0;if((az(f)?f:[f]).forEach(O=>{O.check(),y=y?O.isText&&O.marks.length===0:!1,x=x?O.isBlock:!1}),d===m&&x){const{parent:O}=i.doc.resolve(d);O.isTextblock&&!O.type.spec.code&&!O.childCount&&(d-=1,m+=1)}let R;if(y){if(Array.isArray(e))R=e.map(O=>O.text||"").join("");else if(e instanceof $e){let O="";e.forEach(k=>{k.text&&(O+=k.text)}),R=O}else typeof e=="object"&&e&&e.text?R=e.text:R=e;i.insertText(R,d,m)}else R=f,i.replaceWith(d,m,R);t.updateSelection&&lz(i,i.steps.length-1,-1),t.applyInputRules&&i.setMeta("applyInputRules",{from:d,text:R}),t.applyPasteRules&&i.setMeta("applyPasteRules",{from:d,text:R})}return!0},cz=()=>({state:n,dispatch:e})=>aD(n,e),fz=()=>({state:n,dispatch:e})=>uD(n,e),dz=()=>({state:n,dispatch:e})=>ZC(n,e),hz=()=>({state:n,dispatch:e})=>tT(n,e),pz=()=>({state:n,dispatch:e,tr:t})=>{try{const i=Dy(n.doc,n.selection.$from.pos,-1);return i==null?!1:(t.join(i,2),e&&e(t),!0)}catch{return!1}},mz=()=>({state:n,dispatch:e,tr:t})=>{try{const i=Dy(n.doc,n.selection.$from.pos,1);return i==null?!1:(t.join(i,2),e&&e(t),!0)}catch{return!1}},gz=()=>({state:n,dispatch:e})=>oD(n,e),vz=()=>({state:n,dispatch:e})=>lD(n,e);function gT(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function yz(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let i,r,o,a;for(let f=0;f<e.length-1;f+=1){const d=e[f];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))i=!0;else if(/^(c|ctrl|control)$/i.test(d))r=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))tS()||gT()?a=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return i&&(t=`Alt-${t}`),r&&(t=`Ctrl-${t}`),a&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}const bz=n=>({editor:e,view:t,tr:i,dispatch:r})=>{const o=yz(n).split(/-(?!$)/),a=o.find(m=>!["Alt","Ctrl","Meta","Shift"].includes(m)),f=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{t.someProp("handleKeyDown",m=>m(t,f))});return d==null||d.steps.forEach(m=>{const y=m.map(i.mapping);y&&r&&i.maybeStep(y)}),!0};function Hm(n,e,t={}){const{from:i,to:r,empty:o}=n.selection,a=e?fr(e,n.schema):null,f=[];n.doc.nodesBetween(i,r,(x,T)=>{if(x.isText)return;const R=Math.max(i,T),O=Math.min(r,T+x.nodeSize);f.push({node:x,from:R,to:O})});const d=r-i,m=f.filter(x=>a?a.name===x.node.type.name:!0).filter(x=>py(x.node.attrs,t,{strict:!1}));return o?!!m.length:m.reduce((x,T)=>x+T.to-T.from,0)>=d}const Sz=(n,e={})=>({state:t,dispatch:i})=>{const r=fr(n,t.schema);return Hm(t,r,e)?cD(t,i):!1},wz=()=>({state:n,dispatch:e})=>sT(n,e),_z=n=>({state:e,dispatch:t})=>{const i=fr(n,e.schema);return _D(i)(e,t)},xz=()=>({state:n,dispatch:e})=>iT(n,e);function Fy(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function u_(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((i,r)=>(t.includes(r)||(i[r]=n[r]),i),{})}const Cz=(n,e)=>({tr:t,state:i,dispatch:r})=>{let o=null,a=null;const f=Fy(typeof n=="string"?n:n.name,i.schema);return f?(f==="node"&&(o=fr(n,i.schema)),f==="mark"&&(a=Lc(n,i.schema)),r&&t.selection.ranges.forEach(d=>{i.doc.nodesBetween(d.$from.pos,d.$to.pos,(m,y)=>{o&&o===m.type&&t.setNodeMarkup(y,void 0,u_(m.attrs,e)),a&&m.marks.length&&m.marks.forEach(x=>{a===x.type&&t.addMark(y,y+m.nodeSize,a.create(u_(x.attrs,e)))})})}),!0):!1},Tz=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),Ez=()=>({tr:n,dispatch:e})=>{if(e){const t=new So(n.doc);n.setSelection(t)}return!0},Rz=()=>({state:n,dispatch:e})=>JC(n,e),Mz=()=>({state:n,dispatch:e})=>nT(n,e),Oz=()=>({state:n,dispatch:e})=>pD(n,e),Az=()=>({state:n,dispatch:e})=>vD(n,e),kz=()=>({state:n,dispatch:e})=>gD(n,e);function i1(n,e,t={},i={}){return my(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:i.errorOnInvalidContent})}const Dz=(n,e=!1,t={},i={})=>({editor:r,tr:o,dispatch:a,commands:f})=>{var d,m;const{doc:y}=o;if(t.preserveWhitespace!=="full"){const x=i1(n,r.schema,t,{errorOnInvalidContent:(d=i.errorOnInvalidContent)!==null&&d!==void 0?d:r.options.enableContentCheck});return a&&o.replaceWith(0,y.content.size,x).setMeta("preventUpdate",!e),!0}return a&&o.setMeta("preventUpdate",!e),f.insertContentAt({from:0,to:y.content.size},n,{parseOptions:t,errorOnInvalidContent:(m=i.errorOnInvalidContent)!==null&&m!==void 0?m:r.options.enableContentCheck})};function vT(n,e){const t=Lc(e,n.schema),{from:i,to:r,empty:o}=n.selection,a=[];o?(n.storedMarks&&a.push(...n.storedMarks),a.push(...n.selection.$head.marks())):n.doc.nodesBetween(i,r,d=>{a.push(...d.marks)});const f=a.find(d=>d.type.name===t.name);return f?{...f.attrs}:{}}function zz(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function Nz(n,e){for(let t=n.depth;t>0;t-=1){const i=n.node(t);if(e(i))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:i}}}function nS(n){return e=>Nz(e.$from,n)}function Lz(n,e){const t={from:0,to:n.content.size};return cT(n,t,e)}function Pz(n,e){const t=fr(e,n.schema),{from:i,to:r}=n.selection,o=[];n.doc.nodesBetween(i,r,f=>{o.push(f)});const a=o.reverse().find(f=>f.type.name===t.name);return a?{...a.attrs}:{}}function Iz(n,e){const t=Fy(typeof e=="string"?e:e.name,n.schema);return t==="node"?Pz(n,e):t==="mark"?vT(n,e):{}}function yT(n,e,t){const i=[];return n===e?t.resolve(n).marks().forEach(r=>{const o=t.resolve(n),a=eS(o,r.type);a&&i.push({mark:r,...a})}):t.nodesBetween(n,e,(r,o)=>{!r||(r==null?void 0:r.nodeSize)===void 0||i.push(...r.marks.map(a=>({from:o,to:o+r.nodeSize,mark:a})))}),i}function Wv(n,e,t){return Object.fromEntries(Object.entries(t).filter(([i])=>{const r=n.find(o=>o.type===e&&o.name===i);return r?r.attribute.keepOnSplit:!1}))}function r1(n,e,t={}){const{empty:i,ranges:r}=n.selection,o=e?Lc(e,n.schema):null;if(i)return!!(n.storedMarks||n.selection.$from.marks()).filter(x=>o?o.name===x.type.name:!0).find(x=>py(x.attrs,t,{strict:!1}));let a=0;const f=[];if(r.forEach(({$from:x,$to:T})=>{const R=x.pos,O=T.pos;n.doc.nodesBetween(R,O,(k,N)=>{if(!k.isText&&!k.marks.length)return;const H=Math.max(R,N),V=Math.min(O,N+k.nodeSize),Z=V-H;a+=Z,f.push(...k.marks.map(J=>({mark:J,from:H,to:V})))})}),a===0)return!1;const d=f.filter(x=>o?o.name===x.mark.type.name:!0).filter(x=>py(x.mark.attrs,t,{strict:!1})).reduce((x,T)=>x+T.to-T.from,0),m=f.filter(x=>o?x.mark.type!==o&&x.mark.type.excludes(o):!0).reduce((x,T)=>x+T.to-T.from,0);return(d>0?d+m:d)>=a}function jz(n,e,t={}){if(!e)return Hm(n,null,t)||r1(n,null,t);const i=Fy(e,n.schema);return i==="node"?Hm(n,e,t):i==="mark"?r1(n,e,t):!1}function c_(n,e){const{nodeExtensions:t}=Hy(e),i=t.find(a=>a.name===n);if(!i)return!1;const r={name:i.name,options:i.options,storage:i.storage},o=yn(vt(i,"group",r));return typeof o!="string"?!1:o.split(" ").includes("list")}function iS(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var i;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((i=n.text)!==null&&i!==void 0?i:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let r=!0;return n.content.forEach(o=>{r!==!1&&(iS(o,{ignoreWhitespace:t,checkChildren:e})||(r=!1))}),r}return!1}function Bz(n,e,t){var i;const{selection:r}=e;let o=null;if(hT(r)&&(o=r.$cursor),o){const f=(i=n.storedMarks)!==null&&i!==void 0?i:o.marks();return!!t.isInSet(f)||!f.some(d=>d.type.excludes(t))}const{ranges:a}=r;return a.some(({$from:f,$to:d})=>{let m=f.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(f.pos,d.pos,(y,x,T)=>{if(m)return!1;if(y.isInline){const R=!T||T.type.allowsMarkType(t),O=!!t.isInSet(y.marks)||!y.marks.some(k=>k.type.excludes(t));m=R&&O}return!m}),m})}const Hz=(n,e={})=>({tr:t,state:i,dispatch:r})=>{const{selection:o}=t,{empty:a,ranges:f}=o,d=Lc(n,i.schema);if(r)if(a){const m=vT(i,d);t.addStoredMark(d.create({...m,...e}))}else f.forEach(m=>{const y=m.$from.pos,x=m.$to.pos;i.doc.nodesBetween(y,x,(T,R)=>{const O=Math.max(R,y),k=Math.min(R+T.nodeSize,x);T.marks.find(H=>H.type===d)?T.marks.forEach(H=>{d===H.type&&t.addMark(O,k,d.create({...H.attrs,...e}))}):t.addMark(O,k,d.create(e))})});return Bz(i,t,d)},$z=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),Fz=(n,e={})=>({state:t,dispatch:i,chain:r})=>{const o=fr(n,t.schema);let a;return t.selection.$anchor.sameParent(t.selection.$head)&&(a=t.selection.$anchor.parent.attrs),o.isTextblock?r().command(({commands:f})=>r_(o,{...a,...e})(t)?!0:f.clearNodes()).command(({state:f})=>r_(o,{...a,...e})(f,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Uz=n=>({tr:e,dispatch:t})=>{if(t){const{doc:i}=e,r=Hf(n,0,i.content.size),o=Pt.create(i,r);e.setSelection(o)}return!0},Gz=n=>({tr:e,dispatch:t})=>{if(t){const{doc:i}=e,{from:r,to:o}=typeof n=="number"?{from:n,to:n}:n,a=rn.atStart(i).from,f=rn.atEnd(i).to,d=Hf(r,a,f),m=Hf(o,a,f),y=rn.create(i,d,m);e.setSelection(y)}return!0},Wz=n=>({state:e,dispatch:t})=>{const i=fr(n,e.schema);return TD(i)(e,t)};function f_(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const i=t.filter(r=>e==null?void 0:e.includes(r.type.name));n.tr.ensureMarks(i)}}const Vz=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:i,editor:r})=>{const{selection:o,doc:a}=e,{$from:f,$to:d}=o,m=r.extensionManager.attributes,y=Wv(m,f.node().type.name,f.node().attrs);if(o instanceof Pt&&o.node.isBlock)return!f.parentOffset||!pu(a,f.pos)?!1:(i&&(n&&f_(t,r.extensionManager.splittableMarks),e.split(f.pos).scrollIntoView()),!0);if(!f.parent.isBlock)return!1;const x=d.parentOffset===d.parent.content.size,T=f.depth===0?void 0:zz(f.node(-1).contentMatchAt(f.indexAfter(-1)));let R=x&&T?[{type:T,attrs:y}]:void 0,O=pu(e.doc,e.mapping.map(f.pos),1,R);if(!R&&!O&&pu(e.doc,e.mapping.map(f.pos),1,T?[{type:T}]:void 0)&&(O=!0,R=T?[{type:T,attrs:y}]:void 0),i){if(O&&(o instanceof rn&&e.deleteSelection(),e.split(e.mapping.map(f.pos),1,R),T&&!x&&!f.parentOffset&&f.parent.type!==T)){const k=e.mapping.map(f.before()),N=e.doc.resolve(k);f.node(-1).canReplaceWith(N.index(),N.index()+1,T)&&e.setNodeMarkup(e.mapping.map(f.before()),T)}n&&f_(t,r.extensionManager.splittableMarks),e.scrollIntoView()}return O},qz=(n,e={})=>({tr:t,state:i,dispatch:r,editor:o})=>{var a;const f=fr(n,i.schema),{$from:d,$to:m}=i.selection,y=i.selection.node;if(y&&y.isBlock||d.depth<2||!d.sameParent(m))return!1;const x=d.node(-1);if(x.type!==f)return!1;const T=o.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==f||d.index(-2)!==d.node(-2).childCount-1)return!1;if(r){let H=$e.empty;const V=d.index(-1)?1:d.index(-2)?2:3;for(let ue=d.depth-V;ue>=d.depth-3;ue-=1)H=$e.from(d.node(ue).copy(H));const Z=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,J={...Wv(T,d.node().type.name,d.node().attrs),...e},se=((a=f.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(J))||void 0;H=H.append($e.from(f.createAndFill(null,se)||void 0));const me=d.before(d.depth-(V-1));t.replace(me,d.after(-Z),new ft(H,4-V,0));let G=-1;t.doc.nodesBetween(me,t.doc.content.size,(ue,ge)=>{if(G>-1)return!1;ue.isTextblock&&ue.content.size===0&&(G=ge+1)}),G>-1&&t.setSelection(rn.near(t.doc.resolve(G))),t.scrollIntoView()}return!0}const R=m.pos===d.end()?x.contentMatchAt(0).defaultType:null,O={...Wv(T,x.type.name,x.attrs),...e},k={...Wv(T,d.node().type.name,d.node().attrs),...e};t.delete(d.pos,m.pos);const N=R?[{type:f,attrs:O},{type:R,attrs:k}]:[{type:f,attrs:O}];if(!pu(t.doc,d.pos,2))return!1;if(r){const{selection:H,storedMarks:V}=i,{splittableMarks:Z}=o.extensionManager,J=V||H.$to.parentOffset&&H.$from.marks();if(t.split(d.pos,2,N).scrollIntoView(),!J||!r)return!0;const se=J.filter(me=>Z.includes(me.type.name));t.ensureMarks(se)}return!0},bb=(n,e)=>{const t=nS(a=>a.type===e)(n.selection);if(!t)return!0;const i=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(i===void 0)return!0;const r=n.doc.nodeAt(i);return t.node.type===(r==null?void 0:r.type)&&sd(n.doc,t.pos)&&n.join(t.pos),!0},Sb=(n,e)=>{const t=nS(a=>a.type===e)(n.selection);if(!t)return!0;const i=n.doc.resolve(t.start).after(t.depth);if(i===void 0)return!0;const r=n.doc.nodeAt(i);return t.node.type===(r==null?void 0:r.type)&&sd(n.doc,i)&&n.join(i),!0},Yz=(n,e,t,i={})=>({editor:r,tr:o,state:a,dispatch:f,chain:d,commands:m,can:y})=>{const{extensions:x,splittableMarks:T}=r.extensionManager,R=fr(n,a.schema),O=fr(e,a.schema),{selection:k,storedMarks:N}=a,{$from:H,$to:V}=k,Z=H.blockRange(V),J=N||k.$to.parentOffset&&k.$from.marks();if(!Z)return!1;const se=nS(me=>c_(me.type.name,x))(k);if(Z.depth>=1&&se&&Z.depth-se.depth<=1){if(se.node.type===R)return m.liftListItem(O);if(c_(se.node.type.name,x)&&R.validContent(se.node.content)&&f)return d().command(()=>(o.setNodeMarkup(se.pos,R),!0)).command(()=>bb(o,R)).command(()=>Sb(o,R)).run()}return!t||!J||!f?d().command(()=>y().wrapInList(R,i)?!0:m.clearNodes()).wrapInList(R,i).command(()=>bb(o,R)).command(()=>Sb(o,R)).run():d().command(()=>{const me=y().wrapInList(R,i),G=J.filter(ue=>T.includes(ue.type.name));return o.ensureMarks(G),me?!0:m.clearNodes()}).wrapInList(R,i).command(()=>bb(o,R)).command(()=>Sb(o,R)).run()},Xz=(n,e={},t={})=>({state:i,commands:r})=>{const{extendEmptyMarkRange:o=!1}=t,a=Lc(n,i.schema);return r1(i,a,e)?r.unsetMark(a,{extendEmptyMarkRange:o}):r.setMark(a,e)},Kz=(n,e,t={})=>({state:i,commands:r})=>{const o=fr(n,i.schema),a=fr(e,i.schema),f=Hm(i,o,t);let d;return i.selection.$anchor.sameParent(i.selection.$head)&&(d=i.selection.$anchor.parent.attrs),f?r.setNode(a,d):r.setNode(o,{...d,...t})},Zz=(n,e={})=>({state:t,commands:i})=>{const r=fr(n,t.schema);return Hm(t,r,e)?i.lift(r):i.wrapIn(r,e)},Qz=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let i=0;i<t.length;i+=1){const r=t[i];let o;if(r.spec.isInputRules&&(o=r.getState(n))){if(e){const a=n.tr,f=o.transform;for(let d=f.steps.length-1;d>=0;d-=1)a.step(f.steps[d].invert(f.docs[d]));if(o.text){const d=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,n.schema.text(o.text,d))}else a.delete(o.from,o.to)}return!0}}return!1},Jz=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:i,ranges:r}=t;return i||e&&r.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0},eN=(n,e={})=>({tr:t,state:i,dispatch:r})=>{var o;const{extendEmptyMarkRange:a=!1}=e,{selection:f}=t,d=Lc(n,i.schema),{$from:m,empty:y,ranges:x}=f;if(!r)return!0;if(y&&a){let{from:T,to:R}=f;const O=(o=m.marks().find(N=>N.type===d))===null||o===void 0?void 0:o.attrs,k=eS(m,d,O);k&&(T=k.from,R=k.to),t.removeMark(T,R,d)}else x.forEach(T=>{t.removeMark(T.$from.pos,T.$to.pos,d)});return t.removeStoredMark(d),!0},tN=(n,e={})=>({tr:t,state:i,dispatch:r})=>{let o=null,a=null;const f=Fy(typeof n=="string"?n:n.name,i.schema);return f?(f==="node"&&(o=fr(n,i.schema)),f==="mark"&&(a=Lc(n,i.schema)),r&&t.selection.ranges.forEach(d=>{const m=d.$from.pos,y=d.$to.pos;let x,T,R,O;t.selection.empty?i.doc.nodesBetween(m,y,(k,N)=>{o&&o===k.type&&(R=Math.max(N,m),O=Math.min(N+k.nodeSize,y),x=N,T=k)}):i.doc.nodesBetween(m,y,(k,N)=>{N<m&&o&&o===k.type&&(R=Math.max(N,m),O=Math.min(N+k.nodeSize,y),x=N,T=k),N>=m&&N<=y&&(o&&o===k.type&&t.setNodeMarkup(N,void 0,{...k.attrs,...e}),a&&k.marks.length&&k.marks.forEach(H=>{if(a===H.type){const V=Math.max(N,m),Z=Math.min(N+k.nodeSize,y);t.addMark(V,Z,a.create({...H.attrs,...e}))}}))}),T&&(x!==void 0&&t.setNodeMarkup(x,void 0,{...T.attrs,...e}),a&&T.marks.length&&T.marks.forEach(k=>{a===k.type&&t.addMark(R,O,a.create({...k.attrs,...e}))}))}),!0):!1},nN=(n,e={})=>({state:t,dispatch:i})=>{const r=fr(n,t.schema);return yD(r,e)(t,i)},iN=(n,e={})=>({state:t,dispatch:i})=>{const r=fr(n,t.schema);return bD(r,e)(t,i)};var rN=Object.freeze({__proto__:null,blur:UD,clearContent:GD,clearNodes:WD,command:VD,createParagraphNear:qD,cut:YD,deleteCurrentNode:XD,deleteNode:KD,deleteRange:ZD,deleteSelection:QD,enter:JD,exitCode:ez,extendMarkRange:tz,first:nz,focus:rz,forEach:sz,insertContent:oz,insertContentAt:uz,joinBackward:dz,joinDown:fz,joinForward:hz,joinItemBackward:pz,joinItemForward:mz,joinTextblockBackward:gz,joinTextblockForward:vz,joinUp:cz,keyboardShortcut:bz,lift:Sz,liftEmptyBlock:wz,liftListItem:_z,newlineInCode:xz,resetAttributes:Cz,scrollIntoView:Tz,selectAll:Ez,selectNodeBackward:Rz,selectNodeForward:Mz,selectParentNode:Oz,selectTextblockEnd:Az,selectTextblockStart:kz,setContent:Dz,setMark:Hz,setMeta:$z,setNode:Fz,setNodeSelection:Uz,setTextSelection:Gz,sinkListItem:Wz,splitBlock:Vz,splitListItem:qz,toggleList:Yz,toggleMark:Xz,toggleNode:Kz,toggleWrap:Zz,undoInputRule:Qz,unsetAllMarks:Jz,unsetMark:eN,updateAttributes:tN,wrapIn:nN,wrapInList:iN});const sN=Fl.create({name:"commands",addCommands(){return{...rN}}}),oN=Fl.create({name:"drop",addProseMirrorPlugins(){return[new Aa({key:new od("tiptapDrop"),props:{handleDrop:(n,e,t,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:i})}}})]}}),lN=Fl.create({name:"editable",addProseMirrorPlugins(){return[new Aa({key:new od("editable"),props:{editable:()=>this.editor.options.editable}})]}}),aN=new od("focusEvents"),uN=Fl.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Aa({key:aN,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const i=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,t)=>{n.isFocused=!1;const i=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),cN=Fl.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:f})=>{const{selection:d,doc:m}=f,{empty:y,$anchor:x}=d,{pos:T,parent:R}=x,O=x.parent.isTextblock&&T>0?f.doc.resolve(T-1):x,k=O.parent.type.spec.isolating,N=x.pos-x.parentOffset,H=k&&O.parent.childCount===1?N===x.pos:pn.atStart(m).from===T;return!y||!R.type.isTextblock||R.textContent.length||!H||H&&x.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...i},o={...i,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return tS()||gT()?o:r},addProseMirrorPlugins(){return[new Aa({key:new od("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(k=>k.getMeta("composition")))return;const i=n.some(k=>k.docChanged)&&!e.doc.eq(t.doc),r=n.some(k=>k.getMeta("preventClearDocument"));if(!i||r)return;const{empty:o,from:a,to:f}=e.selection,d=pn.atStart(e.doc).from,m=pn.atEnd(e.doc).to;if(o||!(a===d&&f===m)||!iS(t.doc))return;const T=t.tr,R=jy({state:t,transaction:T}),{commands:O}=new By({editor:this.editor,state:R});if(O.clearNodes(),!!T.steps.length)return T}})]}}),fN=Fl.create({name:"paste",addProseMirrorPlugins(){return[new Aa({key:new od("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),dN=Fl.create({name:"tabindex",addProseMirrorPlugins(){return[new Aa({key:new od("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Pf{get name(){return this.node.type.name}constructor(e,t,i=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=e,this.editor=t,this.currentNode=r}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:t,to:i},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Pf(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Pf(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Pf(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,i)=>{const r=t.isBlock&&!t.isTextblock,o=t.isAtom&&!t.isText,a=this.pos+i+(o?0:1),f=this.resolvedPos.doc.resolve(a);if(!r&&f.depth<=this.depth)return;const d=new Pf(f,this.editor,r,r?t:null);r&&(d.actualDepth=this.depth+1),e.push(new Pf(f,this.editor,r,r?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let i=null,r=this.parent;for(;r&&!i;){if(r.node.type.name===e)if(Object.keys(t).length>0){const o=r.node.attrs,a=Object.keys(t);for(let f=0;f<a.length;f+=1){const d=a[f];if(o[d]!==t[d])break}}else i=r;r=r.parent}return i}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},i=!1){let r=[];if(!this.children||this.children.length===0)return r;const o=Object.keys(t);return this.children.forEach(a=>{i&&r.length>0||(a.node.type.name===e&&o.every(d=>t[d]===a.node.attrs[d])&&r.push(a),!(i&&r.length>0)&&(r=r.concat(a.querySelectorAll(e,t,i))))}),r}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const hN=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function pN(n,e,t){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(r),r}let mN=class extends ED{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:i,moved:r})=>this.options.onDrop(t,i,r)),this.on("paste",({event:t,slice:i})=>this.options.onPaste(t,i)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=pN(hN,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const i=uT(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:i});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let i=t;if([].concat(e).forEach(o=>{const a=typeof o=="string"?`${o}$`:o.key;i=i.filter(f=>!f.key.startsWith(a))}),t.length===i.length)return;const r=this.state.reconfigure({plugins:i});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[lN,FD.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),sN,uN,cN,dN,oN,fN].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new gh(r,this)}createCommandManager(){this.commandManager=new By({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=i1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(f=>f.name!=="collaboration"),this.createExtensionManager()}}),t=i1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const i=pT(t,this.options.autofocus);this.view=new Y2(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:mh.create({doc:t,selection:i||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var f;return(f=this.capturedTransaction)===null||f===void 0?void 0:f.step(a)});return}const t=this.state.apply(e),i=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),o=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Iz(this.state,e)}isActive(e,t){const i=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return jz(this.state,i,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Q1(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:i={}}=e||{};return Lz(this.state.doc,{blockSeparator:t,textSerializers:{...fT(this.schema),...i}})}get isEmpty(){return iS(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelector(e,t))||null}$nodes(e,t){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Pf(t,this)}get $doc(){return this.$pos(0)}};function gy(n){return new kD({find:n.find,handler:({state:e,range:t,match:i})=>{const r=yn(n.getAttributes,void 0,i);if(r===!1||r===null)return null;const{tr:o}=e,a=i[i.length-1],f=i[0];if(a){const d=f.search(/\S/),m=t.from+f.indexOf(a),y=m+a.length;if(yT(t.from,t.to,e.doc).filter(R=>R.mark.type.excluded.find(k=>k===n.type&&k!==R.mark.type)).filter(R=>R.to>m).length)return null;y<t.to&&o.delete(y,t.to),m>t.from&&o.delete(t.from+d,m);const T=t.from+d+a.length;o.addMark(t.from+d,T,n.type.create(r||{})),o.removeStoredMark(n.type)}}})}class td{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=yn(vt(this,"addOptions",{name:this.name}))),this.storage=yn(vt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new td(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>$y(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new td(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=yn(vt(t,"addOptions",{name:t.name})),t.storage=yn(vt(t,"addStorage",{name:t.name,options:t.options})),t}}function vy(n){return new PD({find:n.find,handler:({state:e,range:t,match:i,pasteEvent:r})=>{const o=yn(n.getAttributes,void 0,i,r);if(o===!1||o===null)return null;const{tr:a}=e,f=i[i.length-1],d=i[0];let m=t.to;if(f){const y=d.search(/\S/),x=t.from+d.indexOf(f),T=x+f.length;if(yT(t.from,t.to,e.doc).filter(O=>O.mark.type.excluded.find(N=>N===n.type&&N!==O.mark.type)).filter(O=>O.to>x).length)return null;T<t.to&&a.delete(T,t.to),x>t.from&&a.delete(t.from+y,x),m=t.from+y+f.length,a.addMark(t.from+y,m,n.type.create(o||{})),a.removeStoredMark(n.type)}}})}var s1=ux();const gN=Cy(s1);function vN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bT={exports:{}},wb={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function yN(){if(d_)return wb;d_=1;var n=_t;function e(x,T){return x===T&&(x!==0||1/x===1/T)||x!==x&&T!==T}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,o=n.useLayoutEffect,a=n.useDebugValue;function f(x,T){var R=T(),O=i({inst:{value:R,getSnapshot:T}}),k=O[0].inst,N=O[1];return o(function(){k.value=R,k.getSnapshot=T,d(k)&&N({inst:k})},[x,R,T]),r(function(){return d(k)&&N({inst:k}),x(function(){d(k)&&N({inst:k})})},[x]),a(R),R}function d(x){var T=x.getSnapshot;x=x.value;try{var R=T();return!t(x,R)}catch{return!0}}function m(x,T){return T()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return wb.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,wb}bT.exports=yN();var rS=bT.exports;const bN=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},SN=({contentComponent:n})=>{const e=rS.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return _t.createElement(_t.Fragment,null,Object.values(e))};function wN(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,i){e={...e,[t]:gN.createPortal(i.reactElement,i.element,t)},n.forEach(r=>r())},removeRenderer(t){const i={...e};delete i[t],e=i,n.forEach(r=>r())}}}class _N extends _t.Component{constructor(e){var t;super(e),this.editorContentRef=_t.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=wN(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(i=>i.hasContentComponentInitialized?i:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...i}=this.props;return _t.createElement(_t.Fragment,null,_t.createElement("div",{ref:bN(t,this.editorContentRef),...i}),(e==null?void 0:e.contentComponent)&&_t.createElement(SN,{contentComponent:e.contentComponent}))}}const xN=q.forwardRef((n,e)=>{const t=_t.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return _t.createElement(_N,{key:t,innerRef:e,...n})}),CN=_t.memo(xN);var TN=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,r,o;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(r=i;r--!==0;)if(!n(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!n(r[1],t.get(r[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(i=e.length,i!=t.length)return!1;for(r=i;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),i=o.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=i;r--!==0;){var a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t},EN=vN(TN),ST={exports:{}},_b={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function RN(){if(h_)return _b;h_=1;var n=_t,e=rS;function t(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=n.useRef,a=n.useEffect,f=n.useMemo,d=n.useDebugValue;return _b.useSyncExternalStoreWithSelector=function(m,y,x,T,R){var O=o(null);if(O.current===null){var k={hasValue:!1,value:null};O.current=k}else k=O.current;O=f(function(){function H(me){if(!V){if(V=!0,Z=me,me=T(me),R!==void 0&&k.hasValue){var G=k.value;if(R(G,me))return J=G}return J=me}if(G=J,i(Z,me))return G;var ue=T(me);return R!==void 0&&R(G,ue)?G:(Z=me,J=ue)}var V=!1,Z,J,se=x===void 0?null:x;return[function(){return H(y())},se===null?void 0:function(){return H(se())}]},[y,x,T,R]);var N=r(m,O[0],O[1]);return a(function(){k.hasValue=!0,k.value=N},[N]),d(N),N},_b}ST.exports=RN();var MN=ST.exports;const ON=typeof window<"u"?q.useLayoutEffect:q.useEffect;class AN{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},i=this.editor;return i.on("transaction",t),()=>{i.off("transaction",t)}}}}function kN(n){var e;const[t]=q.useState(()=>new AN(n.editor)),i=MN.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:EN);return ON(()=>t.watch(n.editor),[n.editor,t]),q.useDebugValue(i),i}const DN=!1,o1=typeof window>"u",zN=o1||!!(typeof window<"u"&&window.next);class sS{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?o1||zN?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...i)=>{var r,o;return(o=(r=this.options.current).onBeforeCreate)===null||o===void 0?void 0:o.call(r,...i)},onBlur:(...i)=>{var r,o;return(o=(r=this.options.current).onBlur)===null||o===void 0?void 0:o.call(r,...i)},onCreate:(...i)=>{var r,o;return(o=(r=this.options.current).onCreate)===null||o===void 0?void 0:o.call(r,...i)},onDestroy:(...i)=>{var r,o;return(o=(r=this.options.current).onDestroy)===null||o===void 0?void 0:o.call(r,...i)},onFocus:(...i)=>{var r,o;return(o=(r=this.options.current).onFocus)===null||o===void 0?void 0:o.call(r,...i)},onSelectionUpdate:(...i)=>{var r,o;return(o=(r=this.options.current).onSelectionUpdate)===null||o===void 0?void 0:o.call(r,...i)},onTransaction:(...i)=>{var r,o;return(o=(r=this.options.current).onTransaction)===null||o===void 0?void 0:o.call(r,...i)},onUpdate:(...i)=>{var r,o;return(o=(r=this.options.current).onUpdate)===null||o===void 0?void 0:o.call(r,...i)},onContentError:(...i)=>{var r,o;return(o=(r=this.options.current).onContentError)===null||o===void 0?void 0:o.call(r,...i)},onDrop:(...i)=>{var r,o;return(o=(r=this.options.current).onDrop)===null||o===void 0?void 0:o.call(r,...i)},onPaste:(...i)=>{var r,o;return(o=(r=this.options.current).onPaste)===null||o===void 0?void 0:o.call(r,...i)}};return new mN(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(i=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(i)?!0:i==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((r,o)=>{var a;return r===((a=t.extensions)===null||a===void 0?void 0:a[o])}):e[i]===t[i])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?sS.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((i,r)=>i===e[r]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function NN(n={},e=[]){const t=q.useRef(n);t.current=n;const[i]=q.useState(()=>new sS(t)),r=rS.useSyncExternalStore(i.subscribe,i.getEditor,i.getServerSnapshot);return q.useDebugValue(r),q.useEffect(i.onRender(e)),kN({editor:r,selector:({transactionNumber:o})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&o===0?0:o+1}),r}const LN=q.createContext({editor:null});LN.Consumer;const PN=q.createContext({onDragStart:void 0}),IN=()=>q.useContext(PN);_t.forwardRef((n,e)=>{const{onDragStart:t}=IN(),i=n.as||"div";return _t.createElement(i,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const jN=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,BN=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,HN=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,$N=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,FN=Dc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",Oh(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[gy({find:jN,type:this.type}),gy({find:HN,type:this.type})]},addPasteRules(){return[vy({find:BN,type:this.type}),vy({find:$N,type:this.type})]}}),UN=td.create({name:"doc",topNode:!0,content:"block+"}),GN=td.create({name:"text",group:"inline"}),WN=td.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",Oh(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),VN=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,qN=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,YN=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,XN=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,KN=Dc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",Oh(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[gy({find:VN,type:this.type}),gy({find:YN,type:this.type})]},addPasteRules(){return[vy({find:qN,type:this.type}),vy({find:XN,type:this.type})]}}),ZN=Dc.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",Oh(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),QN=td.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",Oh(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:i})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:r,storedMarks:o}=t;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:f}=i.extensionManager,d=o||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:m,dispatch:y})=>{if(y&&d&&a){const x=d.filter(T=>f.includes(T.type.name));m.ensureMarks(x)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),JN=Dc.create({name:"vttClass",addOptions:()=>({HTMLAttributes:{class:null}}),addAttributes:()=>({class:{default:null}}),parseHTML:()=>[{tag:"span[class]"}],priority:999,renderHTML:({HTMLAttributes:n})=>["span",n,0]}),e3=[UN,GN,WN.extend({whitespace:"pre",addAttributes:()=>({class:{default:"cue__text"}})}),FN.extend({renderHTML:({HTMLAttributes:n})=>["b",n,0]}),KN.extend({renderHTML:({HTMLAttributes:n})=>["i",n,0]}),ZN,JN,QN.extend({addKeyboardShortcuts:()=>({Enter:({editor:n})=>n.commands.setHardBreak()})})],t3=({cueText:n,presets:e,onChange:t})=>{const i=NN({content:`<p>${n}</p>`,onUpdate:({editor:r})=>{const o=r.getHTML();t(o)},extensions:e3,parseOptions:{preserveWhitespace:"full"},editorProps:{}});return q.useEffect(()=>{if(!i)return;const r=i.state.selection.ranges[0];i.commands.setContent(`<p>${n}</p>`,!1,{preserveWhitespace:"full"}),i.commands.setTextSelection({from:r.$from.pos,to:r.$to.pos})},[n,i]),B.jsxs(B.Fragment,{children:[B.jsx(CN,{editor:i,className:"cue-text-editor__editor"}),B.jsx(n3,{editor:i,presets:e})]})},n3=({editor:n,presets:e,className:t=""})=>{if(!n)return;const i=r=>{const o=r.target.value;o?n.chain().focus().setMark("vttClass",{class:o}).run():n.chain().focus().unsetMark("vttClass").run()};return B.jsxs("div",{className:`cue-text-editor-menu ${t}`,children:[B.jsx(jl,{name:"bold",value:"bold",type:"checkbox",checked:n.isActive("bold"),onChange:()=>n.chain().focus().toggleBold().run(),children:B.jsx(ki,{name:"bold"})}),B.jsx(jl,{name:"italics",value:"italics",type:"checkbox",checked:n.isActive("italic"),onChange:()=>n.chain().focus().toggleItalic().run(),children:B.jsx(ki,{name:"italics"})}),B.jsx(jl,{name:"underline",value:"underline",type:"checkbox",checked:n.isActive("underline"),onChange:()=>n.chain().focus().toggleUnderline().run(),children:B.jsx(ki,{name:"underline"})}),B.jsxs("select",{value:n.isActive("vttClass")?n.getAttributes("vttClass").class:"",onChange:i,className:"full-width",children:[B.jsx("option",{value:"",children:"None"}),e.map(r=>B.jsx("option",{value:hu(r.name),children:r.name},hu(r.name)))]})]})},i3=({onExport:n,className:e=""})=>{const t=r=>{r.preventDefault();const o=new FormData(r.currentTarget);n(o.get("filename"))},i=r=>{const o=r.currentTarget.value.split(".")[0];r.currentTarget.setSelectionRange(0,o.length)};return B.jsxs("div",{className:`export ${e}`,children:[B.jsxs("div",{className:"export__description",children:[B.jsx("h2",{children:"Export"}),B.jsx("p",{children:"Download your subtitles as a WebVTT file for use on a website."}),B.jsxs("a",{href:"#",children:[B.jsx(ki,{name:"manual"}),"Documentation for developers"]})]}),B.jsxs("form",{className:"export__form",onSubmit:t,children:[B.jsxs("label",{children:["Filename",B.jsx("input",{type:"text",name:"filename",defaultValue:"captions.vtt",required:!0,onFocus:i})]}),B.jsx("button",{className:"button button--primary",type:"submit",children:"Export..."})]})]})},Hi={minContrastRatio:4.5,maxLineLength:42,maxLines:2,maxCharsPerSecond:11,maxCueLengthSeconds:8,minCueLengthSeconds:1,minFramesBetweenCues:3},r3=.2126,s3=.7152,o3=.0722,l3=2.4,a3=(n,e,t,i)=>{if(i<2){const r=Math.round(xb(n,e)*10)/10;return{isCompliant:r>=Hi.minContrastRatio,title:Ji("warnings.colorContrast.title",{colorContrast:r}),message:Ji("warnings.colorContrast.messageFillBox",{minContrastRatio:Hi.minContrastRatio}),link:Ji("warnings.colorContrast.link")}}else if(i<6){const r=Math.round(xb(t,e)*10)/10;return{isCompliant:r>=Hi.minContrastRatio,title:Ji("warnings.colorContrast.title",{colorContrast:r}),message:Ji("warnings.colorContrast.messageStrokeBox",{minContrastRatio:Hi.minContrastRatio}),link:Ji("warnings.colorContrast.link")}}else{const r=Math.round(xb(n,t)*10)/10;return{isCompliant:r>=Hi.minContrastRatio,title:Ji("warnings.colorContrast.title",{colorContrast:r}),message:Ji("warnings.colorContrast.messageFillStroke",{minContrastRatio:Hi.minContrastRatio}),link:Ji("warnings.colorContrast.link")}}},xb=(n,e)=>{const t=m_(n),i=m_(e),r=p_(t),o=p_(i);return r>o?(r+.05)/(o+.05):(o+.05)/(r+.05)},p_=n=>{const[e,t,i]=Object.values(n).map(r=>{const o=r/255;return o<=.04045?o/12.92:Math.pow((o+.055)/1.055,l3)});return r3*e+s3*t+o3*i},m_=n=>({r:parseInt(n.substring(1,3),16),g:parseInt(n.substring(3,5),16),b:parseInt(n.substring(5,7),16)}),u3=(n,e)=>{const t=Math.round((e-n)*100)/100;return{isCompliant:t>=Hi.minCueLengthSeconds&&t<=Hi.maxCueLengthSeconds,title:Ji("warnings.cueLength.title",{cueLength:t}),message:Ji("warnings.cueLength.message",{case:t>Hi.maxCueLengthSeconds?"maximum":"minimum",recommendation:t>Hi.maxCueLengthSeconds?Hi.maxCueLengthSeconds:Hi.minCueLengthSeconds})}},c3=(n,e,t)=>{const i=Math.floor(n.length/(t-e));return{isCompliant:i<=Hi.maxCharsPerSecond,title:Ji("warnings.maxCharsPerSecond.title",{charsPerSecond:i}),message:Ji("warnings.maxCharsPerSecond.message",{maxCharsPerSecond:Hi.maxCharsPerSecond})}},f3=n=>{const e=n.split(`
`).length;return{isCompliant:e<=Hi.maxLines,title:Ji("warnings.maxLines.title",{lineCount:e}),message:Ji("warnings.maxLines.message",{maxLines:Hi.maxLines})}},d3=n=>{const e=n.split(`
`).reduce((t,i)=>Math.max(t,i.length),0);return{isCompliant:e<=Hi.maxLineLength,title:Ji("warnings.maxLineLength.title",{maxLineLength:e}),message:Ji("warnings.maxLineLength.message",{maxLineLength:Hi.maxLineLength})}},h3=(n,e,t)=>{const i=g_(n,t),o=g_(e,t).frameCount-i.frameCount;return{isCompliant:o>=Hi.minFramesBetweenCues||Math.sign(o)===-1,title:Ji("warnings.minFramesBetween.title",{framesBetweenCues:o}),message:Ji("warnings.minFramesBetween.message",{minFramesBetweenCues:Hi.minFramesBetweenCues})}},g_=(n,e)=>new N1(new Date(n*1e3),e).subtract("01:00:00;00"),p3={colorContrast:{title:"Contrast {colorContrast} : 1",messageFillBox:"Contrast between text fill and box is low. Minimum contrast recommendation is {minContrastRatio} : 1",messageStrokeBox:"Contrast between text stroke and box is low. Minimum contrast recommendation is {minContrastRatio} : 1",messageFillStroke:"Contrast between text fill and text stroke is low. Minimum contrast recommendation is {minContrastRatio} : 1",link:"https://www.w3.org/Translations/WCAG22-nl/#contrast-minimum"},cueLength:{title:"{cueLength} seconds long",message:"Recommended {case} length is {recommendation} seconds"},maxCharsPerSecond:{title:"{charsPerSecond} characters per second",message:"Recommended maximum is {maxCharsPerSecond} characters per second"},maxLineLength:{title:"{maxLineLength} characters",message:"Recommended maximum line length is {maxLineLength} characters"},maxLines:{title:"{lineCount} lines",message:"Recommended maximum is {maxLines} lines"},minFramesBetween:{title:"{framesBetweenCues} frames between cues",message:"Recommended minimum frames between cues is {minFramesBetweenCues}"}},v_={warnings:p3},Ji=(n,e={})=>{if(!Ff.has(v_,n))return n;const t=Ff.get(v_,n);if(typeof t!="string")throw new Error(`Translation for key "${n}" is not a string`);return t.replace(/\{(\w+)\}/g,(i,r)=>Ff.get(e,r))},m3=({globalStyles:n,onInput:e,onAddShadow:t,onRemoveShadow:i,className:r=""})=>B.jsx("div",{className:`global-styles ${r}`,children:B.jsxs("form",{className:`global-styles__form ${r}`,children:[B.jsxs("section",{className:"global-styles__section",children:[B.jsx("h3",{children:"Typography"}),B.jsx("div",{className:"global-styles__control-row",children:B.jsx(IO,{label:"Font Family",name:"fontFamily",value:n.fontFamily,onChange:e})}),B.jsxs("div",{className:"global-styles__control-row",children:[B.jsxs("label",{className:"full-width",children:[B.jsx("span",{className:"sr-only",children:"Font variant"}),B.jsxs("select",{name:"fontVariant",value:n.fontVariant,onChange:e,children:[B.jsx("option",{value:"100",children:"Thin"}),B.jsx("option",{value:"200",children:"Extra Light"}),B.jsx("option",{value:"300",children:"Light"}),B.jsx("option",{value:"400",children:"Normal"}),B.jsx("option",{value:"500",children:"Medium"}),B.jsx("option",{value:"600",children:"Semi Bold"}),B.jsx("option",{value:"700",children:"Bold"}),B.jsx("option",{value:"800",children:"Extra Bold"}),B.jsx("option",{value:"900",children:"Black"})]})]}),B.jsx(jl,{name:"italics",value:"italics",checked:n.italics,onChange:e,children:B.jsx(ki,{name:"italics","aria-label":"italics"})}),B.jsx(jl,{name:"underline",value:"underline",checked:n.underline,onChange:e,children:B.jsx(ki,{name:"underline","aria-label":"underline"})})]}),B.jsx("div",{className:"global-styles__control-row",children:B.jsx(Uf,{label:"Font size",name:"fontSize",min:14,max:64,markers:[16],value:n.fontSize,onChange:e,className:"full-width"})}),B.jsx("div",{className:"global-styles__control-row",children:B.jsxs(Ix,{label:"Alignment",children:[B.jsx(jl,{name:"alignment",value:"left",type:"radio",checked:n.alignment==="left"||n.alignment==="start",onChange:e,children:B.jsx(ki,{name:"alignLeft","aria-label":"left"})}),B.jsx(jl,{name:"alignment",value:"center",type:"radio",checked:n.alignment==="center"||!n.alignment,onChange:e,children:B.jsx(ki,{name:"alignCenter","aria-label":"center"})}),B.jsx(jl,{name:"alignment",value:"right",type:"radio",checked:n.alignment==="right"||n.alignment==="end",onChange:e,children:B.jsx(ki,{name:"alignRight","aria-label":"right"})})]})}),B.jsxs("div",{className:"global-styles__control-row",children:[B.jsx(Lx,{warnings:[a3(n.fill,n.box.color,n.stroke.color,n.stroke.width)],className:"global-styles__warning"}),B.jsxs("label",{children:["Fill",B.jsx("input",{type:"color",name:"fill",value:n.fill,onChange:e})]}),B.jsxs("label",{children:["Stroke",B.jsx("input",{type:"color",name:"stroke.color",value:n.stroke.color,onChange:e})]}),B.jsxs("label",{children:[B.jsx("span",{className:"sr-only",children:"Stroke width"}),B.jsx("input",{type:"number",name:"stroke.width",min:0,value:n.stroke.width,onChange:e})]})]})]}),B.jsx(wT,{position:n.position,onInput:e,className:"global-styles__section"}),B.jsxs("section",{className:"global-styles__section",children:[B.jsx("h3",{children:"Box"}),B.jsx("div",{className:"global-styles__control-row",children:B.jsxs("label",{children:["Background color",B.jsx("input",{type:"color",name:"box.color",value:n.box.color,onChange:e})]})}),B.jsx("div",{className:"global-styles__control-row",children:B.jsx(Uf,{label:"Opacity",name:"box.opacity",min:0,max:255,value:n.box.opacity,onChange:e,className:"full-width"})}),B.jsx("div",{className:"global-styles__control-row",children:B.jsxs("fieldset",{className:"global-styles__padding-controls full-width",children:[B.jsx("legend",{children:"Padding"}),B.jsxs("label",{children:[B.jsx("span",{className:"sr-only",children:"Top"}),B.jsx("input",{type:"number",name:"box.padding.top",value:n.box.padding.top,onChange:e,min:0,className:"global-styles__padding-controls-input"})]}),B.jsxs("label",{children:[B.jsx("span",{className:"sr-only",children:"Right"}),B.jsx("input",{type:"number",name:"box.padding.right",value:n.box.padding.right,onChange:e,min:0,className:"global-styles__padding-controls-input"})]}),B.jsxs("label",{children:[B.jsx("span",{className:"sr-only",children:"Bottom"}),B.jsx("input",{type:"number",name:"box.padding.bottom",value:n.box.padding.bottom,onChange:e,min:0,className:"global-styles__padding-controls-input"})]}),B.jsxs("label",{children:[B.jsx("span",{className:"sr-only",children:"Left"}),B.jsx("input",{type:"number",name:"box.padding.left",value:n.box.padding.left,onChange:e,min:0,className:"global-styles__padding-controls-input"})]})]})})]}),B.jsxs("section",{className:"global-styles__section",children:[B.jsx("h3",{children:"Shadow"}),n.shadow.map((o,a)=>B.jsx(hA,{shadowStyles:o,index:a,onRemoveShadow:i,onChange:e},a)),B.jsx("div",{className:"controls-row",children:B.jsx("button",{type:"button",className:"button",onClick:t,children:"Add Shadow"})})]}),B.jsxs("section",{className:"global-styles__section",children:[B.jsx("h3",{children:"Transitions"}),B.jsxs("div",{className:"global-styles__transition-container",children:[B.jsxs("fieldset",{className:"global-styles__transition-controls global-styles__transition-start",children:[B.jsx("legend",{className:"global-styles__transition-controls-legend",children:"Start"}),B.jsxs("label",{className:"global-styles__transition-controls-preset",children:[B.jsx("span",{className:"sr-only",children:"Preset"}),B.jsxs("select",{name:"transition.start.preset",value:n.transition.start.preset,onChange:e,children:[B.jsx("option",{value:"none",children:"None"}),B.jsx("option",{value:"fade-in",children:"Fade-in"}),B.jsx("option",{value:"slide-in",children:"Slide-in Bottom"}),B.jsx("option",{value:"slide-in-top",children:"Slide-in Top"}),B.jsx("option",{value:"slide-in-left",children:"Slide-in Left"}),B.jsx("option",{value:"blur-in",children:"Blur"}),B.jsx("option",{value:"scale-up-in",children:"Scale-up"}),B.jsx("option",{value:"scale-down-in",children:"Scale-down"})]})]}),B.jsxs("label",{children:[B.jsx("span",{className:"sr-only",children:"Duration"}),B.jsx("input",{type:"number",name:"transition.start.duration",min:0,step:.1,value:n.transition.start.duration,onChange:e,className:"global-styles__transition-controls-input"})]}),B.jsxs("label",{children:[B.jsx("span",{className:"sr-only",children:"Easing"}),B.jsxs("select",{name:"transition.start.easing",value:n.transition.start.easing,onChange:e,children:[B.jsx("option",{value:"linear",children:"Linear"}),B.jsx("option",{value:"ease",children:"Ease"}),B.jsx("option",{value:"ease-in",children:"Ease-in"}),B.jsx("option",{value:"ease-out",children:"Ease-out"}),B.jsx("option",{value:"ease-in-out",children:"Ease-in-out"})]})]})]}),B.jsxs("fieldset",{className:"global-styles__transition-controls global-styles__transition-end",children:[B.jsx("legend",{className:"global-styles__transition-controls-legend",children:"End"}),B.jsxs("label",{className:"global-styles__transition-controls-preset",children:[B.jsx("span",{className:"sr-only",children:"Preset"}),B.jsxs("select",{name:"transition.end.preset",value:n.transition.end.preset,onChange:e,children:[B.jsx("option",{value:"none",children:"None"}),B.jsx("option",{value:"fade-out",children:"Fade-out"}),B.jsx("option",{value:"slide-out",children:"Slide-out Bottom"}),B.jsx("option",{value:"slide-out-top",children:"Slide-out Top"}),B.jsx("option",{value:"slide-out-left",children:"Slide-out Left"}),B.jsx("option",{value:"blur-out",children:"Blur"}),B.jsx("option",{value:"scale-up-out",children:"Scale-up"}),B.jsx("option",{value:"scale-down-out",children:"Scale-down"})]})]}),B.jsxs("label",{children:[B.jsx("span",{className:"sr-only",children:"Duration"}),B.jsx("input",{type:"number",name:"transition.end.duration",min:0,step:.1,value:n.transition.end.duration,onChange:e,className:"global-styles__transition-controls-input"})]}),B.jsxs("label",{children:[B.jsx("span",{className:"sr-only",children:"Easing"}),B.jsxs("select",{name:"transition.end.easing",value:n.transition.end.easing,onChange:e,children:[B.jsx("option",{value:"linear",children:"Linear"}),B.jsx("option",{value:"ease",children:"Ease"}),B.jsx("option",{value:"ease-in",children:"Ease-in"}),B.jsx("option",{value:"ease-out",children:"Ease-out"}),B.jsx("option",{value:"ease-in-out",children:"Ease-in-out"})]})]})]})]})]})]})}),wT=({position:n,onInput:e,className:t=""})=>B.jsxs("section",{className:`position-controls ${t}`,children:[B.jsx("h3",{children:"Position"}),B.jsx("div",{className:"control-row",children:B.jsx(Uf,{label:"Horizontal",name:"position.horizontal",min:0,max:100,markers:[50],value:n.horizontal,unit:"%",onChange:e,className:"full-width"})}),B.jsx("div",{className:"control-row",children:n.useLines?B.jsxs("label",{children:["Vertical",B.jsx("input",{type:"number",name:"position.vertical",value:n.vertical,onChange:e})]}):B.jsx(Uf,{label:"Vertical",name:"position.vertical",min:0,max:100,markers:[50,80],value:n.vertical,unit:"%",onChange:e,className:"full-width"})}),B.jsx("div",{className:"control-row",children:B.jsxs("label",{children:[B.jsx("input",{type:"checkbox",name:"position.useLines",checked:n.useLines,onChange:e}),"Use Lines"]})})]});function _T(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=_T(n[e]))&&(i&&(i+=" "),i+=t);else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function ds(){for(var n,e,t=0,i="";t<arguments.length;)(n=arguments[t++])&&(e=_T(n))&&(i&&(i+=" "),i+=e);return i}var xT=q.createContext({}),g3=()=>q.useContext(xT),v3=n=>_t.createElement(xT.Provider,{...n});function y3(){let n=new Map;return{on(e,t){return n.has(e)?n.get(e).add(t):n.set(e,new Set([t])),this},off(e,t){return n.has(e)&&n.get(e).delete(t),this},emit(e,t){return n.has(e)&&n.get(e).forEach(i=>{i(t)}),this}}}var yy=y3(),b3=()=>q.useRef(new Map).current,S3=()=>{},y_=["resize","contextmenu","click","scroll","blur"],l1={show({event:n,id:e,props:t,position:i}){n.preventDefault&&n.preventDefault(),yy.emit(0).emit(e,{event:n.nativeEvent||n,props:t,position:i})},hideAll(){yy.emit(0)}};function w3(n){return{show(e){l1.show({...n,...e})},hideAll(){l1.hideAll()}}}function _3(){let n=new Map,e,t,i,r,o=!1;function a(N){r=Array.from(N.values()),e=-1,i=!0}function f(){r[e].node.focus()}let d=()=>e>=0&&r[e].isSubmenu,m=()=>Array.from(r[e].submenuRefTracker.values());function y(){return e===-1?(x(),!1):!0}function x(){e+1<r.length?e++:e+1===r.length&&(e=0),o&&O(),f()}function T(){e===-1||e===0?e=r.length-1:e-1<r.length&&e--,o&&O(),f()}function R(){if(y()&&d()){let N=m(),{node:H,setSubmenuPosition:V}=r[e];return n.set(H,{isRoot:i,focusedIndex:e,parentNode:t||H,items:r}),V(),H.classList.add("contexify_submenu-isOpen"),t=H,N.length>0?(e=0,r=N):o=!0,i=!1,f(),!0}return!1}function O(){if(y()&&!i){let N=n.get(t);t.classList.remove("contexify_submenu-isOpen"),r=N.items,t=N.parentNode,N.isRoot&&(i=!0,n.clear()),o||(e=N.focusedIndex,f())}}function k(N){function H(V){for(let Z of V)Z.isSubmenu&&Z.submenuRefTracker&&H(Array.from(Z.submenuRefTracker.values())),Z.keyMatcher&&Z.keyMatcher(N)}H(r)}return{init:a,moveDown:x,moveUp:T,openSubmenu:R,closeSubmenu:O,matchKeys:k}}function $m(n){return typeof n=="function"}function b_(n){return typeof n=="string"}function x3(n,e){return q.Children.map(q.Children.toArray(n).filter(Boolean),t=>q.cloneElement(t,e))}function C3(n){let e={x:n.clientX,y:n.clientY},t=n.changedTouches;return t&&(e.x=t[0].clientX,e.y=t[0].clientY),(!e.x||e.x<0)&&(e.x=0),(!e.y||e.y<0)&&(e.y=0),e}function S_(n,e){return $m(n)?n(e):n}function T3(n,e){return{...n,...$m(e)?e(n):e}}var E3=({id:n,theme:e,style:t,className:i,children:r,animation:o="fade",preventDefaultOnKeydown:a=!0,disableBoundariesCheck:f=!1,onVisibilityChange:d,...m})=>{let[y,x]=q.useReducer(T3,{x:0,y:0,visible:!1,triggerEvent:{},propsFromTrigger:null,willLeave:!1}),T=q.useRef(null),R=b3(),[O]=q.useState(()=>_3()),k=q.useRef(),N=q.useRef();q.useEffect(()=>(yy.on(n,V).on(0,Z),()=>{yy.off(n,V).off(0,Z)}),[n,o,f]),q.useEffect(()=>{y.visible?O.init(R):R.clear()},[y.visible,O,R]);function H(ke,qe){if(T.current&&!f){let{innerWidth:lt,innerHeight:Oe}=window,{offsetWidth:Je,offsetHeight:Ze}=T.current;ke+Je>lt&&(ke-=ke+Je-lt),qe+Ze>Oe&&(qe-=qe+Ze-Oe)}return{x:ke,y:qe}}q.useEffect(()=>{y.visible&&x(H(y.x,y.y))},[y.visible]),q.useEffect(()=>{function ke(lt){a&&lt.preventDefault()}function qe(lt){switch(lt.key){case"Enter":case" ":O.openSubmenu()||Z();break;case"Escape":Z();break;case"ArrowUp":ke(lt),O.moveUp();break;case"ArrowDown":ke(lt),O.moveDown();break;case"ArrowRight":ke(lt),O.openSubmenu();break;case"ArrowLeft":ke(lt),O.closeSubmenu();break;default:O.matchKeys(lt);break}}if(y.visible){window.addEventListener("keydown",qe);for(let lt of y_)window.addEventListener(lt,Z)}return()=>{window.removeEventListener("keydown",qe);for(let lt of y_)window.removeEventListener(lt,Z)}},[y.visible,O,a]);function V({event:ke,props:qe,position:lt}){ke.stopPropagation();let Oe=lt||C3(ke),{x:Je,y:Ze}=H(Oe.x,Oe.y);s1.flushSync(()=>{x({visible:!0,willLeave:!1,x:Je,y:Ze,triggerEvent:ke,propsFromTrigger:qe})}),clearTimeout(N.current),!k.current&&$m(d)&&(d(!0),k.current=!0)}function Z(ke){ke!=null&&(ke.button===2||ke.ctrlKey)&&ke.type!=="contextmenu"||(o&&(b_(o)||"exit"in o&&o.exit)?x(qe=>({willLeave:qe.visible})):x(qe=>({visible:qe.visible?!1:qe.visible})),N.current=setTimeout(()=>{$m(d)&&d(!1),k.current=!1}))}function J(){y.willLeave&&y.visible&&s1.flushSync(()=>x({visible:!1,willLeave:!1}))}function se(){return b_(o)?ds({[`contexify_willEnter-${o}`]:me&&!Pe,[`contexify_willLeave-${o} contexify_willLeave-'disabled'`]:me&&Pe}):o&&"enter"in o&&"exit"in o?ds({[`contexify_willEnter-${o.enter}`]:o.enter&&me&&!Pe,[`contexify_willLeave-${o.exit} contexify_willLeave-'disabled'`]:o.exit&&me&&Pe}):null}let{visible:me,triggerEvent:G,propsFromTrigger:ue,x:ge,y:xe,willLeave:Pe}=y,Xe=ds("contexify",i,{[`contexify_theme-${e}`]:e},se());return _t.createElement(v3,{value:R},me&&_t.createElement("div",{...m,className:Xe,onAnimationEnd:J,style:{...t,left:ge,top:xe,opacity:1},ref:T,role:"menu"},x3(r,{propsFromTrigger:ue,triggerEvent:G})))},Cb=({id:n,children:e,className:t,style:i,triggerEvent:r,data:o,propsFromTrigger:a,keyMatcher:f,onClick:d=S3,disabled:m=!1,hidden:y=!1,closeOnClick:x=!0,handlerEvent:T="onClick",...R})=>{let O=q.useRef(),k=g3(),N={id:n,data:o,triggerEvent:r,props:a},H=S_(m,N),V=S_(y,N);function Z(G){N.event=G,G.stopPropagation(),H||(x?J():d(N))}function J(){let G=O.current;G.focus(),G.addEventListener("animationend",()=>setTimeout(l1.hideAll),{once:!0}),G.classList.add("contexify_item-feedback"),d(N)}function se(G){G&&!H&&(O.current=G,k.set(G,{node:G,isSubmenu:!1,keyMatcher:!H&&$m(f)&&(ue=>{f(ue)&&(ue.stopPropagation(),ue.preventDefault(),N.event=ue,J())})}))}function me(G){(G.key==="Enter"||G.key===" ")&&(G.stopPropagation(),N.event=G,J())}return V?null:_t.createElement("div",{...R,[T]:Z,className:ds("contexify_item",t,{"contexify_item-disabled":H}),style:i,onKeyDown:me,ref:se,tabIndex:-1,role:"menuitem","aria-disabled":H},_t.createElement("div",{className:"contexify_itemContent"},e))};const R3=({presets:n,selectedPreset:e,globalStyles:t,onAddPreset:i,onAddEmptyPreset:r,onRemovePreset:o,onUpdatePreset:a,onRenamePreset:f,onSelectPreset:d,onExportPreset:m,onImportPreset:y,className:x=""})=>{const[T,R]=q.useState(!1),[O,k]=PO(1e3),N=q.useRef(null),{show:H}=w3(),V=(G,ue)=>{const ge=prompt("Enter new preset name",G.name);ge&&f(ue,$v(ge,n))},Z=()=>{const G=prompt("Enter preset name");G&&i($v(G,n)),k()},J=()=>{const G=prompt("Enter preset name");G&&r($v(G,n)),k()},se=()=>{e&&a(n.indexOf(e)),k()},me=G=>{d(G),R(!1)};return Px(N,()=>R(!1)),B.jsxs("div",{className:`presets ${x}`,children:[B.jsxs("div",{className:`presets__select ${T?"presets__select--active":""}`,ref:N,children:[B.jsxs("button",{className:"presets__select-button",onClick:()=>R(!T),type:"button",children:[B.jsx("div",{className:"presets__selected-option",children:e?B.jsxs("div",{className:`presets__option-preview cue ${hu(e.name)}`,children:[B.jsx("span",{className:`presets__option-preview__text ${O?"presets__option-preview__text__saving":""} cue__text`,children:e.name}),!e.builtIn&&!Ff.isEqual(e.styles,t)&&B.jsx("span",{className:"presets__unsaved-indicator",title:"unsaved changes"})]}):B.jsx("div",{className:"presets__option-preview",children:B.jsx("span",{children:"None"})})}),B.jsx("span",{className:`presets__select-marker ${T?"presets__select-marker--active":""}`})]}),T&&B.jsxs("div",{className:"presets__select-popover",children:[B.jsxs("section",{className:"presets__preset-section",children:[B.jsx("h4",{children:"Built-in"}),B.jsxs("ul",{className:"presets__options",children:[B.jsx("li",{className:"presets__option",children:B.jsx("button",{className:"presets__option-preview",onClick:()=>me(null),children:B.jsx("span",{children:"None"})})}),n.map((G,ue)=>G.builtIn&&B.jsx("li",{className:"presets__option",children:B.jsx("button",{className:"presets__option-preview cue",onClick:()=>me(G),children:B.jsx("span",{className:`presets__option-preview__text cue__text ${hu(G.name)}`,children:G.name})})},ue))]})]}),B.jsxs("section",{className:"presets__preset-section",children:[B.jsx("h4",{children:"Custom"}),B.jsxs("div",{className:"presets__add-buttons",children:[B.jsxs("button",{type:"button",className:"button button--primary",onClick:J,children:[B.jsx(ki,{name:"add"}),"Add Preset"]}),B.jsx("button",{type:"button",className:"button",onClick:y,children:"Import Preset..."})]}),B.jsx("ul",{className:"presets__options",children:n.map((G,ue)=>!G.builtIn&&B.jsxs("li",{className:"presets__option",onContextMenu:ge=>H({id:`menu${ue}`,event:ge}),children:[B.jsx("button",{className:"presets__option-preview cue",onClick:()=>me(G),children:B.jsx("span",{className:`presets__option-preview__text cue__text ${hu(G.name)}`,children:G.name})}),B.jsx("button",{className:"presets__option-more-button",onClick:ge=>H({id:`menu${ue}`,event:ge}),children:B.jsx(ki,{name:"more",className:"presets__option-more-icon"})}),B.jsxs(E3,{id:`menu${ue}`,children:[B.jsx(Cb,{onClick:()=>V(G,ue),children:"Rename"}),B.jsx(Cb,{onClick:()=>m(G),children:"Export"}),B.jsx(Cb,{onClick:()=>o(ue),children:"Delete"})]})]},ue))})]})]})]}),B.jsxs("div",{className:"presets__save-buttons",children:[B.jsx("button",{type:"button",className:"button button--primary",disabled:!e||e.builtIn||Ff.isEqual(e.styles,t),onClick:se,children:"Save"}),B.jsx("button",{type:"button",className:"button",onClick:Z,children:"Save as..."})]})]})},M3=({cues:n,framerate:e,activeCueIndex:t,selectedCueIndex:i,onUpdateCue:r,onSelectCue:o,className:a=""})=>{const[f,d]=q.useState([]),m=q.useCallback(k=>{k&&RO(k)},[i]),y=(k,N)=>{try{const H=nw(f[N].startTimecode,e),V=nw(f[N].endTimecode,e);if(H>V)throw new RangeError("Start time cannot be greater than end time");r(N,{startTime:H,endTime:V}),rw(k.target)}catch(H){H instanceof RangeError?iw(k.target,"Start time cannot be greater than end time"):iw(k.target,"Invalid timecode")}},x=(k,N,H)=>{d(f.map((V,Z)=>Z===N?{...V,[H]:k.target.value}:V)),rw(k.target)},T=(k,N)=>{r(N,{text:k.target.value})},R=(k,N)=>{r(N,{id:k.target.value})},O=k=>{k!==-1&&o(k)};return q.useEffect(()=>{d(n.map(k=>({cue:k,startTimecode:tw(k.startTime,e),endTimecode:tw(k.endTime,e)})))},[n]),B.jsx("section",{className:`text-controls ${a}`,children:f.length?B.jsx("ul",{className:"text-controls__cue-list",children:f.map((k,N)=>B.jsxs("li",{className:"text-controls__cue-item",ref:i===N?m:void 0,children:[B.jsx(Lx,{warnings:[d3(k.cue.text),f3(k.cue.text),c3(k.cue.text,k.cue.startTime,k.cue.endTime),u3(k.cue.startTime,k.cue.endTime),f[N+1]?h3(k.cue.endTime,f[N+1].cue.startTime,e):null].filter(H=>!!H),className:"text-controls__warning"}),B.jsxs("button",{className:`text-controls__cue ${i===N?"text-controls__cue--selected":""} ${t===N?"text-controls__cue--active":""}`,onFocusCapture:()=>O(N),children:[B.jsx("input",{className:"text-controls__input",type:"text",value:k.cue.id,onChange:H=>R(H,N)}),B.jsx("input",{className:"text-controls__input",type:"text",value:k.startTimecode,onChange:H=>x(H,N,"startTimecode"),onBlur:H=>y(H,N)}),B.jsx("input",{className:"text-controls__input",type:"text",value:k.endTimecode,onChange:H=>x(H,N,"endTimecode"),onBlur:H=>y(H,N)}),B.jsx("textarea",{className:"text-controls__textarea",value:k.cue.text,onChange:H=>T(H,N)})]})]},N))}):B.jsx("div",{className:"text-controls__empty",children:B.jsx("p",{children:"No cues available"})})})};function Di(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function nd(n){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(n)}function O3(n,e){if(nd(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(nd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function CT(n){var e=O3(n,"string");return nd(e)=="symbol"?e:e+""}function w_(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,CT(i.key),i)}}function zi(n,e,t){return e&&w_(n.prototype,e),t&&w_(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function A3(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function vs(n,e){if(e&&(nd(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A3(n)}function On(n){return On=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},On(n)}function a1(n,e){return a1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},a1(n,e)}function ys(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&a1(n,e)}function we(n,e,t){return(e=CT(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TT(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function ET(n){function e(t){var i=this.constructor.getDerivedStateFromProps(n,t);return i??null}this.setState(e.bind(this))}function RT(n,e){try{var t=this.props,i=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,i)}finally{this.props=t,this.state=i}}TT.__suppressDeprecationWarning=!0;ET.__suppressDeprecationWarning=!0;RT.__suppressDeprecationWarning=!0;function Km(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,i=null,r=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?i="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(i="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?r="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(r="UNSAFE_componentWillUpdate"),t!==null||i!==null||r!==null){var o=n.displayName||n.name,a=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+a+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(i!==null?`
  `+i:"")+(r!==null?`
  `+r:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=TT,e.componentWillReceiveProps=ET),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=RT;var f=e.componentDidUpdate;e.componentDidUpdate=function(m,y,x){var T=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:x;f.call(this,m,y,T)}}return n}function __(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function x_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?__(Object(t),!0).forEach(function(i){we(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):__(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function k3(n,e,t){return e=On(e),vs(n,MT()?Reflect.construct(e,t||[],On(n).constructor):e.apply(n,t))}function MT(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MT=function(){return!!n})()}var OT=function(n){function e(){var t;Di(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=k3(this,e,[].concat(r)),we(t,"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),we(t,"_columnStartIndex",0),we(t,"_columnStopIndex",0),we(t,"_rowStartIndex",0),we(t,"_rowStopIndex",0),we(t,"_onKeyDown",function(a){var f=t.props,d=f.columnCount,m=f.disabled,y=f.mode,x=f.rowCount;if(!m){var T=t._getScrollState(),R=T.scrollToColumn,O=T.scrollToRow,k=t._getScrollState(),N=k.scrollToColumn,H=k.scrollToRow;switch(a.key){case"ArrowDown":H=Math.min(y==="cells"?H+1:t._rowStopIndex+1,x-1);break;case"ArrowLeft":N=Math.max(y==="cells"?N-1:t._columnStartIndex-1,0);break;case"ArrowRight":N=Math.min(y==="cells"?N+1:t._columnStopIndex+1,d-1);break;case"ArrowUp":H=Math.max(y==="cells"?H-1:t._rowStartIndex-1,0);break}(N!==R||H!==O)&&(a.preventDefault(),t._updateScrollState({scrollToColumn:N,scrollToRow:H}))}}),we(t,"_onSectionRendered",function(a){var f=a.columnStartIndex,d=a.columnStopIndex,m=a.rowStartIndex,y=a.rowStopIndex;t._columnStartIndex=f,t._columnStopIndex=d,t._rowStartIndex=m,t._rowStopIndex=y}),t}return ys(e,n),zi(e,[{key:"setScrollIndexes",value:function(i){var r=i.scrollToColumn,o=i.scrollToRow;this.setState({scrollToRow:o,scrollToColumn:r})}},{key:"render",value:function(){var i=this.props,r=i.className,o=i.children,a=this._getScrollState(),f=a.scrollToColumn,d=a.scrollToRow;return q.createElement("div",{className:r,onKeyDown:this._onKeyDown},o({onSectionRendered:this._onSectionRendered,scrollToColumn:f,scrollToRow:d}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(i){var r=i.scrollToColumn,o=i.scrollToRow,a=this.props,f=a.isControlled,d=a.onScrollToChange;typeof d=="function"&&d({scrollToColumn:r,scrollToRow:o}),f||this.setState({scrollToColumn:r,scrollToRow:o})}}],[{key:"getDerivedStateFromProps",value:function(i,r){return i.isControlled?{}:i.scrollToColumn!==r.instanceProps.prevScrollToColumn||i.scrollToRow!==r.instanceProps.prevScrollToRow?x_(x_({},r),{},{scrollToColumn:i.scrollToColumn,scrollToRow:i.scrollToRow,instanceProps:{prevScrollToColumn:i.scrollToColumn,prevScrollToRow:i.scrollToRow}}):{}}}])}(q.PureComponent);we(OT,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0});Km(OT);function AT(n,e){var t;typeof e<"u"?t=e:typeof window<"u"?t=window:typeof self<"u"?t=self:t=global;var i=typeof t.document<"u"&&t.document.attachEvent;if(!i){var r=function(){var G=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(ue){return t.setTimeout(ue,20)};return function(ue){return G(ue)}}(),o=function(){var G=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout;return function(ue){return G(ue)}}(),a=function(ue){var ge=ue.__resizeTriggers__,xe=ge.firstElementChild,Pe=ge.lastElementChild,Xe=xe.firstElementChild;Pe.scrollLeft=Pe.scrollWidth,Pe.scrollTop=Pe.scrollHeight,Xe.style.width=xe.offsetWidth+1+"px",Xe.style.height=xe.offsetHeight+1+"px",xe.scrollLeft=xe.scrollWidth,xe.scrollTop=xe.scrollHeight},f=function(ue){return ue.offsetWidth!=ue.__resizeLast__.width||ue.offsetHeight!=ue.__resizeLast__.height},d=function(ue){if(!(ue.target.className&&typeof ue.target.className.indexOf=="function"&&ue.target.className.indexOf("contract-trigger")<0&&ue.target.className.indexOf("expand-trigger")<0)){var ge=this;a(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=r(function(){f(ge)&&(ge.__resizeLast__.width=ge.offsetWidth,ge.__resizeLast__.height=ge.offsetHeight,ge.__resizeListeners__.forEach(function(xe){xe.call(ge,ue)}))})}},m=!1,y="",x="animationstart",T="Webkit Moz O ms".split(" "),R="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),O="";{var k=t.document.createElement("fakeelement");if(k.style.animationName!==void 0&&(m=!0),m===!1){for(var N=0;N<T.length;N++)if(k.style[T[N]+"AnimationName"]!==void 0){O=T[N],y="-"+O.toLowerCase()+"-",x=R[N],m=!0;break}}}var H="resizeanim",V="@"+y+"keyframes "+H+" { from { opacity: 0; } to { opacity: 0; } } ",Z=y+"animation: 1ms "+H+"; "}var J=function(ue){if(!ue.getElementById("detectElementResize")){var ge=(V||"")+".resize-triggers { "+(Z||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',xe=ue.head||ue.getElementsByTagName("head")[0],Pe=ue.createElement("style");Pe.id="detectElementResize",Pe.type="text/css",n!=null&&Pe.setAttribute("nonce",n),Pe.styleSheet?Pe.styleSheet.cssText=ge:Pe.appendChild(ue.createTextNode(ge)),xe.appendChild(Pe)}},se=function(ue,ge){if(i)ue.attachEvent("onresize",ge);else{if(!ue.__resizeTriggers__){var xe=ue.ownerDocument,Pe=t.getComputedStyle(ue);Pe&&Pe.position=="static"&&(ue.style.position="relative"),J(xe),ue.__resizeLast__={},ue.__resizeListeners__=[],(ue.__resizeTriggers__=xe.createElement("div")).className="resize-triggers";var Xe=xe.createElement("div");Xe.className="expand-trigger",Xe.appendChild(xe.createElement("div"));var ke=xe.createElement("div");ke.className="contract-trigger",ue.__resizeTriggers__.appendChild(Xe),ue.__resizeTriggers__.appendChild(ke),ue.appendChild(ue.__resizeTriggers__),a(ue),ue.addEventListener("scroll",d,!0),x&&(ue.__resizeTriggers__.__animationListener__=function(lt){lt.animationName==H&&a(ue)},ue.__resizeTriggers__.addEventListener(x,ue.__resizeTriggers__.__animationListener__))}ue.__resizeListeners__.push(ge)}},me=function(ue,ge){if(i)ue.detachEvent("onresize",ge);else if(ue.__resizeListeners__.splice(ue.__resizeListeners__.indexOf(ge),1),!ue.__resizeListeners__.length){ue.removeEventListener("scroll",d,!0),ue.__resizeTriggers__.__animationListener__&&(ue.__resizeTriggers__.removeEventListener(x,ue.__resizeTriggers__.__animationListener__),ue.__resizeTriggers__.__animationListener__=null);try{ue.__resizeTriggers__=!ue.removeChild(ue.__resizeTriggers__)}catch{}}};return{addResizeListener:se,removeResizeListener:me}}function C_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function T_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C_(Object(t),!0).forEach(function(i){we(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function D3(n,e,t){return e=On(e),vs(n,kT()?Reflect.construct(e,t||[],On(n).constructor):e.apply(n,t))}function kT(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kT=function(){return!!n})()}var oS=function(n){function e(){var t;Di(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=D3(this,e,[].concat(r)),we(t,"state",{height:t.props.defaultHeight||0,width:t.props.defaultWidth||0}),we(t,"_parentNode",void 0),we(t,"_autoSizer",void 0),we(t,"_window",void 0),we(t,"_detectElementResize",void 0),we(t,"_onResize",function(){var a=t.props,f=a.disableHeight,d=a.disableWidth,m=a.onResize;if(t._parentNode){var y=t._parentNode.offsetHeight||0,x=t._parentNode.offsetWidth||0,T=t._window||window,R=T.getComputedStyle(t._parentNode)||{},O=parseInt(R.paddingLeft,10)||0,k=parseInt(R.paddingRight,10)||0,N=parseInt(R.paddingTop,10)||0,H=parseInt(R.paddingBottom,10)||0,V=y-N-H,Z=x-O-k;(!f&&t.state.height!==V||!d&&t.state.width!==Z)&&(t.setState({height:y-N-H,width:x-O-k}),m({height:y,width:x}))}}),we(t,"_setRef",function(a){t._autoSizer=a}),t}return ys(e,n),zi(e,[{key:"componentDidMount",value:function(){var i=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=AT(i,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var i=this.props,r=i.children,o=i.className,a=i.disableHeight,f=i.disableWidth,d=i.style,m=this.state,y=m.height,x=m.width,T={overflow:"visible"},R={};return a||(T.height=0,R.height=y),f||(T.width=0,R.width=x),q.createElement("div",{className:o,ref:this._setRef,style:T_(T_({},T),d)},r(R))}}])}(q.Component);we(oS,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});function z3(n,e,t){return e=On(e),vs(n,DT()?Reflect.construct(e,t||[],On(n).constructor):e.apply(n,t))}function DT(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DT=function(){return!!n})()}var N3=function(n){function e(){var t;Di(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=z3(this,e,[].concat(r)),we(t,"_child",q.createRef()),we(t,"_measure",function(){var a=t.props,f=a.cache,d=a.columnIndex,m=d===void 0?0:d,y=a.parent,x=a.rowIndex,T=x===void 0?t.props.index||0:x,R=t._getCellMeasurements(),O=R.height,k=R.width;(O!==f.getHeight(T,m)||k!==f.getWidth(T,m))&&(f.set(T,m,k,O),y&&typeof y.recomputeGridSize=="function"&&y.recomputeGridSize({columnIndex:m,rowIndex:T}))}),we(t,"_registerChild",function(a){a&&!(a instanceof Element)&&console.warn("CellMeasurer registerChild expects to be passed Element or null"),t._child.current=a,a&&t._maybeMeasureCell()}),t}return ys(e,n),zi(e,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var i=this,r=this.props.children,o=typeof r=="function"?r({measure:this._measure,registerChild:this._registerChild}):r;return o===null?o:q.cloneElement(o,{ref:function(f){typeof o.ref=="function"?o.ref(f):o.ref&&(o.ref.current=f),i._child.current=f}})}},{key:"_getCellMeasurements",value:function(){var i=this.props.cache,r=this._child.current;if(r&&r.ownerDocument&&r.ownerDocument.defaultView&&r instanceof r.ownerDocument.defaultView.HTMLElement){var o=r.style.width,a=r.style.height;i.hasFixedWidth()||(r.style.width="auto"),i.hasFixedHeight()||(r.style.height="auto");var f=Math.ceil(r.offsetHeight),d=Math.ceil(r.offsetWidth);return o&&(r.style.width=o),a&&(r.style.height=a),{height:f,width:d}}else return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var i=this.props,r=i.cache,o=i.columnIndex,a=o===void 0?0:o,f=i.parent,d=i.rowIndex,m=d===void 0?this.props.index||0:d;if(!r.has(m,a)){var y=this._getCellMeasurements(),x=y.height,T=y.width;r.set(m,a,T,x),f&&typeof f.invalidateCellSizeAfterRender=="function"&&f.invalidateCellSizeAfterRender({columnIndex:a,rowIndex:m})}}}])}(q.PureComponent);we(N3,"__internalCellMeasurerFlag",!1);function L3(n){if(n==null)throw new TypeError("Cannot destructure "+n)}function tl(){return tl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tl.apply(null,arguments)}function Th(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e={};return function(t){var i=t.callback,r=t.indices,o=Object.keys(r),a=!n||o.every(function(d){var m=r[d];return Array.isArray(m)?m.length>0:m>=0}),f=o.length!==Object.keys(e).length||o.some(function(d){var m=e[d],y=r[d];return Array.isArray(y)?m.join(",")!==y.join(","):m!==y});e=r,a&&f&&i(r)}}const P3=!!(typeof window<"u"&&window.document&&window.document.createElement);var jv;function u1(n){if((!jv&&jv!==0||n)&&P3){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),jv=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return jv}function E_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function R_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E_(Object(t),!0).forEach(function(i){we(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function I3(n,e,t){return e=On(e),vs(n,zT()?Reflect.construct(e,t||[],On(n).constructor):e.apply(n,t))}function zT(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zT=function(){return!!n})()}var j3=150,fh={OBSERVED:"observed",REQUESTED:"requested"},Uy=function(n){function e(){var t;Di(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=I3(this,e,[].concat(r)),we(t,"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),we(t,"_calculateSizeAndPositionDataOnNextUpdate",!1),we(t,"_onSectionRenderedMemoizer",Th()),we(t,"_onScrollMemoizer",Th(!1)),we(t,"_invokeOnSectionRenderedHelper",function(){var a=t.props,f=a.cellLayoutManager,d=a.onSectionRendered;t._onSectionRenderedMemoizer({callback:d,indices:{indices:f.getLastRenderedIndices()}})}),we(t,"_setScrollingContainerRef",function(a){t._scrollingContainer=a}),we(t,"_updateScrollPositionForScrollToCell",function(){var a=t.props,f=a.cellLayoutManager,d=a.height,m=a.scrollToAlignment,y=a.scrollToCell,x=a.width,T=t.state,R=T.scrollLeft,O=T.scrollTop;if(y>=0){var k=f.getScrollPositionForCell({align:m,cellIndex:y,height:d,scrollLeft:R,scrollTop:O,width:x});(k.scrollLeft!==R||k.scrollTop!==O)&&t._setScrollPosition(k)}}),we(t,"_onScroll",function(a){if(a.target===t._scrollingContainer){t._enablePointerEventsAfterDelay();var f=t.props,d=f.cellLayoutManager,m=f.height,y=f.isScrollingChange,x=f.width,T=t._scrollbarSize,R=d.getTotalSize(),O=R.height,k=R.width,N=Math.max(0,Math.min(k-x+T,a.target.scrollLeft)),H=Math.max(0,Math.min(O-m+T,a.target.scrollTop));if(t.state.scrollLeft!==N||t.state.scrollTop!==H){var V=a.cancelable?fh.OBSERVED:fh.REQUESTED;t.state.isScrolling||y(!0),t.setState({isScrolling:!0,scrollLeft:N,scrollPositionChangeReason:V,scrollTop:H})}t._invokeOnScrollMemoizer({scrollLeft:N,scrollTop:H,totalWidth:k,totalHeight:O})}}),t._scrollbarSize=u1(),t._scrollbarSize===void 0?(t._scrollbarSizeMeasured=!1,t._scrollbarSize=0):t._scrollbarSizeMeasured=!0,t}return ys(e,n),zi(e,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var i=this.props,r=i.cellLayoutManager,o=i.scrollLeft,a=i.scrollToCell,f=i.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=u1(),this._scrollbarSizeMeasured=!0,this.setState({})),a>=0?this._updateScrollPositionForScrollToCell():(o>=0||f>=0)&&this._setScrollPosition({scrollLeft:o,scrollTop:f}),this._invokeOnSectionRenderedHelper();var d=r.getTotalSize(),m=d.height,y=d.width;this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:f||0,totalHeight:m,totalWidth:y})}},{key:"componentDidUpdate",value:function(i,r){var o=this.props,a=o.height,f=o.scrollToAlignment,d=o.scrollToCell,m=o.width,y=this.state,x=y.scrollLeft,T=y.scrollPositionChangeReason,R=y.scrollTop;T===fh.REQUESTED&&(x>=0&&x!==r.scrollLeft&&x!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=x),R>=0&&R!==r.scrollTop&&R!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=R)),(a!==i.height||f!==i.scrollToAlignment||d!==i.scrollToCell||m!==i.width)&&this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var i=this.props,r=i.autoHeight,o=i.cellCount,a=i.cellLayoutManager,f=i.className,d=i.height,m=i.horizontalOverscanSize,y=i.id,x=i.noContentRenderer,T=i.style,R=i.verticalOverscanSize,O=i.width,k=this.state,N=k.isScrolling,H=k.scrollLeft,V=k.scrollTop;(this._lastRenderedCellCount!==o||this._lastRenderedCellLayoutManager!==a||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=o,this._lastRenderedCellLayoutManager=a,this._calculateSizeAndPositionDataOnNextUpdate=!1,a.calculateSizeAndPositionData());var Z=a.getTotalSize(),J=Z.height,se=Z.width,me=Math.max(0,H-m),G=Math.max(0,V-R),ue=Math.min(se,H+O+m),ge=Math.min(J,V+d+R),xe=d>0&&O>0?a.cellRenderers({height:ge-G,isScrolling:N,width:ue-me,x:me,y:G}):[],Pe={boxSizing:"border-box",direction:"ltr",height:r?"auto":d,position:"relative",WebkitOverflowScrolling:"touch",width:O,willChange:"transform"},Xe=J>d?this._scrollbarSize:0,ke=se>O?this._scrollbarSize:0;return Pe.overflowX=se+Xe<=O?"hidden":"auto",Pe.overflowY=J+ke<=d?"hidden":"auto",q.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:ds("ReactVirtualized__Collection",f),id:y,onScroll:this._onScroll,role:"grid",style:R_(R_({},Pe),T),tabIndex:0},o>0&&q.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:J,maxHeight:J,maxWidth:se,overflow:"hidden",pointerEvents:N?"none":"",width:se}},xe),o===0&&x())}},{key:"_enablePointerEventsAfterDelay",value:function(){var i=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){var r=i.props.isScrollingChange;r(!1),i._disablePointerEventsTimeoutId=null,i.setState({isScrolling:!1})},j3)}},{key:"_invokeOnScrollMemoizer",value:function(i){var r=this,o=i.scrollLeft,a=i.scrollTop,f=i.totalHeight,d=i.totalWidth;this._onScrollMemoizer({callback:function(y){var x=y.scrollLeft,T=y.scrollTop,R=r.props,O=R.height,k=R.onScroll,N=R.width;k({clientHeight:O,clientWidth:N,scrollHeight:f,scrollLeft:x,scrollTop:T,scrollWidth:d})},indices:{scrollLeft:o,scrollTop:a}})}},{key:"_setScrollPosition",value:function(i){var r=i.scrollLeft,o=i.scrollTop,a={scrollPositionChangeReason:fh.REQUESTED};r>=0&&(a.scrollLeft=r),o>=0&&(a.scrollTop=o),(r>=0&&r!==this.state.scrollLeft||o>=0&&o!==this.state.scrollTop)&&this.setState(a)}}],[{key:"getDerivedStateFromProps",value:function(i,r){return i.cellCount===0&&(r.scrollLeft!==0||r.scrollTop!==0)?{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:fh.REQUESTED}:i.scrollLeft!==r.scrollLeft||i.scrollTop!==r.scrollTop?{scrollLeft:i.scrollLeft!=null?i.scrollLeft:r.scrollLeft,scrollTop:i.scrollTop!=null?i.scrollTop:r.scrollTop,scrollPositionChangeReason:fh.REQUESTED}:null}}])}(q.PureComponent);we(Uy,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0});Uy.propTypes={};Km(Uy);var B3=function(){function n(e){var t=e.height,i=e.width,r=e.x,o=e.y;Di(this,n),this.height=t,this.width=i,this.x=r,this.y=o,this._indexMap={},this._indices=[]}return zi(n,[{key:"addCellIndex",value:function(t){var i=t.index;this._indexMap[i]||(this._indexMap[i]=!0,this._indices.push(i))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}])}(),H3=100,$3=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H3;Di(this,n),this._sectionSize=e,this._cellMetadata=[],this._sections={}}return zi(n,[{key:"getCellIndices",value:function(t){var i=t.height,r=t.width,o=t.x,a=t.y,f={};return this.getSections({height:i,width:r,x:o,y:a}).forEach(function(d){return d.getCellIndices().forEach(function(m){f[m]=m})}),Object.keys(f).map(function(d){return f[d]})}},{key:"getCellMetadata",value:function(t){var i=t.index;return this._cellMetadata[i]}},{key:"getSections",value:function(t){for(var i=t.height,r=t.width,o=t.x,a=t.y,f=Math.floor(o/this._sectionSize),d=Math.floor((o+r-1)/this._sectionSize),m=Math.floor(a/this._sectionSize),y=Math.floor((a+i-1)/this._sectionSize),x=[],T=f;T<=d;T++)for(var R=m;R<=y;R++){var O="".concat(T,".").concat(R);this._sections[O]||(this._sections[O]=new B3({height:this._sectionSize,width:this._sectionSize,x:T*this._sectionSize,y:R*this._sectionSize})),x.push(this._sections[O])}return x}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var t=this;return Object.keys(this._sections).map(function(i){return t._sections[i].toString()})}},{key:"registerCell",value:function(t){var i=t.cellMetadatum,r=t.index;this._cellMetadata[r]=i,this.getSections(i).forEach(function(o){return o.addCellIndex({index:r})})}}])}();function F3(n){for(var e=n.cellCount,t=n.cellSizeAndPositionGetter,i=n.sectionSize,r=[],o=new $3(i),a=0,f=0,d=0;d<e;d++){var m=t({index:d});if(m.height==null||isNaN(m.height)||m.width==null||isNaN(m.width)||m.x==null||isNaN(m.x)||m.y==null||isNaN(m.y))throw Error("Invalid metadata returned for cell ".concat(d,`:
        x:`).concat(m.x,", y:").concat(m.y,", width:").concat(m.width,", height:").concat(m.height));a=Math.max(a,m.y+m.height),f=Math.max(f,m.x+m.width),r[d]=m,o.registerCell({cellMetadatum:m,index:d})}return{cellMetadata:r,height:a,sectionManager:o,width:f}}function M_(n){var e=n.align,t=e===void 0?"auto":e,i=n.cellOffset,r=n.cellSize,o=n.containerSize,a=n.currentOffset,f=i,d=f-o+r;switch(t){case"start":return f;case"end":return d;case"center":return f-(o-r)/2;default:return Math.max(d,Math.min(f,a))}}function U3(n,e,t){return e=On(e),vs(n,NT()?Reflect.construct(e,t||[],On(n).constructor):e.apply(n,t))}function NT(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NT=function(){return!!n})()}var LT=function(n){function e(t,i){var r;return Di(this,e),r=U3(this,e,[t,i]),r._cellMetadata=[],r._lastRenderedCellIndices=[],r._cellCache=[],r._isScrollingChange=r._isScrollingChange.bind(r),r._setCollectionViewRef=r._setCollectionViewRef.bind(r),r}return ys(e,n),zi(e,[{key:"forceUpdate",value:function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var i=tl({},(L3(this.props),this.props));return q.createElement(Uy,tl({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},i))}},{key:"calculateSizeAndPositionData",value:function(){var i=this.props,r=i.cellCount,o=i.cellSizeAndPositionGetter,a=i.sectionSize,f=F3({cellCount:r,cellSizeAndPositionGetter:o,sectionSize:a});this._cellMetadata=f.cellMetadata,this._sectionManager=f.sectionManager,this._height=f.height,this._width=f.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(i){var r=i.align,o=i.cellIndex,a=i.height,f=i.scrollLeft,d=i.scrollTop,m=i.width,y=this.props.cellCount;if(o>=0&&o<y){var x=this._cellMetadata[o];f=M_({align:r,cellOffset:x.x,cellSize:x.width,containerSize:m,currentOffset:f}),d=M_({align:r,cellOffset:x.y,cellSize:x.height,containerSize:a,currentOffset:d})}return{scrollLeft:f,scrollTop:d}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(i){var r=this,o=i.height,a=i.isScrolling,f=i.width,d=i.x,m=i.y,y=this.props,x=y.cellGroupRenderer,T=y.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:o,width:f,x:d,y:m}),x({cellCache:this._cellCache,cellRenderer:T,cellSizeAndPositionGetter:function(O){var k=O.index;return r._sectionManager.getCellMetadata({index:k})},indices:this._lastRenderedCellIndices,isScrolling:a})}},{key:"_isScrollingChange",value:function(i){i||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(i){this._collectionView=i}}])}(q.PureComponent);we(LT,"defaultProps",{"aria-label":"grid",cellGroupRenderer:G3});LT.propTypes={};function G3(n){var e=n.cellCache,t=n.cellRenderer,i=n.cellSizeAndPositionGetter,r=n.indices,o=n.isScrolling;return r.map(function(a){var f=i({index:a}),d={index:a,isScrolling:o,key:a,style:{height:f.height,left:f.x,position:"absolute",top:f.y,width:f.width}};return o?(a in e||(e[a]=t(d)),e[a]):t(d)}).filter(function(a){return!!a})}function W3(n,e,t){return e=On(e),vs(n,PT()?Reflect.construct(e,t||[],On(n).constructor):e.apply(n,t))}function PT(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PT=function(){return!!n})()}var V3=function(n){function e(t,i){var r;return Di(this,e),r=W3(this,e,[t,i]),r._registerChild=r._registerChild.bind(r),r}return ys(e,n),zi(e,[{key:"componentDidUpdate",value:function(i){var r=this.props,o=r.columnMaxWidth,a=r.columnMinWidth,f=r.columnCount,d=r.width;(o!==i.columnMaxWidth||a!==i.columnMinWidth||f!==i.columnCount||d!==i.width)&&this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var i=this.props,r=i.children,o=i.columnMaxWidth,a=i.columnMinWidth,f=i.columnCount,d=i.width,m=a||1,y=o?Math.min(o,d):d,x=d/f;x=Math.max(m,x),x=Math.min(y,x),x=Math.floor(x);var T=Math.min(d,x*f);return r({adjustedWidth:T,columnWidth:x,getColumnWidth:function(){return x},registerChild:this._registerChild})}},{key:"_registerChild",value:function(i){if(i&&typeof i.recomputeGridSize!="function")throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=i,this._registeredChild&&this._registeredChild.recomputeGridSize()}}])}(q.PureComponent);V3.propTypes={};function O_(n){var e=n.cellCount,t=n.cellSize,i=n.computeMetadataCallback,r=n.computeMetadataCallbackProps,o=n.nextCellsCount,a=n.nextCellSize,f=n.nextScrollToIndex,d=n.scrollToIndex,m=n.updateScrollOffsetForScrollToIndex;(e!==o||(typeof t=="number"||typeof a=="number")&&t!==a)&&(i(r),d>=0&&d===f&&m())}function q3(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function Cm(n,e){if(n==null)return{};var t,i,r=q3(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)t=o[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}var Y3=function(){function n(e){var t=e.cellCount,i=e.cellSizeGetter,r=e.estimatedCellSize;Di(this,n),we(this,"_cellSizeAndPositionData",{}),we(this,"_lastMeasuredIndex",-1),we(this,"_lastBatchedIndex",-1),we(this,"_cellCount",void 0),we(this,"_cellSizeGetter",void 0),we(this,"_estimatedCellSize",void 0),this._cellSizeGetter=i,this._cellCount=t,this._estimatedCellSize=r}return zi(n,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(t){var i=t.cellCount,r=t.estimatedCellSize,o=t.cellSizeGetter;this._cellCount=i,this._estimatedCellSize=r,this._cellSizeGetter=o}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(t){if(t<0||t>=this._cellCount)throw Error("Requested index ".concat(t," is outside of range 0..").concat(this._cellCount));if(t>this._lastMeasuredIndex)for(var i=this.getSizeAndPositionOfLastMeasuredCell(),r=i.offset+i.size,o=this._lastMeasuredIndex+1;o<=t;o++){var a=this._cellSizeGetter({index:o});if(a===void 0||isNaN(a))throw Error("Invalid size returned for cell ".concat(o," of value ").concat(a));a===null?(this._cellSizeAndPositionData[o]={offset:r,size:0},this._lastBatchedIndex=t):(this._cellSizeAndPositionData[o]={offset:r,size:a},r+=a,this._lastMeasuredIndex=t)}return this._cellSizeAndPositionData[t]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var t=this.getSizeAndPositionOfLastMeasuredCell(),i=t.offset+t.size,r=this._cellCount-this._lastMeasuredIndex-1,o=r*this._estimatedCellSize;return i+o}},{key:"getUpdatedOffsetForIndex",value:function(t){var i=t.align,r=i===void 0?"auto":i,o=t.containerSize,a=t.currentOffset,f=t.targetIndex;if(o<=0)return 0;var d=this.getSizeAndPositionOfCell(f),m=d.offset,y=m-o+d.size,x;switch(r){case"start":x=m;break;case"end":x=y;break;case"center":x=m-(o-d.size)/2;break;default:x=Math.max(y,Math.min(m,a));break}var T=this.getTotalSize();return Math.max(0,Math.min(T-o,x))}},{key:"getVisibleCellRange",value:function(t){var i=t.containerSize,r=t.offset,o=this.getTotalSize();if(o===0)return{};var a=r+i,f=this._findNearestCell(r),d=this.getSizeAndPositionOfCell(f);r=d.offset+d.size;for(var m=f;r<a&&m<this._cellCount-1;)m++,r+=this.getSizeAndPositionOfCell(m).size;return{start:f,stop:m}}},{key:"resetCell",value:function(t){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,t-1)}},{key:"_binarySearch",value:function(t,i,r){for(;i<=t;){var o=i+Math.floor((t-i)/2),a=this.getSizeAndPositionOfCell(o).offset;if(a===r)return o;a<r?i=o+1:a>r&&(t=o-1)}return i>0?i-1:0}},{key:"_exponentialSearch",value:function(t,i){for(var r=1;t<this._cellCount&&this.getSizeAndPositionOfCell(t).offset<i;)t+=r,r*=2;return this._binarySearch(Math.min(t,this._cellCount-1),Math.floor(t/2),i)}},{key:"_findNearestCell",value:function(t){if(isNaN(t))throw Error("Invalid offset ".concat(t," specified"));t=Math.max(0,t);var i=this.getSizeAndPositionOfLastMeasuredCell(),r=Math.max(0,this._lastMeasuredIndex);return i.offset>=t?this._binarySearch(r,0,t):this._exponentialSearch(r,t)}}])}(),X3=15e5,K3=16777100,Z3=function(){return typeof window<"u"},Q3=function(){return!!window.chrome},J3=function(){return Z3()&&Q3()?K3:X3},e8=["maxScrollSize"],A_=function(){function n(e){var t=e.maxScrollSize,i=t===void 0?J3():t,r=Cm(e,e8);Di(this,n),we(this,"_cellSizeAndPositionManager",void 0),we(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new Y3(r),this._maxScrollSize=i}return zi(n,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(t){this._cellSizeAndPositionManager.configure(t)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(t){var i=t.containerSize,r=t.offset,o=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize(),f=this._getOffsetPercentage({containerSize:i,offset:r,totalSize:a});return Math.round(f*(a-o))}},{key:"getSizeAndPositionOfCell",value:function(t){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(t)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(t){var i=t.align,r=i===void 0?"auto":i,o=t.containerSize,a=t.currentOffset,f=t.targetIndex;a=this._safeOffsetToOffset({containerSize:o,offset:a});var d=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:o,currentOffset:a,targetIndex:f});return this._offsetToSafeOffset({containerSize:o,offset:d})}},{key:"getVisibleCellRange",value:function(t){var i=t.containerSize,r=t.offset;return r=this._safeOffsetToOffset({containerSize:i,offset:r}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:i,offset:r})}},{key:"resetCell",value:function(t){this._cellSizeAndPositionManager.resetCell(t)}},{key:"_getOffsetPercentage",value:function(t){var i=t.containerSize,r=t.offset,o=t.totalSize;return o<=i?0:r/(o-i)}},{key:"_offsetToSafeOffset",value:function(t){var i=t.containerSize,r=t.offset,o=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize();if(o===a)return r;var f=this._getOffsetPercentage({containerSize:i,offset:r,totalSize:o});return Math.round(f*(a-i))}},{key:"_safeOffsetToOffset",value:function(t){var i=t.containerSize,r=t.offset,o=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize();if(o===a)return r;var f=this._getOffsetPercentage({containerSize:i,offset:r,totalSize:a});return Math.round(f*(o-i))}}])}(),Bv=-1,uu=1;function t8(n){var e=n.cellCount,t=n.overscanCellsCount,i=n.scrollDirection,r=n.startIndex,o=n.stopIndex;return i===uu?{overscanStartIndex:Math.max(0,r),overscanStopIndex:Math.min(e-1,o+t)}:{overscanStartIndex:Math.max(0,r-t),overscanStopIndex:Math.min(e-1,o)}}function k_(n){var e=n.cellSize,t=n.cellSizeAndPositionManager,i=n.previousCellsCount,r=n.previousCellSize,o=n.previousScrollToAlignment,a=n.previousScrollToIndex,f=n.previousSize,d=n.scrollOffset,m=n.scrollToAlignment,y=n.scrollToIndex,x=n.size,T=n.sizeJustIncreasedFromZero,R=n.updateScrollIndexCallback,O=t.getCellCount(),k=y>=0&&y<O,N=x!==f||T||!r||typeof e=="number"&&e!==r;k&&(N||m!==o||y!==a)?R(y):!k&&O>0&&(x<f||O<i)&&d>t.getTotalSize()-x&&R(O-1)}function n8(n){for(var e=n.cellCache,t=n.cellRenderer,i=n.columnSizeAndPositionManager,r=n.columnStartIndex,o=n.columnStopIndex,a=n.deferredMeasurementCache,f=n.horizontalOffsetAdjustment,d=n.isScrolling,m=n.isScrollingOptOut,y=n.parent,x=n.rowSizeAndPositionManager,T=n.rowStartIndex,R=n.rowStopIndex,O=n.styleCache,k=n.verticalOffsetAdjustment,N=n.visibleColumnIndices,H=n.visibleRowIndices,V=[],Z=i.areOffsetsAdjusted()||x.areOffsetsAdjusted(),J=!d&&!Z,se=T;se<=R;se++)for(var me=x.getSizeAndPositionOfCell(se),G=r;G<=o;G++){var ue=i.getSizeAndPositionOfCell(G),ge=G>=N.start&&G<=N.stop&&se>=H.start&&se<=H.stop,xe="".concat(se,"-").concat(G),Pe=void 0;J&&O[xe]?Pe=O[xe]:a&&!a.has(se,G)?Pe={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(Pe={height:me.size,left:ue.offset+f,position:"absolute",top:me.offset+k,width:ue.size},O[xe]=Pe);var Xe={columnIndex:G,isScrolling:d,isVisible:ge,key:xe,parent:y,rowIndex:se,style:Pe},ke=void 0;(m||d)&&!f&&!k?(e[xe]||(e[xe]=t(Xe)),ke=e[xe]):ke=t(Xe),!(ke==null||ke===!1)&&(ke.props.role||(ke=_t.cloneElement(ke,{role:"gridcell"})),V.push(ke))}return V}var hs;typeof window<"u"?hs=window:typeof self<"u"?hs=self:hs={};var i8=hs.requestAnimationFrame||hs.webkitRequestAnimationFrame||hs.mozRequestAnimationFrame||hs.oRequestAnimationFrame||hs.msRequestAnimationFrame||function(n){return hs.setTimeout(n,1e3/60)},r8=hs.cancelAnimationFrame||hs.webkitCancelAnimationFrame||hs.mozCancelAnimationFrame||hs.oCancelAnimationFrame||hs.msCancelAnimationFrame||function(n){hs.clearTimeout(n)},D_=i8,s8=r8,Eh=function(e){return s8(e.id)},lS=function(e,t){var i;Promise.resolve().then(function(){i=Date.now()});var r=function(){Date.now()-i>=t?e.call():o.id=D_(r)},o={id:D_(r)};return o};function z_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function js(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?z_(Object(t),!0).forEach(function(i){we(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):z_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function o8(n,e,t){return e=On(e),vs(n,IT()?Reflect.construct(e,t||[],On(n).constructor):e.apply(n,t))}function IT(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IT=function(){return!!n})()}var l8=150,Tb={OBSERVED:"observed",REQUESTED:"requested"},a8=function(){return null},Ea=function(n){function e(t){var i;Di(this,e),i=o8(this,e,[t]),we(i,"_onGridRenderedMemoizer",Th()),we(i,"_onScrollMemoizer",Th(!1)),we(i,"_deferredInvalidateColumnIndex",null),we(i,"_deferredInvalidateRowIndex",null),we(i,"_recomputeScrollLeftFlag",!1),we(i,"_recomputeScrollTopFlag",!1),we(i,"_horizontalScrollBarSize",0),we(i,"_verticalScrollBarSize",0),we(i,"_scrollbarPresenceChanged",!1),we(i,"_scrollingContainer",void 0),we(i,"_childrenToDisplay",void 0),we(i,"_columnStartIndex",void 0),we(i,"_columnStopIndex",void 0),we(i,"_rowStartIndex",void 0),we(i,"_rowStopIndex",void 0),we(i,"_renderedColumnStartIndex",0),we(i,"_renderedColumnStopIndex",0),we(i,"_renderedRowStartIndex",0),we(i,"_renderedRowStopIndex",0),we(i,"_initialScrollTop",void 0),we(i,"_initialScrollLeft",void 0),we(i,"_disablePointerEventsTimeoutId",void 0),we(i,"_styleCache",{}),we(i,"_cellCache",{}),we(i,"_debounceScrollEndedCallback",function(){i._disablePointerEventsTimeoutId=null,i.setState({isScrolling:!1,needToResetStyleCache:!1})}),we(i,"_invokeOnGridRenderedHelper",function(){var a=i.props.onSectionRendered;i._onGridRenderedMemoizer({callback:a,indices:{columnOverscanStartIndex:i._columnStartIndex,columnOverscanStopIndex:i._columnStopIndex,columnStartIndex:i._renderedColumnStartIndex,columnStopIndex:i._renderedColumnStopIndex,rowOverscanStartIndex:i._rowStartIndex,rowOverscanStopIndex:i._rowStopIndex,rowStartIndex:i._renderedRowStartIndex,rowStopIndex:i._renderedRowStopIndex}})}),we(i,"_setScrollingContainerRef",function(a){i._scrollingContainer=a,typeof i.props.elementRef=="function"?i.props.elementRef(a):nd(i.props.elementRef)==="object"&&(i.props.elementRef.current=a)}),we(i,"_onScroll",function(a){a.target===i._scrollingContainer&&i.handleScrollEvent(a.target)});var r=new A_({cellCount:t.columnCount,cellSizeGetter:function(f){return e._wrapSizeGetter(t.columnWidth)(f)},estimatedCellSize:e._getEstimatedColumnSize(t)}),o=new A_({cellCount:t.rowCount,cellSizeGetter:function(f){return e._wrapSizeGetter(t.rowHeight)(f)},estimatedCellSize:e._getEstimatedRowSize(t)});return i.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:o,prevColumnWidth:t.columnWidth,prevRowHeight:t.rowHeight,prevColumnCount:t.columnCount,prevRowCount:t.rowCount,prevIsScrolling:t.isScrolling===!0,prevScrollToColumn:t.scrollToColumn,prevScrollToRow:t.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:uu,scrollDirectionVertical:uu,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},t.scrollToRow>0&&(i._initialScrollTop=i._getCalculatedScrollTop(t,i.state)),t.scrollToColumn>0&&(i._initialScrollLeft=i._getCalculatedScrollLeft(t,i.state)),i}return ys(e,n),zi(e,[{key:"getOffsetForCell",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=i.alignment,o=r===void 0?this.props.scrollToAlignment:r,a=i.columnIndex,f=a===void 0?this.props.scrollToColumn:a,d=i.rowIndex,m=d===void 0?this.props.scrollToRow:d,y=js(js({},this.props),{},{scrollToAlignment:o,scrollToColumn:f,scrollToRow:m});return{scrollLeft:this._getCalculatedScrollLeft(y),scrollTop:this._getCalculatedScrollTop(y)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(i){var r=i.scrollLeft,o=r===void 0?0:r,a=i.scrollTop,f=a===void 0?0:a;if(!(f<0)){this._debounceScrollEnded();var d=this.props,m=d.autoHeight,y=d.autoWidth,x=d.height,T=d.width,R=this.state.instanceProps,O=R.scrollbarSize,k=R.rowSizeAndPositionManager.getTotalSize(),N=R.columnSizeAndPositionManager.getTotalSize(),H=Math.min(Math.max(0,N-T+O),o),V=Math.min(Math.max(0,k-x+O),f);if(this.state.scrollLeft!==H||this.state.scrollTop!==V){var Z=H!==this.state.scrollLeft?H>this.state.scrollLeft?uu:Bv:this.state.scrollDirectionHorizontal,J=V!==this.state.scrollTop?V>this.state.scrollTop?uu:Bv:this.state.scrollDirectionVertical,se={isScrolling:!0,scrollDirectionHorizontal:Z,scrollDirectionVertical:J,scrollPositionChangeReason:Tb.OBSERVED};m||(se.scrollTop=V),y||(se.scrollLeft=H),se.needToResetStyleCache=!1,this.setState(se)}this._invokeOnScrollMemoizer({scrollLeft:H,scrollTop:V,totalColumnsWidth:N,totalRowsHeight:k})}}},{key:"invalidateCellSizeAfterRender",value:function(i){var r=i.columnIndex,o=i.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,r):r,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){var i=this.props,r=i.columnCount,o=i.rowCount,a=this.state.instanceProps;a.columnSizeAndPositionManager.getSizeAndPositionOfCell(r-1),a.rowSizeAndPositionManager.getSizeAndPositionOfCell(o-1)}},{key:"recomputeGridSize",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=i.columnIndex,o=r===void 0?0:r,a=i.rowIndex,f=a===void 0?0:a,d=this.props,m=d.scrollToColumn,y=d.scrollToRow,x=this.state.instanceProps;x.columnSizeAndPositionManager.resetCell(o),x.rowSizeAndPositionManager.resetCell(f),this._recomputeScrollLeftFlag=m>=0&&(this.state.scrollDirectionHorizontal===uu?o<=m:o>=m),this._recomputeScrollTopFlag=y>=0&&(this.state.scrollDirectionVertical===uu?f<=y:f>=y),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(i){var r=i.columnIndex,o=i.rowIndex,a=this.props.columnCount,f=this.props;a>1&&r!==void 0&&this._updateScrollLeftForScrollToColumn(js(js({},f),{},{scrollToColumn:r})),o!==void 0&&this._updateScrollTopForScrollToRow(js(js({},f),{},{scrollToRow:o}))}},{key:"componentDidMount",value:function(){var i=this.props,r=i.getScrollbarSize,o=i.height,a=i.scrollLeft,f=i.scrollToColumn,d=i.scrollTop,m=i.scrollToRow,y=i.width,x=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),x.scrollbarSizeMeasured||this.setState(function(O){var k=js(js({},O),{},{needToResetStyleCache:!1});return k.instanceProps.scrollbarSize=r(),k.instanceProps.scrollbarSizeMeasured=!0,k}),typeof a=="number"&&a>=0||typeof d=="number"&&d>=0){var T=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:a,scrollTop:d});T&&(T.needToResetStyleCache=!1,this.setState(T))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var R=o>0&&y>0;f>=0&&R&&this._updateScrollLeftForScrollToColumn(),m>=0&&R&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:a||0,scrollTop:d||0,totalColumnsWidth:x.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:x.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(i,r){var o=this,a=this.props,f=a.autoHeight,d=a.autoWidth,m=a.columnCount,y=a.height,x=a.rowCount,T=a.scrollToAlignment,R=a.scrollToColumn,O=a.scrollToRow,k=a.width,N=this.state,H=N.scrollLeft,V=N.scrollPositionChangeReason,Z=N.scrollTop,J=N.instanceProps;this._handleInvalidatedGridSize();var se=m>0&&i.columnCount===0||x>0&&i.rowCount===0;V===Tb.REQUESTED&&(!d&&H>=0&&(H!==this._scrollingContainer.scrollLeft||se)&&(this._scrollingContainer.scrollLeft=H),!f&&Z>=0&&(Z!==this._scrollingContainer.scrollTop||se)&&(this._scrollingContainer.scrollTop=Z));var me=(i.width===0||i.height===0)&&y>0&&k>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):k_({cellSizeAndPositionManager:J.columnSizeAndPositionManager,previousCellsCount:i.columnCount,previousCellSize:i.columnWidth,previousScrollToAlignment:i.scrollToAlignment,previousScrollToIndex:i.scrollToColumn,previousSize:i.width,scrollOffset:H,scrollToAlignment:T,scrollToIndex:R,size:k,sizeJustIncreasedFromZero:me,updateScrollIndexCallback:function(){return o._updateScrollLeftForScrollToColumn(o.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):k_({cellSizeAndPositionManager:J.rowSizeAndPositionManager,previousCellsCount:i.rowCount,previousCellSize:i.rowHeight,previousScrollToAlignment:i.scrollToAlignment,previousScrollToIndex:i.scrollToRow,previousSize:i.height,scrollOffset:Z,scrollToAlignment:T,scrollToIndex:O,size:y,sizeJustIncreasedFromZero:me,updateScrollIndexCallback:function(){return o._updateScrollTopForScrollToRow(o.props)}}),this._invokeOnGridRenderedHelper(),H!==r.scrollLeft||Z!==r.scrollTop){var G=J.rowSizeAndPositionManager.getTotalSize(),ue=J.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:H,scrollTop:Z,totalColumnsWidth:ue,totalRowsHeight:G})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&Eh(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var i=this.props,r=i.autoContainerWidth,o=i.autoHeight,a=i.autoWidth,f=i.className,d=i.containerProps,m=i.containerRole,y=i.containerStyle,x=i.height,T=i.id,R=i.noContentRenderer,O=i.role,k=i.style,N=i.tabIndex,H=i.width,V=this.state,Z=V.instanceProps,J=V.needToResetStyleCache,se=this._isScrolling(),me={boxSizing:"border-box",direction:"ltr",height:o?"auto":x,position:"relative",width:a?"auto":H,WebkitOverflowScrolling:"touch",willChange:"transform"};J&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var G=Z.columnSizeAndPositionManager.getTotalSize(),ue=Z.rowSizeAndPositionManager.getTotalSize(),ge=ue>x?Z.scrollbarSize:0,xe=G>H?Z.scrollbarSize:0;(xe!==this._horizontalScrollBarSize||ge!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=xe,this._verticalScrollBarSize=ge,this._scrollbarPresenceChanged=!0),me.overflowX=G+ge<=H?"hidden":"auto",me.overflowY=ue+xe<=x?"hidden":"auto";var Pe=this._childrenToDisplay,Xe=Pe.length===0&&x>0&&H>0;return q.createElement("div",tl({ref:this._setScrollingContainerRef},d,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:ds("ReactVirtualized__Grid",f),id:T,onScroll:this._onScroll,role:O,style:js(js({},me),k),tabIndex:N}),Pe.length>0&&q.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:m,style:js({width:r?"auto":G,height:ue,maxWidth:G,maxHeight:ue,overflow:"hidden",pointerEvents:se?"none":"",position:"relative"},y)},Pe),Xe&&R())}},{key:"_calculateChildrenToRender",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=i.cellRenderer,a=i.cellRangeRenderer,f=i.columnCount,d=i.deferredMeasurementCache,m=i.height,y=i.overscanColumnCount,x=i.overscanIndicesGetter,T=i.overscanRowCount,R=i.rowCount,O=i.width,k=i.isScrollingOptOut,N=r.scrollDirectionHorizontal,H=r.scrollDirectionVertical,V=r.instanceProps,Z=this._initialScrollTop>0?this._initialScrollTop:r.scrollTop,J=this._initialScrollLeft>0?this._initialScrollLeft:r.scrollLeft,se=this._isScrolling(i,r);if(this._childrenToDisplay=[],m>0&&O>0){var me=V.columnSizeAndPositionManager.getVisibleCellRange({containerSize:O,offset:J}),G=V.rowSizeAndPositionManager.getVisibleCellRange({containerSize:m,offset:Z}),ue=V.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:O,offset:J}),ge=V.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:m,offset:Z});this._renderedColumnStartIndex=me.start,this._renderedColumnStopIndex=me.stop,this._renderedRowStartIndex=G.start,this._renderedRowStopIndex=G.stop;var xe=x({direction:"horizontal",cellCount:f,overscanCellsCount:y,scrollDirection:N,startIndex:typeof me.start=="number"?me.start:0,stopIndex:typeof me.stop=="number"?me.stop:-1}),Pe=x({direction:"vertical",cellCount:R,overscanCellsCount:T,scrollDirection:H,startIndex:typeof G.start=="number"?G.start:0,stopIndex:typeof G.stop=="number"?G.stop:-1}),Xe=xe.overscanStartIndex,ke=xe.overscanStopIndex,qe=Pe.overscanStartIndex,lt=Pe.overscanStopIndex;if(d){if(!d.hasFixedHeight()){for(var Oe=qe;Oe<=lt;Oe++)if(!d.has(Oe,0)){Xe=0,ke=f-1;break}}if(!d.hasFixedWidth()){for(var Je=Xe;Je<=ke;Je++)if(!d.has(0,Je)){qe=0,lt=R-1;break}}}this._childrenToDisplay=a({cellCache:this._cellCache,cellRenderer:o,columnSizeAndPositionManager:V.columnSizeAndPositionManager,columnStartIndex:Xe,columnStopIndex:ke,deferredMeasurementCache:d,horizontalOffsetAdjustment:ue,isScrolling:se,isScrollingOptOut:k,parent:this,rowSizeAndPositionManager:V.rowSizeAndPositionManager,rowStartIndex:qe,rowStopIndex:lt,scrollLeft:J,scrollTop:Z,styleCache:this._styleCache,verticalOffsetAdjustment:ge,visibleColumnIndices:me,visibleRowIndices:G}),this._columnStartIndex=Xe,this._columnStopIndex=ke,this._rowStartIndex=qe,this._rowStopIndex=lt}}},{key:"_debounceScrollEnded",value:function(){var i=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&Eh(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=lS(this._debounceScrollEndedCallback,i)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var i=this._deferredInvalidateColumnIndex,r=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:i,rowIndex:r})}}},{key:"_invokeOnScrollMemoizer",value:function(i){var r=this,o=i.scrollLeft,a=i.scrollTop,f=i.totalColumnsWidth,d=i.totalRowsHeight;this._onScrollMemoizer({callback:function(y){var x=y.scrollLeft,T=y.scrollTop,R=r.props,O=R.height,k=R.onScroll,N=R.width;k({clientHeight:O,clientWidth:N,scrollHeight:d,scrollLeft:x,scrollTop:T,scrollWidth:f})},indices:{scrollLeft:o,scrollTop:a}})}},{key:"_isScrolling",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(i,"isScrolling")?!!i.isScrolling:!!r.isScrolling}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var i=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,i({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(i){var r=i.scrollLeft,o=i.scrollTop,a=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:r,scrollTop:o});a&&(a.needToResetStyleCache=!1,this.setState(a))}},{key:"_getCalculatedScrollLeft",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollLeft(i,r)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=e._getScrollLeftForScrollToColumnStateUpdate(i,r);o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollTop",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollTop(i,r)}},{key:"_resetStyleCache",value:function(){var i=this._styleCache,r=this._cellCache,o=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var a=this._rowStartIndex;a<=this._rowStopIndex;a++)for(var f=this._columnStartIndex;f<=this._columnStopIndex;f++){var d="".concat(a,"-").concat(f);this._styleCache[d]=i[d],o&&(this._cellCache[d]=r[d])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=e._getScrollTopForScrollToRowStateUpdate(i,r);o&&(o.needToResetStyleCache=!1,this.setState(o))}}],[{key:"getDerivedStateFromProps",value:function(i,r){var o={};i.columnCount===0&&r.scrollLeft!==0||i.rowCount===0&&r.scrollTop!==0?(o.scrollLeft=0,o.scrollTop=0):(i.scrollLeft!==r.scrollLeft&&i.scrollToColumn<0||i.scrollTop!==r.scrollTop&&i.scrollToRow<0)&&Object.assign(o,e._getScrollToPositionStateUpdate({prevState:r,scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}));var a=r.instanceProps;o.needToResetStyleCache=!1,(i.columnWidth!==a.prevColumnWidth||i.rowHeight!==a.prevRowHeight)&&(o.needToResetStyleCache=!0),a.columnSizeAndPositionManager.configure({cellCount:i.columnCount,estimatedCellSize:e._getEstimatedColumnSize(i),cellSizeGetter:e._wrapSizeGetter(i.columnWidth)}),a.rowSizeAndPositionManager.configure({cellCount:i.rowCount,estimatedCellSize:e._getEstimatedRowSize(i),cellSizeGetter:e._wrapSizeGetter(i.rowHeight)}),(a.prevColumnCount===0||a.prevRowCount===0)&&(a.prevColumnCount=0,a.prevRowCount=0),i.autoHeight&&i.isScrolling===!1&&a.prevIsScrolling===!0&&Object.assign(o,{isScrolling:!1});var f,d;return O_({cellCount:a.prevColumnCount,cellSize:typeof a.prevColumnWidth=="number"?a.prevColumnWidth:null,computeMetadataCallback:function(){return a.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:i,nextCellsCount:i.columnCount,nextCellSize:typeof i.columnWidth=="number"?i.columnWidth:null,nextScrollToIndex:i.scrollToColumn,scrollToIndex:a.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){f=e._getScrollLeftForScrollToColumnStateUpdate(i,r)}}),O_({cellCount:a.prevRowCount,cellSize:typeof a.prevRowHeight=="number"?a.prevRowHeight:null,computeMetadataCallback:function(){return a.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:i,nextCellsCount:i.rowCount,nextCellSize:typeof i.rowHeight=="number"?i.rowHeight:null,nextScrollToIndex:i.scrollToRow,scrollToIndex:a.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){d=e._getScrollTopForScrollToRowStateUpdate(i,r)}}),a.prevColumnCount=i.columnCount,a.prevColumnWidth=i.columnWidth,a.prevIsScrolling=i.isScrolling===!0,a.prevRowCount=i.rowCount,a.prevRowHeight=i.rowHeight,a.prevScrollToColumn=i.scrollToColumn,a.prevScrollToRow=i.scrollToRow,a.scrollbarSize=i.getScrollbarSize(),a.scrollbarSize===void 0?(a.scrollbarSizeMeasured=!1,a.scrollbarSize=0):a.scrollbarSizeMeasured=!0,o.instanceProps=a,js(js(js({},o),f),d)}},{key:"_getEstimatedColumnSize",value:function(i){return typeof i.columnWidth=="number"?i.columnWidth:i.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(i){return typeof i.rowHeight=="number"?i.rowHeight:i.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(i){var r=i.prevState,o=i.scrollLeft,a=i.scrollTop,f={scrollPositionChangeReason:Tb.REQUESTED};return typeof o=="number"&&o>=0&&(f.scrollDirectionHorizontal=o>r.scrollLeft?uu:Bv,f.scrollLeft=o),typeof a=="number"&&a>=0&&(f.scrollDirectionVertical=a>r.scrollTop?uu:Bv,f.scrollTop=a),typeof o=="number"&&o>=0&&o!==r.scrollLeft||typeof a=="number"&&a>=0&&a!==r.scrollTop?f:{}}},{key:"_wrapSizeGetter",value:function(i){return typeof i=="function"?i:function(){return i}}},{key:"_getCalculatedScrollLeft",value:function(i,r){var o=i.columnCount,a=i.height,f=i.scrollToAlignment,d=i.scrollToColumn,m=i.width,y=r.scrollLeft,x=r.instanceProps;if(o>0){var T=o-1,R=d<0?T:Math.min(T,d),O=x.rowSizeAndPositionManager.getTotalSize(),k=x.scrollbarSizeMeasured&&O>a?x.scrollbarSize:0;return x.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:f,containerSize:m-k,currentOffset:y,targetIndex:R})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(i,r){var o=r.scrollLeft,a=e._getCalculatedScrollLeft(i,r);return typeof a=="number"&&a>=0&&o!==a?e._getScrollToPositionStateUpdate({prevState:r,scrollLeft:a,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(i,r){var o=i.height,a=i.rowCount,f=i.scrollToAlignment,d=i.scrollToRow,m=i.width,y=r.scrollTop,x=r.instanceProps;if(a>0){var T=a-1,R=d<0?T:Math.min(T,d),O=x.columnSizeAndPositionManager.getTotalSize(),k=x.scrollbarSizeMeasured&&O>m?x.scrollbarSize:0;return x.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:f,containerSize:o-k,currentOffset:y,targetIndex:R})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(i,r){var o=r.scrollTop,a=e._getCalculatedScrollTop(i,r);return typeof a=="number"&&a>=0&&o!==a?e._getScrollToPositionStateUpdate({prevState:r,scrollLeft:-1,scrollTop:a}):{}}}])}(q.PureComponent);we(Ea,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:n8,containerRole:"row",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:u1,noContentRenderer:a8,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:t8,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:l8,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1});Km(Ea);var u8=1;function jT(n){var e=n.cellCount,t=n.overscanCellsCount,i=n.scrollDirection,r=n.startIndex,o=n.stopIndex;return t=Math.max(1,t),i===u8?{overscanStartIndex:Math.max(0,r-1),overscanStopIndex:Math.min(e-1,o+t)}:{overscanStartIndex:Math.max(0,r-t),overscanStopIndex:Math.min(e-1,o+1)}}function c1(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function c8(n){if(Array.isArray(n))return c1(n)}function f8(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function BT(n,e){if(n){if(typeof n=="string")return c1(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c1(n,e):void 0}}function d8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h8(n){return c8(n)||f8(n)||BT(n)||d8()}function p8(n,e,t){return e=On(e),vs(n,HT()?Reflect.construct(e,t||[],On(n).constructor):e.apply(n,t))}function HT(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HT=function(){return!!n})()}var $T=function(n){function e(t,i){var r;return Di(this,e),r=p8(this,e,[t,i]),r._loadMoreRowsMemoizer=Th(),r._onRowsRendered=r._onRowsRendered.bind(r),r._registerChild=r._registerChild.bind(r),r}return ys(e,n),zi(e,[{key:"resetLoadMoreRowsCache",value:function(i){this._loadMoreRowsMemoizer=Th(),i&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){var i=this.props.children;return i({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(i){var r=this,o=this.props.loadMoreRows;i.forEach(function(a){var f=o(a);f&&f.then(function(){m8({lastRenderedStartIndex:r._lastRenderedStartIndex,lastRenderedStopIndex:r._lastRenderedStopIndex,startIndex:a.startIndex,stopIndex:a.stopIndex})&&r._registeredChild&&v8(r._registeredChild,r._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(i){var r=i.startIndex,o=i.stopIndex;this._lastRenderedStartIndex=r,this._lastRenderedStopIndex=o,this._doStuff(r,o)}},{key:"_doStuff",value:function(i,r){var o,a=this,f=this.props,d=f.isRowLoaded,m=f.minimumBatchSize,y=f.rowCount,x=f.threshold,T=g8({isRowLoaded:d,minimumBatchSize:m,rowCount:y,startIndex:Math.max(0,i-x),stopIndex:Math.min(y-1,r+x)}),R=(o=[]).concat.apply(o,h8(T.map(function(O){var k=O.startIndex,N=O.stopIndex;return[k,N]})));this._loadMoreRowsMemoizer({callback:function(){a._loadUnloadedRanges(T)},indices:{squashedUnloadedRanges:R}})}},{key:"_registerChild",value:function(i){this._registeredChild=i}}])}(q.PureComponent);we($T,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15});$T.propTypes={};function m8(n){var e=n.lastRenderedStartIndex,t=n.lastRenderedStopIndex,i=n.startIndex,r=n.stopIndex;return!(i>t||r<e)}function g8(n){for(var e=n.isRowLoaded,t=n.minimumBatchSize,i=n.rowCount,r=n.startIndex,o=n.stopIndex,a=[],f=null,d=null,m=r;m<=o;m++){var y=e({index:m});y?d!==null&&(a.push({startIndex:f,stopIndex:d}),f=d=null):(d=m,f===null&&(f=m))}if(d!==null){for(var x=Math.min(Math.max(d,f+t-1),i-1),T=d+1;T<=x&&!e({index:T});T++)d=T;a.push({startIndex:f,stopIndex:d})}if(a.length)for(var R=a[0];R.stopIndex-R.startIndex+1<t&&R.startIndex>0;){var O=R.startIndex-1;if(!e({index:O}))R.startIndex=O;else break}return a}function v8(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=typeof n.recomputeGridSize=="function"?n.recomputeGridSize:n.recomputeRowHeights;t?t.call(n,e):n.forceUpdate()}function y8(n,e,t){return e=On(e),vs(n,FT()?Reflect.construct(e,t||[],On(n).constructor):e.apply(n,t))}function FT(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FT=function(){return!!n})()}var b8=function(n){function e(){var t;Di(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=y8(this,e,[].concat(r)),we(t,"Grid",void 0),we(t,"_cellRenderer",function(a){var f=a.parent,d=a.rowIndex,m=a.style,y=a.isScrolling,x=a.isVisible,T=a.key,R=t.props.rowRenderer,O=Object.getOwnPropertyDescriptor(m,"width");return O&&O.writable&&(m.width="100%"),R({index:d,style:m,isScrolling:y,isVisible:x,key:T,parent:f})}),we(t,"_setRef",function(a){t.Grid=a}),we(t,"_onScroll",function(a){var f=a.clientHeight,d=a.scrollHeight,m=a.scrollTop,y=t.props.onScroll;y({clientHeight:f,scrollHeight:d,scrollTop:m})}),we(t,"_onSectionRendered",function(a){var f=a.rowOverscanStartIndex,d=a.rowOverscanStopIndex,m=a.rowStartIndex,y=a.rowStopIndex,x=t.props.onRowsRendered;x({overscanStartIndex:f,overscanStopIndex:d,startIndex:m,stopIndex:y})}),t}return ys(e,n),zi(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(i){var r=i.alignment,o=i.index;if(this.Grid){var a=this.Grid.getOffsetForCell({alignment:r,rowIndex:o,columnIndex:0}),f=a.scrollTop;return f}return 0}},{key:"invalidateCellSizeAfterRender",value:function(i){var r=i.columnIndex,o=i.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:r})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=i.columnIndex,o=r===void 0?0:r,a=i.rowIndex,f=a===void 0?0:a;this.Grid&&this.Grid.recomputeGridSize({rowIndex:f,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:i,columnIndex:0})}},{key:"scrollToPosition",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:i})}},{key:"scrollToRow",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:i})}},{key:"render",value:function(){var i=this.props,r=i.className,o=i.noRowsRenderer,a=i.scrollToIndex,f=i.width,d=ds("ReactVirtualized__List",r);return q.createElement(Ea,tl({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:d,columnWidth:f,columnCount:1,noContentRenderer:o,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:a}))}}])}(q.PureComponent);we(b8,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:jT,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});function S8(n){if(Array.isArray(n))return n}function w8(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,o,a,f=[],d=!0,m=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(d=(i=o.call(t)).done)&&(f.push(i.value),f.length!==e);d=!0);}catch(y){m=!0,r=y}finally{try{if(!d&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(m)throw r}}return f}}function _8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x8(n,e){return S8(n)||w8(n,e)||BT(n,e)||_8()}function C8(n,e,t,i){for(var r=t+1;e<=t;){var o=e+t>>>1,a=n[o];a>=i?(r=o,t=o-1):e=o+1}return r}function T8(n,e,t,i,r){for(var o=t+1;e<=t;){var a=e+t>>>1,f=n[a];r(f,i)>=0?(o=a,t=a-1):e=a+1}return o}function E8(n,e,t,i,r){return typeof t=="function"?T8(n,i===void 0?0:i|0,r===void 0?n.length-1:r|0,e,t):C8(n,t===void 0?0:t|0,i===void 0?n.length-1:i|0,e)}function R8(n,e,t,i){for(var r=t+1;e<=t;){var o=e+t>>>1,a=n[o];a>i?(r=o,t=o-1):e=o+1}return r}function M8(n,e,t,i,r){for(var o=t+1;e<=t;){var a=e+t>>>1,f=n[a];r(f,i)>0?(o=a,t=a-1):e=a+1}return o}function O8(n,e,t,i,r){return typeof t=="function"?M8(n,i===void 0?0:i|0,r===void 0?n.length-1:r|0,e,t):R8(n,t===void 0?0:t|0,i===void 0?n.length-1:i|0,e)}function A8(n,e,t,i){for(var r=e-1;e<=t;){var o=e+t>>>1,a=n[o];a<i?(r=o,e=o+1):t=o-1}return r}function k8(n,e,t,i,r){for(var o=e-1;e<=t;){var a=e+t>>>1,f=n[a];r(f,i)<0?(o=a,e=a+1):t=a-1}return o}function D8(n,e,t,i,r){return typeof t=="function"?k8(n,i===void 0?0:i|0,r===void 0?n.length-1:r|0,e,t):A8(n,t===void 0?0:t|0,i===void 0?n.length-1:i|0,e)}function z8(n,e,t,i){for(var r=e-1;e<=t;){var o=e+t>>>1,a=n[o];a<=i?(r=o,e=o+1):t=o-1}return r}function N8(n,e,t,i,r){for(var o=e-1;e<=t;){var a=e+t>>>1,f=n[a];r(f,i)<=0?(o=a,e=a+1):t=a-1}return o}function L8(n,e,t,i,r){return typeof t=="function"?N8(n,i===void 0?0:i|0,r===void 0?n.length-1:r|0,e,t):z8(n,t===void 0?0:t|0,i===void 0?n.length-1:i|0,e)}function P8(n,e,t,i){for(;e<=t;){var r=e+t>>>1,o=n[r];if(o===i)return r;o<=i?e=r+1:t=r-1}return-1}function I8(n,e,t,i,r){for(;e<=t;){var o=e+t>>>1,a=n[o],f=r(a,i);if(f===0)return o;f<=0?e=o+1:t=o-1}return-1}function j8(n,e,t,i,r){return typeof t=="function"?I8(n,i===void 0?0:i|0,r===void 0?n.length-1:r|0,e,t):P8(n,t===void 0?0:t|0,i===void 0?n.length-1:i|0,e)}const by={ge:E8,gt:O8,lt:D8,le:L8,eq:j8};var vh=0,Nf=1,Vv=2;function aS(n,e,t,i,r){this.mid=n,this.left=e,this.right=t,this.leftPoints=i,this.rightPoints=r,this.count=(e?e.count:0)+(t?t.count:0)+i.length}var Zm=aS.prototype;function Eb(n,e){n.mid=e.mid,n.left=e.left,n.right=e.right,n.leftPoints=e.leftPoints,n.rightPoints=e.rightPoints,n.count=e.count}function UT(n,e){var t=Fm(e);n.mid=t.mid,n.left=t.left,n.right=t.right,n.leftPoints=t.leftPoints,n.rightPoints=t.rightPoints,n.count=t.count}function N_(n,e){var t=n.intervals([]);t.push(e),UT(n,t)}function L_(n,e){var t=n.intervals([]),i=t.indexOf(e);return i<0?vh:(t.splice(i,1),UT(n,t),Nf)}Zm.intervals=function(n){return n.push.apply(n,this.leftPoints),this.left&&this.left.intervals(n),this.right&&this.right.intervals(n),n};Zm.insert=function(n){var e=this.count-this.leftPoints.length;if(this.count+=1,n[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?N_(this,n):this.left.insert(n):this.left=Fm([n]);else if(n[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?N_(this,n):this.right.insert(n):this.right=Fm([n]);else{var t=by.ge(this.leftPoints,n,uS),i=by.ge(this.rightPoints,n,cS);this.leftPoints.splice(t,0,n),this.rightPoints.splice(i,0,n)}};Zm.remove=function(n){var e=this.count-this.leftPoints;if(n[1]<this.mid){if(!this.left)return vh;var t=this.right?this.right.count:0;if(4*t>3*(e-1))return L_(this,n);var i=this.left.remove(n);return i===Vv?(this.left=null,this.count-=1,Nf):(i===Nf&&(this.count-=1),i)}else if(n[0]>this.mid){if(!this.right)return vh;var r=this.left?this.left.count:0;if(4*r>3*(e-1))return L_(this,n);var i=this.right.remove(n);return i===Vv?(this.right=null,this.count-=1,Nf):(i===Nf&&(this.count-=1),i)}else{if(this.count===1)return this.leftPoints[0]===n?Vv:vh;if(this.leftPoints.length===1&&this.leftPoints[0]===n){if(this.left&&this.right){for(var o=this,a=this.left;a.right;)o=a,a=a.right;if(o===this)a.right=this.right;else{var f=this.left,i=this.right;o.count-=a.count,o.right=a.left,a.left=f,a.right=i}Eb(this,a),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?Eb(this,this.left):Eb(this,this.right);return Nf}for(var f=by.ge(this.leftPoints,n,uS);f<this.leftPoints.length&&this.leftPoints[f][0]===n[0];++f)if(this.leftPoints[f]===n){this.count-=1,this.leftPoints.splice(f,1);for(var i=by.ge(this.rightPoints,n,cS);i<this.rightPoints.length&&this.rightPoints[i][1]===n[1];++i)if(this.rightPoints[i]===n)return this.rightPoints.splice(i,1),Nf}return vh}};function GT(n,e,t){for(var i=0;i<n.length&&n[i][0]<=e;++i){var r=t(n[i]);if(r)return r}}function WT(n,e,t){for(var i=n.length-1;i>=0&&n[i][1]>=e;--i){var r=t(n[i]);if(r)return r}}function VT(n,e){for(var t=0;t<n.length;++t){var i=e(n[t]);if(i)return i}}Zm.queryPoint=function(n,e){if(n<this.mid){if(this.left){var t=this.left.queryPoint(n,e);if(t)return t}return GT(this.leftPoints,n,e)}else if(n>this.mid){if(this.right){var t=this.right.queryPoint(n,e);if(t)return t}return WT(this.rightPoints,n,e)}else return VT(this.leftPoints,e)};Zm.queryInterval=function(n,e,t){if(n<this.mid&&this.left){var i=this.left.queryInterval(n,e,t);if(i)return i}if(e>this.mid&&this.right){var i=this.right.queryInterval(n,e,t);if(i)return i}return e<this.mid?GT(this.leftPoints,e,t):n>this.mid?WT(this.rightPoints,n,t):VT(this.leftPoints,t)};function B8(n,e){return n-e}function uS(n,e){var t=n[0]-e[0];return t||n[1]-e[1]}function cS(n,e){var t=n[1]-e[1];return t||n[0]-e[0]}function Fm(n){if(n.length===0)return null;for(var e=[],t=0;t<n.length;++t)e.push(n[t][0],n[t][1]);e.sort(B8);for(var i=e[e.length>>1],r=[],o=[],a=[],t=0;t<n.length;++t){var f=n[t];f[1]<i?r.push(f):i<f[0]?o.push(f):a.push(f)}var d=a,m=a.slice();return d.sort(uS),m.sort(cS),new aS(i,Fm(r),Fm(o),d,m)}function qT(n){this.root=n}var Ah=qT.prototype;Ah.insert=function(n){this.root?this.root.insert(n):this.root=new aS(n[0],null,null,[n],[n])};Ah.remove=function(n){if(this.root){var e=this.root.remove(n);return e===Vv&&(this.root=null),e!==vh}return!1};Ah.queryPoint=function(n,e){if(this.root)return this.root.queryPoint(n,e)};Ah.queryInterval=function(n,e,t){if(n<=e&&this.root)return this.root.queryInterval(n,e,t)};Object.defineProperty(Ah,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(Ah,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function H8(n){return new qT(null)}var Rb=function(){function n(){Di(this,n),we(this,"_columnSizeMap",{}),we(this,"_intervalTree",H8()),we(this,"_leftMap",{})}return zi(n,[{key:"estimateTotalHeight",value:function(t,i,r){var o=t-this.count;return this.tallestColumnSize+Math.ceil(o/i)*r}},{key:"range",value:function(t,i,r){var o=this;this._intervalTree.queryInterval(t,t+i,function(a){var f=x8(a,3),d=f[0];f[1];var m=f[2];return r(m,o._leftMap[m],d)})}},{key:"setPosition",value:function(t,i,r,o){this._intervalTree.insert([r,r+o,t]),this._leftMap[t]=i;var a=this._columnSizeMap,f=a[i];f===void 0?a[i]=r+o:a[i]=Math.max(f,r+o)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var t=this._columnSizeMap,i=0;for(var r in t){var o=t[r];i=i===0?o:Math.min(i,o)}return i}},{key:"tallestColumnSize",get:function(){var t=this._columnSizeMap,i=0;for(var r in t){var o=t[r];i=Math.max(i,o)}return i}}])}();function P_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function $8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P_(Object(t),!0).forEach(function(i){we(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function F8(n,e,t){return e=On(e),vs(n,YT()?Reflect.construct(e,t||[],On(n).constructor):e.apply(n,t))}function YT(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YT=function(){return!!n})()}var U8={},G8=150,XT=function(n){function e(){var t;Di(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=F8(this,e,[].concat(r)),we(t,"state",{isScrolling:!1,scrollTop:0}),we(t,"_debounceResetIsScrollingId",void 0),we(t,"_invalidateOnUpdateStartIndex",null),we(t,"_invalidateOnUpdateStopIndex",null),we(t,"_positionCache",new Rb),we(t,"_startIndex",null),we(t,"_startIndexMemoized",null),we(t,"_stopIndex",null),we(t,"_stopIndexMemoized",null),we(t,"_debounceResetIsScrollingCallback",function(){t.setState({isScrolling:!1})}),we(t,"_setScrollingContainerRef",function(a){t._scrollingContainer=a}),we(t,"_onScroll",function(a){var f=t.props.height,d=a.currentTarget.scrollTop,m=Math.min(Math.max(0,t._getEstimatedTotalHeight()-f),d);d===m&&(t._debounceResetIsScrolling(),t.state.scrollTop!==m&&t.setState({isScrolling:!0,scrollTop:m}))}),t}return ys(e,n),zi(e,[{key:"clearCellPositions",value:function(){this._positionCache=new Rb,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(i){var r=i.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=r,this._invalidateOnUpdateStopIndex=r):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,r),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,r))}},{key:"recomputeCellPositions",value:function(){var i=this._positionCache.count-1;this._positionCache=new Rb,this._populatePositionCache(0,i),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(i,r){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==i.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&Eh(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var i=this,r=this.props,o=r.autoHeight,a=r.cellCount,f=r.cellMeasurerCache,d=r.cellRenderer,m=r.className,y=r.height,x=r.id,T=r.keyMapper,R=r.overscanByPixels,O=r.role,k=r.style,N=r.tabIndex,H=r.width,V=r.rowDirection,Z=this.state,J=Z.isScrolling,se=Z.scrollTop,me=[],G=this._getEstimatedTotalHeight(),ue=this._positionCache.shortestColumnSize,ge=this._positionCache.count,xe=0,Pe;if(this._positionCache.range(Math.max(0,se-R),y+R*2,function(qe,lt,Oe){typeof Pe>"u"?(xe=qe,Pe=qe):(xe=Math.min(xe,qe),Pe=Math.max(Pe,qe)),me.push(d({index:qe,isScrolling:J,key:T(qe),parent:i,style:we(we(we(we({height:f.getHeight(qe)},V==="ltr"?"left":"right",lt),"position","absolute"),"top",Oe),"width",f.getWidth(qe))}))}),ue<se+y+R&&ge<a)for(var Xe=Math.min(a-ge,Math.ceil((se+y+R-ue)/f.defaultHeight*H/f.defaultWidth)),ke=ge;ke<ge+Xe;ke++)Pe=ke,me.push(d({index:ke,isScrolling:J,key:T(ke),parent:this,style:{width:f.getWidth(ke)}}));return this._startIndex=xe,this._stopIndex=Pe,q.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:ds("ReactVirtualized__Masonry",m),id:x,onScroll:this._onScroll,role:O,style:$8({boxSizing:"border-box",direction:"ltr",height:o?"auto":y,overflowX:"hidden",overflowY:G<y?"hidden":"auto",position:"relative",width:H,WebkitOverflowScrolling:"touch",willChange:"transform"},k),tabIndex:N},q.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:G,maxWidth:"100%",maxHeight:G,overflow:"hidden",pointerEvents:J?"none":"",position:"relative"}},me))}},{key:"_checkInvalidateOnUpdate",value:function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var i=this._invalidateOnUpdateStartIndex,r=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(i,r),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var i=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&Eh(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=lS(this._debounceResetIsScrollingCallback,i)}},{key:"_getEstimatedTotalHeight",value:function(){var i=this.props,r=i.cellCount,o=i.cellMeasurerCache,a=i.width,f=Math.max(1,Math.floor(a/o.defaultWidth));return this._positionCache.estimateTotalHeight(r,f,o.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var i=this.props,r=i.height,o=i.onScroll,a=this.state.scrollTop;this._onScrollMemoized!==a&&(o({clientHeight:r,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:a}),this._onScrollMemoized=a)}},{key:"_invokeOnCellsRenderedCallback",value:function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){var i=this.props.onCellsRendered;i({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}}},{key:"_populatePositionCache",value:function(i,r){for(var o=this.props,a=o.cellMeasurerCache,f=o.cellPositioner,d=i;d<=r;d++){var m=f(d),y=m.left,x=m.top;this._positionCache.setPosition(d,y,x,a.getHeight(d))}}}],[{key:"getDerivedStateFromProps",value:function(i,r){return i.scrollTop!==void 0&&r.scrollTop!==i.scrollTop?{isScrolling:!0,scrollTop:i.scrollTop}:null}}])}(q.PureComponent);we(XT,"defaultProps",{autoHeight:!1,keyMapper:W8,onCellsRendered:I_,onScroll:I_,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:G8,style:U8,tabIndex:0,rowDirection:"ltr"});function W8(n){return n}function I_(){}Km(XT);var Mb=function(){function n(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Di(this,n),we(this,"_cellMeasurerCache",void 0),we(this,"_columnIndexOffset",void 0),we(this,"_rowIndexOffset",void 0),we(this,"columnWidth",function(d){var m=d.index;e._cellMeasurerCache.columnWidth({index:m+e._columnIndexOffset})}),we(this,"rowHeight",function(d){var m=d.index;e._cellMeasurerCache.rowHeight({index:m+e._rowIndexOffset})});var i=t.cellMeasurerCache,r=t.columnIndexOffset,o=r===void 0?0:r,a=t.rowIndexOffset,f=a===void 0?0:a;this._cellMeasurerCache=i,this._columnIndexOffset=o,this._rowIndexOffset=f}return zi(n,[{key:"clear",value:function(t,i){this._cellMeasurerCache.clear(t+this._rowIndexOffset,i+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(t+this._rowIndexOffset,i+this._columnIndexOffset)}},{key:"getWidth",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(t+this._rowIndexOffset,i+this._columnIndexOffset)}},{key:"has",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(t+this._rowIndexOffset,i+this._columnIndexOffset)}},{key:"set",value:function(t,i,r,o){this._cellMeasurerCache.set(t+this._rowIndexOffset,i+this._columnIndexOffset,r,o)}}])}(),V8=["rowIndex"],q8=["columnIndex","rowIndex"],Y8=["columnIndex"],X8=["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"];function j_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Vn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?j_(Object(t),!0).forEach(function(i){we(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):j_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function K8(n,e,t){return e=On(e),vs(n,KT()?Reflect.construct(e,t||[],On(n).constructor):e.apply(n,t))}function KT(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KT=function(){return!!n})()}var B_=20,fS=function(n){function e(t,i){var r;Di(this,e),r=K8(this,e,[t,i]),we(r,"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),we(r,"_deferredInvalidateColumnIndex",null),we(r,"_deferredInvalidateRowIndex",null),we(r,"_bottomLeftGridRef",function(d){r._bottomLeftGrid=d}),we(r,"_bottomRightGridRef",function(d){r._bottomRightGrid=d}),we(r,"_cellRendererBottomLeftGrid",function(d){var m=d.rowIndex,y=Cm(d,V8),x=r.props,T=x.cellRenderer,R=x.fixedRowCount,O=x.rowCount;return m===O-R?q.createElement("div",{key:y.key,style:Vn(Vn({},y.style),{},{height:B_})}):T(Vn(Vn({},y),{},{parent:r,rowIndex:m+R}))}),we(r,"_cellRendererBottomRightGrid",function(d){var m=d.columnIndex,y=d.rowIndex,x=Cm(d,q8),T=r.props,R=T.cellRenderer,O=T.fixedColumnCount,k=T.fixedRowCount;return R(Vn(Vn({},x),{},{columnIndex:m+O,parent:r,rowIndex:y+k}))}),we(r,"_cellRendererTopRightGrid",function(d){var m=d.columnIndex,y=Cm(d,Y8),x=r.props,T=x.cellRenderer,R=x.columnCount,O=x.fixedColumnCount;return m===R-O?q.createElement("div",{key:y.key,style:Vn(Vn({},y.style),{},{width:B_})}):T(Vn(Vn({},y),{},{columnIndex:m+O,parent:r}))}),we(r,"_columnWidthRightGrid",function(d){var m=d.index,y=r.props,x=y.columnCount,T=y.fixedColumnCount,R=y.columnWidth,O=r.state,k=O.scrollbarSize,N=O.showHorizontalScrollbar;return N&&m===x-T?k:typeof R=="function"?R({index:m+T}):R}),we(r,"_onScroll",function(d){var m=d.scrollLeft,y=d.scrollTop;r.setState({scrollLeft:m,scrollTop:y});var x=r.props.onScroll;x&&x(d)}),we(r,"_onScrollbarPresenceChange",function(d){var m=d.horizontal,y=d.size,x=d.vertical,T=r.state,R=T.showHorizontalScrollbar,O=T.showVerticalScrollbar;if(m!==R||x!==O){r.setState({scrollbarSize:y,showHorizontalScrollbar:m,showVerticalScrollbar:x});var k=r.props.onScrollbarPresenceChange;typeof k=="function"&&k({horizontal:m,size:y,vertical:x})}}),we(r,"_onScrollLeft",function(d){var m=d.scrollLeft;r._onScroll({scrollLeft:m,scrollTop:r.state.scrollTop})}),we(r,"_onScrollTop",function(d){var m=d.scrollTop;r._onScroll({scrollTop:m,scrollLeft:r.state.scrollLeft})}),we(r,"_rowHeightBottomGrid",function(d){var m=d.index,y=r.props,x=y.fixedRowCount,T=y.rowCount,R=y.rowHeight,O=r.state,k=O.scrollbarSize,N=O.showVerticalScrollbar;return N&&m===T-x?k:typeof R=="function"?R({index:m+x}):R}),we(r,"_topLeftGridRef",function(d){r._topLeftGrid=d}),we(r,"_topRightGridRef",function(d){r._topRightGrid=d});var o=t.deferredMeasurementCache,a=t.fixedColumnCount,f=t.fixedRowCount;return r._maybeCalculateCachedStyles(!0),o&&(r._deferredMeasurementCacheBottomLeftGrid=f>0?new Mb({cellMeasurerCache:o,columnIndexOffset:0,rowIndexOffset:f}):o,r._deferredMeasurementCacheBottomRightGrid=a>0||f>0?new Mb({cellMeasurerCache:o,columnIndexOffset:a,rowIndexOffset:f}):o,r._deferredMeasurementCacheTopRightGrid=a>0?new Mb({cellMeasurerCache:o,columnIndexOffset:a,rowIndexOffset:0}):o),r}return ys(e,n),zi(e,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=i.columnIndex,o=r===void 0?0:r,a=i.rowIndex,f=a===void 0?0:a;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,o):o,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,f):f}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=i.columnIndex,o=r===void 0?0:r,a=i.rowIndex,f=a===void 0?0:a,d=this.props,m=d.fixedColumnCount,y=d.fixedRowCount,x=Math.max(0,o-m),T=Math.max(0,f-y);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:T}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:x,rowIndex:T}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:f}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:x,rowIndex:f}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var i=this.props,r=i.scrollLeft,o=i.scrollTop;if(r>0||o>0){var a={};r>0&&(a.scrollLeft=r),o>0&&(a.scrollTop=o),this.setState(a)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var i=this.props,r=i.onScroll,o=i.onSectionRendered;i.onScrollbarPresenceChange,i.scrollLeft;var a=i.scrollToColumn;i.scrollTop;var f=i.scrollToRow,d=Cm(i,X8);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var m=this.state,y=m.scrollLeft,x=m.scrollTop;return q.createElement("div",{style:this._containerOuterStyle},q.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(d),this._renderTopRightGrid(Vn(Vn({},d),{},{onScroll:r,scrollLeft:y}))),q.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(Vn(Vn({},d),{},{onScroll:r,scrollTop:x})),this._renderBottomRightGrid(Vn(Vn({},d),{},{onScroll:r,onSectionRendered:o,scrollLeft:y,scrollToColumn:a,scrollToRow:f,scrollTop:x}))))}},{key:"_getBottomGridHeight",value:function(i){var r=i.height,o=this._getTopGridHeight(i);return r-o}},{key:"_getLeftGridWidth",value:function(i){var r=i.fixedColumnCount,o=i.columnWidth;if(this._leftGridWidth==null)if(typeof o=="function"){for(var a=0,f=0;f<r;f++)a+=o({index:f});this._leftGridWidth=a}else this._leftGridWidth=o*r;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(i){var r=i.width,o=this._getLeftGridWidth(i);return r-o}},{key:"_getTopGridHeight",value:function(i){var r=i.fixedRowCount,o=i.rowHeight;if(this._topGridHeight==null)if(typeof o=="function"){for(var a=0,f=0;f<r;f++)a+=o({index:f});this._topGridHeight=a}else this._topGridHeight=o*r;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var i=this._deferredInvalidateColumnIndex,r=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:i,rowIndex:r}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(i){var r=this.props,o=r.columnWidth,a=r.enableFixedColumnScroll,f=r.enableFixedRowScroll,d=r.height,m=r.fixedColumnCount,y=r.fixedRowCount,x=r.rowHeight,T=r.style,R=r.styleBottomLeftGrid,O=r.styleBottomRightGrid,k=r.styleTopLeftGrid,N=r.styleTopRightGrid,H=r.width,V=i||d!==this._lastRenderedHeight||H!==this._lastRenderedWidth,Z=i||o!==this._lastRenderedColumnWidth||m!==this._lastRenderedFixedColumnCount,J=i||y!==this._lastRenderedFixedRowCount||x!==this._lastRenderedRowHeight;(i||V||T!==this._lastRenderedStyle)&&(this._containerOuterStyle=Vn({height:d,overflow:"visible",width:H},T)),(i||V||J)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:H},this._containerBottomStyle={height:d-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:H}),(i||R!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=Vn({left:0,overflowX:"hidden",overflowY:a?"auto":"hidden",position:"absolute"},R)),(i||Z||O!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=Vn({left:this._getLeftGridWidth(this.props),position:"absolute"},O)),(i||k!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=Vn({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},k)),(i||Z||N!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=Vn({left:this._getLeftGridWidth(this.props),overflowX:f?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},N)),this._lastRenderedColumnWidth=o,this._lastRenderedFixedColumnCount=m,this._lastRenderedFixedRowCount=y,this._lastRenderedHeight=d,this._lastRenderedRowHeight=x,this._lastRenderedStyle=T,this._lastRenderedStyleBottomLeftGrid=R,this._lastRenderedStyleBottomRightGrid=O,this._lastRenderedStyleTopLeftGrid=k,this._lastRenderedStyleTopRightGrid=N,this._lastRenderedWidth=H}},{key:"_prepareForRender",value:function(){(this._lastRenderedColumnWidth!==this.props.columnWidth||this._lastRenderedFixedColumnCount!==this.props.fixedColumnCount)&&(this._leftGridWidth=null),(this._lastRenderedFixedRowCount!==this.props.fixedRowCount||this._lastRenderedRowHeight!==this.props.rowHeight)&&(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(i){var r=i.enableFixedColumnScroll,o=i.fixedColumnCount,a=i.fixedRowCount,f=i.rowCount,d=i.hideBottomLeftGridScrollbar,m=this.state.showVerticalScrollbar;if(!o)return null;var y=m?1:0,x=this._getBottomGridHeight(i),T=this._getLeftGridWidth(i),R=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,O=d?T+R:T,k=q.createElement(Ea,tl({},i,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:o,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:x,onScroll:r?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,f-a)+y,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:O}));return d?q.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:Vn(Vn({},this._bottomLeftGridStyle),{},{height:x,width:T,overflowY:"hidden"})},k):k}},{key:"_renderBottomRightGrid",value:function(i){var r=i.columnCount,o=i.fixedColumnCount,a=i.fixedRowCount,f=i.rowCount,d=i.scrollToColumn,m=i.scrollToRow;return q.createElement(Ea,tl({},i,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,r-o),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(i),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,f-a),rowHeight:this._rowHeightBottomGrid,scrollToColumn:d-o,scrollToRow:m-a,style:this._bottomRightGridStyle,width:this._getRightGridWidth(i)}))}},{key:"_renderTopLeftGrid",value:function(i){var r=i.fixedColumnCount,o=i.fixedRowCount;return!r||!o?null:q.createElement(Ea,tl({},i,{className:this.props.classNameTopLeftGrid,columnCount:r,height:this._getTopGridHeight(i),ref:this._topLeftGridRef,rowCount:o,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(i)}))}},{key:"_renderTopRightGrid",value:function(i){var r=i.columnCount,o=i.enableFixedRowScroll,a=i.fixedColumnCount,f=i.fixedRowCount,d=i.scrollLeft,m=i.hideTopRightGridScrollbar,y=this.state,x=y.showHorizontalScrollbar,T=y.scrollbarSize;if(!f)return null;var R=x?1:0,O=this._getTopGridHeight(i),k=this._getRightGridWidth(i),N=x?T:0,H=O,V=this._topRightGridStyle;m&&(H=O+N,V=Vn(Vn({},this._topRightGridStyle),{},{left:0}));var Z=q.createElement(Ea,tl({},i,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,r-a)+R,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:H,onScroll:o?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:f,scrollLeft:d,style:V,tabIndex:null,width:k}));return m?q.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:Vn(Vn({},this._topRightGridStyle),{},{height:O,width:k,overflowX:"hidden"})},Z):Z}}],[{key:"getDerivedStateFromProps",value:function(i,r){return i.scrollLeft!==r.scrollLeft||i.scrollTop!==r.scrollTop?{scrollLeft:i.scrollLeft!=null&&i.scrollLeft>=0?i.scrollLeft:r.scrollLeft,scrollTop:i.scrollTop!=null&&i.scrollTop>=0?i.scrollTop:r.scrollTop}:null}}])}(q.PureComponent);we(fS,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1});fS.propTypes={};Km(fS);function Z8(n,e,t){return e=On(e),vs(n,ZT()?Reflect.construct(e,t||[],On(n).constructor):e.apply(n,t))}function ZT(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZT=function(){return!!n})()}var QT=function(n){function e(t,i){var r;return Di(this,e),r=Z8(this,e,[t,i]),r.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},r._onScroll=r._onScroll.bind(r),r}return ys(e,n),zi(e,[{key:"render",value:function(){var i=this.props.children,r=this.state,o=r.clientHeight,a=r.clientWidth,f=r.scrollHeight,d=r.scrollLeft,m=r.scrollTop,y=r.scrollWidth;return i({clientHeight:o,clientWidth:a,onScroll:this._onScroll,scrollHeight:f,scrollLeft:d,scrollTop:m,scrollWidth:y})}},{key:"_onScroll",value:function(i){var r=i.clientHeight,o=i.clientWidth,a=i.scrollHeight,f=i.scrollLeft,d=i.scrollTop,m=i.scrollWidth;this.setState({clientHeight:r,clientWidth:o,scrollHeight:a,scrollLeft:f,scrollTop:d,scrollWidth:m})}}])}(q.PureComponent);QT.propTypes={};function Q8(n){var e=n.dataKey,t=n.rowData;return typeof t.get=="function"?t.get(e):t[e]}function J8(n){var e=n.cellData;return e==null?"":String(e)}function eL(n){var e=n.className,t=n.columns,i=n.style;return q.createElement("div",{className:e,role:"row",style:i},t)}var _c={ASC:"ASC",DESC:"DESC"};function JT(n){var e=n.sortDirection,t=ds("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":e===_c.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":e===_c.DESC});return q.createElement("svg",{className:t,width:18,height:18,viewBox:"0 0 24 24"},e===_c.ASC?q.createElement("path",{d:"M7 14l5-5 5 5z"}):q.createElement("path",{d:"M7 10l5 5 5-5z"}),q.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}JT.propTypes={};function tL(n){var e=n.dataKey,t=n.label,i=n.sortBy,r=n.sortDirection,o=i===e,a=[q.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof t=="string"?t:null},t)];return o&&a.push(q.createElement(JT,{key:"SortIndicator",sortDirection:r})),a}function nL(n){var e=n.className,t=n.columns,i=n.index,r=n.key,o=n.onRowClick,a=n.onRowDoubleClick,f=n.onRowMouseOut,d=n.onRowMouseOver,m=n.onRowRightClick,y=n.rowData,x=n.style,T={"aria-rowindex":i+1};return(o||a||f||d||m)&&(T["aria-label"]="row",T.tabIndex=0,o&&(T.onClick=function(R){return o({event:R,index:i,rowData:y})}),a&&(T.onDoubleClick=function(R){return a({event:R,index:i,rowData:y})}),f&&(T.onMouseOut=function(R){return f({event:R,index:i,rowData:y})}),d&&(T.onMouseOver=function(R){return d({event:R,index:i,rowData:y})}),m&&(T.onContextMenu=function(R){return m({event:R,index:i,rowData:y})})),q.createElement("div",tl({},T,{className:e,key:r,role:"row",style:x}),t)}function iL(n,e,t){return e=On(e),vs(n,eE()?Reflect.construct(e,t||[],On(n).constructor):e.apply(n,t))}function eE(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eE=function(){return!!n})()}var dS=function(n){function e(){return Di(this,e),iL(this,e,arguments)}return ys(e,n),zi(e)}(q.Component);we(dS,"defaultProps",{cellDataGetter:Q8,cellRenderer:J8,defaultSortDirection:_c.ASC,flexGrow:0,flexShrink:1,headerRenderer:tL,style:{}});dS.propTypes={};function H_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function _a(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H_(Object(t),!0).forEach(function(i){we(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):H_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function rL(n,e,t){return e=On(e),vs(n,tE()?Reflect.construct(e,t||[],On(n).constructor):e.apply(n,t))}function tE(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tE=function(){return!!n})()}var nE=function(n){function e(t){var i;return Di(this,e),i=rL(this,e,[t]),i.state={scrollbarWidth:0},i._createColumn=i._createColumn.bind(i),i._createRow=i._createRow.bind(i),i._onScroll=i._onScroll.bind(i),i._onSectionRendered=i._onSectionRendered.bind(i),i._setRef=i._setRef.bind(i),i._setGridElementRef=i._setGridElementRef.bind(i),i}return ys(e,n),zi(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(i){var r=i.alignment,o=i.index;if(this.Grid){var a=this.Grid.getOffsetForCell({alignment:r,rowIndex:o}),f=a.scrollTop;return f}return 0}},{key:"invalidateCellSizeAfterRender",value:function(i){var r=i.columnIndex,o=i.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:r})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=i.columnIndex,o=r===void 0?0:r,a=i.rowIndex,f=a===void 0?0:a;this.Grid&&this.Grid.recomputeGridSize({rowIndex:f,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:i})}},{key:"scrollToPosition",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:i})}},{key:"scrollToRow",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:i})}},{key:"getScrollbarWidth",value:function(){if(this.GridElement){var i=this.GridElement,r=i.clientWidth||0,o=i.offsetWidth||0;return o-r}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var i=this,r=this.props,o=r.children,a=r.className,f=r.disableHeader,d=r.gridClassName,m=r.gridStyle,y=r.headerHeight,x=r.headerRowRenderer,T=r.height,R=r.id,O=r.noRowsRenderer,k=r.rowClassName,N=r.rowStyle,H=r.scrollToIndex,V=r.style,Z=r.width,J=this.state.scrollbarWidth,se=f?T:T-y,me=typeof k=="function"?k({index:-1}):k,G=typeof N=="function"?N({index:-1}):N;return this._cachedColumnStyles=[],q.Children.toArray(o).forEach(function(ue,ge){var xe=i._getFlexStyleForColumn(ue,ue.props.style||dS.defaultProps.style);i._cachedColumnStyles[ge]=_a({overflow:"hidden"},xe)}),q.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":q.Children.toArray(o).length,"aria-rowcount":this.props.rowCount,className:ds("ReactVirtualized__Table",a),id:R,role:"grid",style:V},!f&&x({className:ds("ReactVirtualized__Table__headerRow",me),columns:this._getHeaderColumns(),style:_a({height:y,overflow:"hidden",paddingRight:J,width:Z},G)}),q.createElement(Ea,tl({},this.props,{elementRef:this._setGridElementRef,"aria-readonly":null,autoContainerWidth:!0,className:ds("ReactVirtualized__Table__Grid",d),cellRenderer:this._createRow,columnWidth:Z,columnCount:1,height:se,id:void 0,noContentRenderer:O,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:J,scrollToRow:H,style:_a(_a({},m),{},{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(i){var r=i.column,o=i.columnIndex,a=i.isScrolling,f=i.parent,d=i.rowData,m=i.rowIndex,y=this.props.onColumnClick,x=r.props,T=x.cellDataGetter,R=x.cellRenderer,O=x.className,k=x.columnData,N=x.dataKey,H=x.id,V=T({columnData:k,dataKey:N,rowData:d}),Z=R({cellData:V,columnData:k,columnIndex:o,dataKey:N,isScrolling:a,parent:f,rowData:d,rowIndex:m}),J=function(ue){y&&y({columnData:k,dataKey:N,event:ue})},se=this._cachedColumnStyles[o],me=typeof Z=="string"?Z:null;return q.createElement("div",{"aria-colindex":o+1,"aria-describedby":H,className:ds("ReactVirtualized__Table__rowColumn",O),key:"Row"+m+"-Col"+o,onClick:J,role:"gridcell",style:se,title:me},Z)}},{key:"_createHeader",value:function(i){var r=i.column,o=i.index,a=this.props,f=a.headerClassName,d=a.headerStyle,m=a.onHeaderClick,y=a.sort,x=a.sortBy,T=a.sortDirection,R=r.props,O=R.columnData,k=R.dataKey,N=R.defaultSortDirection,H=R.disableSort,V=R.headerRenderer,Z=R.id,J=R.label,se=!H&&y,me=ds("ReactVirtualized__Table__headerColumn",f,r.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:se}),G=this._getFlexStyleForColumn(r,_a(_a({},d),r.props.headerStyle)),ue=V({columnData:O,dataKey:k,disableSort:H,label:J,sortBy:x,sortDirection:T}),ge,xe,Pe,Xe,ke;if(se||m){var qe=x!==k,lt=qe?N:T===_c.DESC?_c.ASC:_c.DESC,Oe=function(dt){se&&y({defaultSortDirection:N,event:dt,sortBy:k,sortDirection:lt}),m&&m({columnData:O,dataKey:k,event:dt})},Je=function(dt){(dt.key==="Enter"||dt.key===" ")&&Oe(dt)};ke=r.props["aria-label"]||J||k,Xe="none",Pe=0,ge=Oe,xe=Je}return x===k&&(Xe=T===_c.ASC?"ascending":"descending"),q.createElement("div",{"aria-label":ke,"aria-sort":Xe,className:me,id:Z,key:"Header-Col"+o,onClick:ge,onKeyDown:xe,role:"columnheader",style:G,tabIndex:Pe},ue)}},{key:"_createRow",value:function(i){var r=this,o=i.rowIndex,a=i.isScrolling,f=i.key,d=i.parent,m=i.style,y=this.props,x=y.children,T=y.onRowClick,R=y.onRowDoubleClick,O=y.onRowRightClick,k=y.onRowMouseOver,N=y.onRowMouseOut,H=y.rowClassName,V=y.rowGetter,Z=y.rowRenderer,J=y.rowStyle,se=this.state.scrollbarWidth,me=typeof H=="function"?H({index:o}):H,G=typeof J=="function"?J({index:o}):J,ue=V({index:o}),ge=q.Children.toArray(x).map(function(Xe,ke){return r._createColumn({column:Xe,columnIndex:ke,isScrolling:a,parent:d,rowData:ue,rowIndex:o,scrollbarWidth:se})}),xe=ds("ReactVirtualized__Table__row",me),Pe=_a(_a({},m),{},{height:this._getRowHeight(o),overflow:"hidden",paddingRight:se},G);return Z({className:xe,columns:ge,index:o,isScrolling:a,key:f,onRowClick:T,onRowDoubleClick:R,onRowRightClick:O,onRowMouseOver:k,onRowMouseOut:N,rowData:ue,style:Pe})}},{key:"_getFlexStyleForColumn",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o="".concat(i.props.flexGrow," ").concat(i.props.flexShrink," ").concat(i.props.width,"px"),a=_a(_a({},r),{},{flex:o,msFlex:o,WebkitFlex:o});return i.props.maxWidth&&(a.maxWidth=i.props.maxWidth),i.props.minWidth&&(a.minWidth=i.props.minWidth),a}},{key:"_getHeaderColumns",value:function(){var i=this,r=this.props,o=r.children,a=r.disableHeader,f=a?[]:q.Children.toArray(o);return f.map(function(d,m){return i._createHeader({column:d,index:m})})}},{key:"_getRowHeight",value:function(i){var r=this.props.rowHeight;return typeof r=="function"?r({index:i}):r}},{key:"_onScroll",value:function(i){var r=i.clientHeight,o=i.scrollHeight,a=i.scrollTop,f=this.props.onScroll;f({clientHeight:r,scrollHeight:o,scrollTop:a})}},{key:"_onSectionRendered",value:function(i){var r=i.rowOverscanStartIndex,o=i.rowOverscanStopIndex,a=i.rowStartIndex,f=i.rowStopIndex,d=this.props.onRowsRendered;d({overscanStartIndex:r,overscanStopIndex:o,startIndex:a,stopIndex:f})}},{key:"_setRef",value:function(i){this.Grid=i}},{key:"_setGridElementRef",value:function(i){this.GridElement=i}},{key:"_setScrollbarWidth",value:function(){var i=this.getScrollbarWidth();this.setState({scrollbarWidth:i})}}])}(q.PureComponent);we(nE,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:jT,overscanRowCount:10,rowRenderer:nL,headerRowRenderer:eL,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}});nE.propTypes={};var Oc=[],Am=null,Yf=null;function iE(){Yf&&(Yf=null,document.body&&Am!=null&&(document.body.style.pointerEvents=Am),Am=null)}function sL(){iE(),Oc.forEach(function(n){return n.__resetIsScrolling()})}function oL(){Yf&&Eh(Yf);var n=0;Oc.forEach(function(e){n=Math.max(n,e.props.scrollingResetTimeInterval)}),Yf=lS(sL,n)}function rE(n){n.currentTarget===window&&Am==null&&document.body&&(Am=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),oL(),Oc.forEach(function(e){e.props.scrollElement===n.currentTarget&&e.__handleWindowScrollEvent()})}function $_(n,e){Oc.some(function(t){return t.props.scrollElement===e})||e.addEventListener("scroll",rE),Oc.push(n)}function F_(n,e){Oc=Oc.filter(function(t){return t!==n}),Oc.length||(e.removeEventListener("scroll",rE),Yf&&(Eh(Yf),iE()))}var hS=function(e){return e===window},Tm=function(e){return e.getBoundingClientRect()};function U_(n,e){if(n)if(hS(n)){var t=window,i=t.innerHeight,r=t.innerWidth;return{height:typeof i=="number"?i:0,width:typeof r=="number"?r:0}}else return Tm(n);else return{height:e.serverHeight,width:e.serverWidth}}function lL(n,e){if(hS(e)&&document.documentElement){var t=document.documentElement,i=Tm(n),r=Tm(t);return{top:i.top-r.top,left:i.left-r.left}}else{var o=sE(e),a=Tm(n),f=Tm(e);return{top:a.top+o.top-f.top,left:a.left+o.left-f.left}}}function sE(n){return hS(n)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:n.scrollTop,left:n.scrollLeft}}function G_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function W_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?G_(Object(t),!0).forEach(function(i){we(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):G_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function aL(n,e,t){return e=On(e),vs(n,oE()?Reflect.construct(e,t||[],On(n).constructor):e.apply(n,t))}function oE(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oE=function(){return!!n})()}var uL=150,lE=function(){return typeof window<"u"?window:void 0},cL=function(n){function e(){var t;Di(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=aL(this,e,[].concat(r)),we(t,"_window",lE()),we(t,"_isMounted",!1),we(t,"_positionFromTop",0),we(t,"_positionFromLeft",0),we(t,"_detectElementResize",void 0),we(t,"_child",void 0),we(t,"_windowScrollerRef",q.createRef()),we(t,"state",W_(W_({},U_(t.props.scrollElement,t.props)),{},{isScrolling:!1,scrollLeft:0,scrollTop:0})),we(t,"_registerChild",function(a){a&&!(a instanceof Element)&&console.warn("WindowScroller registerChild expects to be passed Element or null"),t._child=a,t.updatePosition()}),we(t,"_onChildScroll",function(a){var f=a.scrollTop;if(t.state.scrollTop!==f){var d=t.props.scrollElement;d&&(typeof d.scrollTo=="function"?d.scrollTo(0,f+t._positionFromTop):d.scrollTop=f+t._positionFromTop)}}),we(t,"_registerResizeListener",function(a){a===window?window.addEventListener("resize",t._onResize,!1):t._detectElementResize.addResizeListener(a,t._onResize)}),we(t,"_unregisterResizeListener",function(a){a===window?window.removeEventListener("resize",t._onResize,!1):a&&t._detectElementResize.removeResizeListener(a,t._onResize)}),we(t,"_onResize",function(){t.updatePosition()}),we(t,"__handleWindowScrollEvent",function(){if(t._isMounted){var a=t.props.onScroll,f=t.props.scrollElement;if(f){var d=sE(f),m=Math.max(0,d.left-t._positionFromLeft),y=Math.max(0,d.top-t._positionFromTop);t.setState({isScrolling:!0,scrollLeft:m,scrollTop:y}),a({scrollLeft:m,scrollTop:y})}}}),we(t,"__resetIsScrolling",function(){t.setState({isScrolling:!1})}),t}return ys(e,n),zi(e,[{key:"updatePosition",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,r=this.props.onResize,o=this.state,a=o.height,f=o.width,d=this._child||this._windowScrollerRef.current;if(d instanceof Element&&i){var m=lL(d,i);this._positionFromTop=m.top,this._positionFromLeft=m.left}var y=U_(i,this.props);(a!==y.height||f!==y.width)&&(this.setState({height:y.height,width:y.width}),r({height:y.height,width:y.width})),this.props.updateScrollTopOnUpdatePosition===!0&&(this.__handleWindowScrollEvent(),this.__resetIsScrolling())}},{key:"componentDidMount",value:function(){var i=this.props.scrollElement;this._detectElementResize=AT(),this.updatePosition(i),i&&($_(this,i),this._registerResizeListener(i)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(i,r){var o=this.props.scrollElement,a=i.scrollElement;a!==o&&a!=null&&o!=null&&(this.updatePosition(o),F_(this,a),$_(this,o),this._unregisterResizeListener(a),this._registerResizeListener(o))}},{key:"componentWillUnmount",value:function(){var i=this.props.scrollElement;i&&(F_(this,i),this._unregisterResizeListener(i)),this._isMounted=!1}},{key:"render",value:function(){var i=this.props.children,r=this.state,o=r.isScrolling,a=r.scrollTop,f=r.scrollLeft,d=r.height,m=r.width;return q.createElement("div",{ref:this._windowScrollerRef},i({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:d,isScrolling:o,scrollLeft:f,scrollTop:a,width:m}))}}])}(q.PureComponent);we(cL,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:uL,scrollElement:lE(),serverHeight:0,serverWidth:0});function fL(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.map(function(i){return i.split(" ").map(function(r){return r?""+n+r:""}).join(" ")}).join(" ")}var Em={exports:{}},dL=Em.exports,V_;function hL(){return V_||(V_=1,function(n,e){(function(t,i){n.exports=i()})(dL,function(){function t(v,g){var w=Object.keys(v);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(v);g&&(E=E.filter(function(A){return Object.getOwnPropertyDescriptor(v,A).enumerable})),w.push.apply(w,E)}return w}function i(v){for(var g=1;g<arguments.length;g++){var w=arguments[g]!=null?arguments[g]:{};g%2?t(Object(w),!0).forEach(function(E){d(v,E,w[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(w)):t(Object(w)).forEach(function(E){Object.defineProperty(v,E,Object.getOwnPropertyDescriptor(w,E))})}return v}function r(v){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},r(v)}function o(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function a(v,g){for(var w=0;w<g.length;w++){var E=g[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,k(E.key),E)}}function f(v,g,w){return g&&a(v.prototype,g),Object.defineProperty(v,"prototype",{writable:!1}),v}function d(v,g,w){return(g=k(g))in v?Object.defineProperty(v,g,{value:w,enumerable:!0,configurable:!0,writable:!0}):v[g]=w,v}function m(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),g&&x(v,g)}function y(v){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},y(v)}function x(v,g){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,E){return w.__proto__=E,w},x(v,g)}function T(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function R(v){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var w,E=y(v);if(g){var A=y(this).constructor;w=Reflect.construct(E,arguments,A)}else w=E.apply(this,arguments);return function(z,j){if(j&&(typeof j=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(z)}(this,w)}}function O(){return O=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(v,g,w){var E=function(z,j){for(;!Object.prototype.hasOwnProperty.call(z,j)&&(z=y(z))!==null;);return z}(v,g);if(E){var A=Object.getOwnPropertyDescriptor(E,g);return A.get?A.get.call(arguments.length<3?v:w):A.value}},O.apply(this,arguments)}function k(v){var g=function(w,E){if(typeof w!="object"||w===null)return w;var A=w[Symbol.toPrimitive];if(A!==void 0){var z=A.call(w,E);if(typeof z!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(v,"string");return typeof g=="symbol"?g:g+""}var N=function(v){return!(!v||!v.Window)&&v instanceof v.Window},H=void 0,V=void 0;function Z(v){H=v;var g=v.document.createTextNode("");g.ownerDocument!==v.document&&typeof v.wrap=="function"&&v.wrap(g)===g&&(v=v.wrap(v)),V=v}function J(v){return N(v)?v:(v.ownerDocument||v).defaultView||V.window}typeof window<"u"&&window&&Z(window);var se=function(v){return!!v&&r(v)==="object"},me=function(v){return typeof v=="function"},G={window:function(v){return v===V||N(v)},docFrag:function(v){return se(v)&&v.nodeType===11},object:se,func:me,number:function(v){return typeof v=="number"},bool:function(v){return typeof v=="boolean"},string:function(v){return typeof v=="string"},element:function(v){if(!v||r(v)!=="object")return!1;var g=J(v)||V;return/object|function/.test(typeof Element>"u"?"undefined":r(Element))?v instanceof Element||v instanceof g.Element:v.nodeType===1&&typeof v.nodeName=="string"},plainObject:function(v){return se(v)&&!!v.constructor&&/function Object\b/.test(v.constructor.toString())},array:function(v){return se(v)&&v.length!==void 0&&me(v.splice)}};function ue(v){var g=v.interaction;if(g.prepared.name==="drag"){var w=g.prepared.axis;w==="x"?(g.coords.cur.page.y=g.coords.start.page.y,g.coords.cur.client.y=g.coords.start.client.y,g.coords.velocity.client.y=0,g.coords.velocity.page.y=0):w==="y"&&(g.coords.cur.page.x=g.coords.start.page.x,g.coords.cur.client.x=g.coords.start.client.x,g.coords.velocity.client.x=0,g.coords.velocity.page.x=0)}}function ge(v){var g=v.iEvent,w=v.interaction;if(w.prepared.name==="drag"){var E=w.prepared.axis;if(E==="x"||E==="y"){var A=E==="x"?"y":"x";g.page[A]=w.coords.start.page[A],g.client[A]=w.coords.start.client[A],g.delta[A]=0}}}var xe={id:"actions/drag",install:function(v){var g=v.actions,w=v.Interactable,E=v.defaults;w.prototype.draggable=xe.draggable,g.map.drag=xe,g.methodDict.drag="draggable",E.actions.drag=xe.defaults},listeners:{"interactions:before-action-move":ue,"interactions:action-resume":ue,"interactions:action-move":ge,"auto-start:check":function(v){var g=v.interaction,w=v.interactable,E=v.buttons,A=w.options.drag;if(A&&A.enabled&&(!g.pointerIsDown||!/mouse|pointer/.test(g.pointerType)||E&w.options.drag.mouseButtons))return v.action={name:"drag",axis:A.lockAxis==="start"?A.startAxis:A.lockAxis},!1}},draggable:function(v){return G.object(v)?(this.options.drag.enabled=v.enabled!==!1,this.setPerAction("drag",v),this.setOnEvents("drag",v),/^(xy|x|y|start)$/.test(v.lockAxis)&&(this.options.drag.lockAxis=v.lockAxis),/^(xy|x|y)$/.test(v.startAxis)&&(this.options.drag.startAxis=v.startAxis),this):G.bool(v)?(this.options.drag.enabled=v,this):this.options.drag},beforeMove:ue,move:ge,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(v){return v.search("drag")===0}},Pe=xe,Xe={init:function(v){var g=v;Xe.document=g.document,Xe.DocumentFragment=g.DocumentFragment||ke,Xe.SVGElement=g.SVGElement||ke,Xe.SVGSVGElement=g.SVGSVGElement||ke,Xe.SVGElementInstance=g.SVGElementInstance||ke,Xe.Element=g.Element||ke,Xe.HTMLElement=g.HTMLElement||Xe.Element,Xe.Event=g.Event,Xe.Touch=g.Touch||ke,Xe.PointerEvent=g.PointerEvent||g.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function ke(){}var qe=Xe,lt={init:function(v){var g=qe.Element,w=v.navigator||{};lt.supportsTouch="ontouchstart"in v||G.func(v.DocumentTouch)&&qe.document instanceof v.DocumentTouch,lt.supportsPointerEvent=w.pointerEnabled!==!1&&!!qe.PointerEvent,lt.isIOS=/iP(hone|od|ad)/.test(w.platform),lt.isIOS7=/iP(hone|od|ad)/.test(w.platform)&&/OS 7[^\d]/.test(w.appVersion),lt.isIe9=/MSIE 9/.test(w.userAgent),lt.isOperaMobile=w.appName==="Opera"&&lt.supportsTouch&&/Presto/.test(w.userAgent),lt.prefixedMatchesSelector="matches"in g.prototype?"matches":"webkitMatchesSelector"in g.prototype?"webkitMatchesSelector":"mozMatchesSelector"in g.prototype?"mozMatchesSelector":"oMatchesSelector"in g.prototype?"oMatchesSelector":"msMatchesSelector",lt.pEventTypes=lt.supportsPointerEvent?qe.PointerEvent===v.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,lt.wheelEvent=qe.document&&"onmousewheel"in qe.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},Oe=lt;function Je(v,g){if(v.contains)return v.contains(g);for(;g;){if(g===v)return!0;g=g.parentNode}return!1}function Ze(v,g){for(;G.element(v);){if(ie(v,g))return v;v=dt(v)}return null}function dt(v){var g=v.parentNode;if(G.docFrag(g)){for(;(g=g.host)&&G.docFrag(g););return g}return g}function ie(v,g){return V!==H&&(g=g.replace(/\/deep\//g," ")),v[Oe.prefixedMatchesSelector](g)}var Ce=function(v){return v.parentNode||v.host};function rt(v,g){for(var w,E=[],A=v;(w=Ce(A))&&A!==g&&w!==A.ownerDocument;)E.unshift(A),A=w;return E}function et(v,g,w){for(;G.element(v);){if(ie(v,g))return!0;if((v=dt(v))===w)return ie(v,g)}return!1}function Fe(v){return v.correspondingUseElement||v}function tt(v){var g=v instanceof qe.SVGElement?v.getBoundingClientRect():v.getClientRects()[0];return g&&{left:g.left,right:g.right,top:g.top,bottom:g.bottom,width:g.width||g.right-g.left,height:g.height||g.bottom-g.top}}function St(v){var g,w=tt(v);if(!Oe.isIOS7&&w){var E={x:(g=(g=J(v))||V).scrollX||g.document.documentElement.scrollLeft,y:g.scrollY||g.document.documentElement.scrollTop};w.left+=E.x,w.right+=E.x,w.top+=E.y,w.bottom+=E.y}return w}function kn(v){for(var g=[];v;)g.push(v),v=dt(v);return g}function At(v){return!!G.string(v)&&(qe.document.querySelector(v),!0)}function Ke(v,g){for(var w in g)v[w]=g[w];return v}function Jt(v,g,w){return v==="parent"?dt(w):v==="self"?g.getRect(w):Ze(w,v)}function xn(v,g,w,E){var A=v;return G.string(A)?A=Jt(A,g,w):G.func(A)&&(A=A.apply(void 0,E)),G.element(A)&&(A=St(A)),A}function Et(v){return v&&{x:"x"in v?v.x:v.left,y:"y"in v?v.y:v.top}}function Ye(v){return!v||"x"in v&&"y"in v||((v=Ke({},v)).x=v.left||0,v.y=v.top||0,v.width=v.width||(v.right||0)-v.x,v.height=v.height||(v.bottom||0)-v.y),v}function nt(v,g,w){v.left&&(g.left+=w.x),v.right&&(g.right+=w.x),v.top&&(g.top+=w.y),v.bottom&&(g.bottom+=w.y),g.width=g.right-g.left,g.height=g.bottom-g.top}function pt(v,g,w){var E=w&&v.options[w];return Et(xn(E&&E.origin||v.options.origin,v,g,[v&&g]))||{x:0,y:0}}function ct(v,g){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(X){return!0},E=arguments.length>3?arguments[3]:void 0;if(E=E||{},G.string(v)&&v.search(" ")!==-1&&(v=Ct(v)),G.array(v))return v.forEach(function(X){return ct(X,g,w,E)}),E;if(G.object(v)&&(g=v,v=""),G.func(g)&&w(v))E[v]=E[v]||[],E[v].push(g);else if(G.array(g))for(var A=0,z=g;A<z.length;A++){var j=z[A];ct(v,j,w,E)}else if(G.object(g))for(var F in g)ct(Ct(F).map(function(X){return"".concat(v).concat(X)}),g[F],w,E);return E}function Ct(v){return v.trim().split(/ +/)}var sn=function(v,g){return Math.sqrt(v*v+g*g)},It=["webkit","moz"];function cn(v,g){v.__set||(v.__set={});var w=function(A){if(It.some(function(z){return A.indexOf(z)===0}))return 1;typeof v[A]!="function"&&A!=="__set"&&Object.defineProperty(v,A,{get:function(){return A in v.__set?v.__set[A]:v.__set[A]=g[A]},set:function(z){v.__set[A]=z},configurable:!0})};for(var E in g)w(E);return v}function mt(v,g){v.page=v.page||{},v.page.x=g.page.x,v.page.y=g.page.y,v.client=v.client||{},v.client.x=g.client.x,v.client.y=g.client.y,v.timeStamp=g.timeStamp}function ti(v){v.page.x=0,v.page.y=0,v.client.x=0,v.client.y=0}function Pn(v){return v instanceof qe.Event||v instanceof qe.Touch}function fn(v,g,w){return v=v||"page",(w=w||{}).x=g[v+"X"],w.y=g[v+"Y"],w}function ni(v,g){return g=g||{x:0,y:0},Oe.isOperaMobile&&Pn(v)?(fn("screen",v,g),g.x+=window.scrollX,g.y+=window.scrollY):fn("page",v,g),g}function Ut(v){return G.number(v.pointerId)?v.pointerId:v.identifier}function kt(v,g,w){var E=g.length>1?Dn(g):g[0];ni(E,v.page),function(A,z){z=z||{},Oe.isOperaMobile&&Pn(A)?fn("screen",A,z):fn("client",A,z)}(E,v.client),v.timeStamp=w}function Wt(v){var g=[];return G.array(v)?(g[0]=v[0],g[1]=v[1]):v.type==="touchend"?v.touches.length===1?(g[0]=v.touches[0],g[1]=v.changedTouches[0]):v.touches.length===0&&(g[0]=v.changedTouches[0],g[1]=v.changedTouches[1]):(g[0]=v.touches[0],g[1]=v.touches[1]),g}function Dn(v){for(var g={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},w=0;w<v.length;w++){var E=v[w];for(var A in g)g[A]+=E[A]}for(var z in g)g[z]/=v.length;return g}function Bn(v){if(!v.length)return null;var g=Wt(v),w=Math.min(g[0].pageX,g[1].pageX),E=Math.min(g[0].pageY,g[1].pageY),A=Math.max(g[0].pageX,g[1].pageX),z=Math.max(g[0].pageY,g[1].pageY);return{x:w,y:E,left:w,top:E,right:A,bottom:z,width:A-w,height:z-E}}function zn(v,g){var w=g+"X",E=g+"Y",A=Wt(v),z=A[0][w]-A[1][w],j=A[0][E]-A[1][E];return sn(z,j)}function Hn(v,g){var w=g+"X",E=g+"Y",A=Wt(v),z=A[1][w]-A[0][w],j=A[1][E]-A[0][E];return 180*Math.atan2(j,z)/Math.PI}function ai(v){return G.string(v.pointerType)?v.pointerType:G.number(v.pointerType)?[void 0,void 0,"touch","pen","mouse"][v.pointerType]:/touch/.test(v.type||"")||v instanceof qe.Touch?"touch":"mouse"}function An(v){var g=G.func(v.composedPath)?v.composedPath():v.path;return[Fe(g?g[0]:v.target),Fe(v.currentTarget)]}var Si=function(){function v(g){o(this,v),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=g}return f(v,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),v}();Object.defineProperty(Si.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var hi=function(v,g){for(var w=0;w<g.length;w++){var E=g[w];v.push(E)}return v},pi=function(v){return hi([],v)},il=function(v,g){for(var w=0;w<v.length;w++)if(g(v[w],w,v))return w;return-1},Ur=function(v,g){return v[il(v,g)]},bs=function(v){m(w,v);var g=R(w);function w(E,A,z){var j;o(this,w),(j=g.call(this,A._interaction)).dropzone=void 0,j.dragEvent=void 0,j.relatedTarget=void 0,j.draggable=void 0,j.propagationStopped=!1,j.immediatePropagationStopped=!1;var F=z==="dragleave"?E.prev:E.cur,X=F.element,re=F.dropzone;return j.type=z,j.target=X,j.currentTarget=X,j.dropzone=re,j.dragEvent=A,j.relatedTarget=A.target,j.draggable=A.interactable,j.timeStamp=A.timeStamp,j}return f(w,[{key:"reject",value:function(){var E=this,A=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&A.cur.dropzone===this.dropzone&&A.cur.element===this.target)if(A.prev.dropzone=this.dropzone,A.prev.element=this.target,A.rejected=!0,A.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var z=A.activeDrops,j=il(z,function(X){var re=X.dropzone,K=X.element;return re===E.dropzone&&K===E.target});A.activeDrops.splice(j,1);var F=new w(A,this.dragEvent,"dropdeactivate");F.dropzone=this.dropzone,F.target=this.target,this.dropzone.fire(F)}else this.dropzone.fire(new w(A,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),w}(Si);function Mr(v,g){for(var w=0,E=v.slice();w<E.length;w++){var A=E[w],z=A.dropzone,j=A.element;g.dropzone=z,g.target=j,z.fire(g),g.propagationStopped=g.immediatePropagationStopped=!1}}function Hs(v,g){for(var w=function(z,j){for(var F=[],X=0,re=z.interactables.list;X<re.length;X++){var K=re[X];if(K.options.drop.enabled){var fe=K.options.drop.accept;if(!(G.element(fe)&&fe!==j||G.string(fe)&&!ie(j,fe)||G.func(fe)&&!fe({dropzone:K,draggableElement:j})))for(var _e=0,Be=K.getAllElements();_e<Be.length;_e++){var Ie=Be[_e];Ie!==j&&F.push({dropzone:K,element:Ie,rect:K.getRect(Ie)})}}}return F}(v,g),E=0;E<w.length;E++){var A=w[E];A.rect=A.dropzone.getRect(A.element)}return w}function Ss(v,g,w){for(var E=v.dropState,A=v.interactable,z=v.element,j=[],F=0,X=E.activeDrops;F<X.length;F++){var re=X[F],K=re.dropzone,fe=re.element,_e=re.rect,Be=K.dropCheck(g,w,A,z,fe,_e);j.push(Be?fe:null)}var Ie=function(We){for(var ut,Qe,te,ve=[],de=0;de<We.length;de++){var Ae=We[de],Ve=We[ut];if(Ae&&de!==ut)if(Ve){var Mt=Ce(Ae),Ht=Ce(Ve);if(Mt!==Ae.ownerDocument)if(Ht!==Ae.ownerDocument)if(Mt!==Ht){ve=ve.length?ve:rt(Ve);var Vt=void 0;if(Ve instanceof qe.HTMLElement&&Ae instanceof qe.SVGElement&&!(Ae instanceof qe.SVGSVGElement)){if(Ae===Ht)continue;Vt=Ae.ownerSVGElement}else Vt=Ae;for(var fi=rt(Vt,Ve.ownerDocument),Ms=0;fi[Ms]&&fi[Ms]===ve[Ms];)Ms++;var Bi=[fi[Ms-1],fi[Ms],ve[Ms]];if(Bi[0])for(var eo=Bi[0].lastChild;eo;){if(eo===Bi[1]){ut=de,ve=fi;break}if(eo===Bi[2])break;eo=eo.previousSibling}}else te=Ve,(parseInt(J(Qe=Ae).getComputedStyle(Qe).zIndex,10)||0)>=(parseInt(J(te).getComputedStyle(te).zIndex,10)||0)&&(ut=de);else ut=de}else ut=de}return ut}(j);return E.activeDrops[Ie]||null}function Or(v,g,w){var E=v.dropState,A={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return w.type==="dragstart"&&(A.activate=new bs(E,w,"dropactivate"),A.activate.target=null,A.activate.dropzone=null),w.type==="dragend"&&(A.deactivate=new bs(E,w,"dropdeactivate"),A.deactivate.target=null,A.deactivate.dropzone=null),E.rejected||(E.cur.element!==E.prev.element&&(E.prev.dropzone&&(A.leave=new bs(E,w,"dragleave"),w.dragLeave=A.leave.target=E.prev.element,w.prevDropzone=A.leave.dropzone=E.prev.dropzone),E.cur.dropzone&&(A.enter=new bs(E,w,"dragenter"),w.dragEnter=E.cur.element,w.dropzone=E.cur.dropzone)),w.type==="dragend"&&E.cur.dropzone&&(A.drop=new bs(E,w,"drop"),w.dropzone=E.cur.dropzone,w.relatedTarget=E.cur.element),w.type==="dragmove"&&E.cur.dropzone&&(A.move=new bs(E,w,"dropmove"),w.dropzone=E.cur.dropzone)),A}function $s(v,g){var w=v.dropState,E=w.activeDrops,A=w.cur,z=w.prev;g.leave&&z.dropzone.fire(g.leave),g.enter&&A.dropzone.fire(g.enter),g.move&&A.dropzone.fire(g.move),g.drop&&A.dropzone.fire(g.drop),g.deactivate&&Mr(E,g.deactivate),w.prev.dropzone=A.dropzone,w.prev.element=A.element}function yu(v,g){var w=v.interaction,E=v.iEvent,A=v.event;if(E.type==="dragmove"||E.type==="dragend"){var z=w.dropState;g.dynamicDrop&&(z.activeDrops=Hs(g,w.element));var j=E,F=Ss(w,j,A);z.rejected=z.rejected&&!!F&&F.dropzone===z.cur.dropzone&&F.element===z.cur.element,z.cur.dropzone=F&&F.dropzone,z.cur.element=F&&F.element,z.events=Or(w,0,j)}}var Fs={id:"actions/drop",install:function(v){var g=v.actions,w=v.interactStatic,E=v.Interactable,A=v.defaults;v.usePlugin(Pe),E.prototype.dropzone=function(z){return function(j,F){if(G.object(F)){if(j.options.drop.enabled=F.enabled!==!1,F.listeners){var X=ct(F.listeners),re=Object.keys(X).reduce(function(fe,_e){return fe[/^(enter|leave)/.test(_e)?"drag".concat(_e):/^(activate|deactivate|move)/.test(_e)?"drop".concat(_e):_e]=X[_e],fe},{}),K=j.options.drop.listeners;K&&j.off(K),j.on(re),j.options.drop.listeners=re}return G.func(F.ondrop)&&j.on("drop",F.ondrop),G.func(F.ondropactivate)&&j.on("dropactivate",F.ondropactivate),G.func(F.ondropdeactivate)&&j.on("dropdeactivate",F.ondropdeactivate),G.func(F.ondragenter)&&j.on("dragenter",F.ondragenter),G.func(F.ondragleave)&&j.on("dragleave",F.ondragleave),G.func(F.ondropmove)&&j.on("dropmove",F.ondropmove),/^(pointer|center)$/.test(F.overlap)?j.options.drop.overlap=F.overlap:G.number(F.overlap)&&(j.options.drop.overlap=Math.max(Math.min(1,F.overlap),0)),"accept"in F&&(j.options.drop.accept=F.accept),"checker"in F&&(j.options.drop.checker=F.checker),j}return G.bool(F)?(j.options.drop.enabled=F,j):j.options.drop}(this,z)},E.prototype.dropCheck=function(z,j,F,X,re,K){return function(fe,_e,Be,Ie,We,ut,Qe){var te=!1;if(!(Qe=Qe||fe.getRect(ut)))return!!fe.options.drop.checker&&fe.options.drop.checker(_e,Be,te,fe,ut,Ie,We);var ve=fe.options.drop.overlap;if(ve==="pointer"){var de=pt(Ie,We,"drag"),Ae=ni(_e);Ae.x+=de.x,Ae.y+=de.y;var Ve=Ae.x>Qe.left&&Ae.x<Qe.right,Mt=Ae.y>Qe.top&&Ae.y<Qe.bottom;te=Ve&&Mt}var Ht=Ie.getRect(We);if(Ht&&ve==="center"){var Vt=Ht.left+Ht.width/2,fi=Ht.top+Ht.height/2;te=Vt>=Qe.left&&Vt<=Qe.right&&fi>=Qe.top&&fi<=Qe.bottom}return Ht&&G.number(ve)&&(te=Math.max(0,Math.min(Qe.right,Ht.right)-Math.max(Qe.left,Ht.left))*Math.max(0,Math.min(Qe.bottom,Ht.bottom)-Math.max(Qe.top,Ht.top))/(Ht.width*Ht.height)>=ve),fe.options.drop.checker&&(te=fe.options.drop.checker(_e,Be,te,fe,ut,Ie,We)),te}(this,z,j,F,X,re,K)},w.dynamicDrop=function(z){return G.bool(z)?(v.dynamicDrop=z,w):v.dynamicDrop},Ke(g.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),g.methodDict.drop="dropzone",v.dynamicDrop=!1,A.actions.drop=Fs.defaults},listeners:{"interactions:before-action-start":function(v){var g=v.interaction;g.prepared.name==="drag"&&(g.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(v,g){var w=v.interaction,E=(v.event,v.iEvent);if(w.prepared.name==="drag"){var A=w.dropState;A.activeDrops=[],A.events={},A.activeDrops=Hs(g,w.element),A.events=Or(w,0,E),A.events.activate&&(Mr(A.activeDrops,A.events.activate),g.fire("actions/drop:start",{interaction:w,dragEvent:E}))}},"interactions:action-move":yu,"interactions:after-action-move":function(v,g){var w=v.interaction,E=v.iEvent;if(w.prepared.name==="drag"){var A=w.dropState;$s(w,A.events),g.fire("actions/drop:move",{interaction:w,dragEvent:E}),A.events={}}},"interactions:action-end":function(v,g){if(v.interaction.prepared.name==="drag"){var w=v.interaction,E=v.iEvent;yu(v,g),$s(w,w.dropState.events),g.fire("actions/drop:end",{interaction:w,dragEvent:E})}},"interactions:stop":function(v){var g=v.interaction;if(g.prepared.name==="drag"){var w=g.dropState;w&&(w.activeDrops=null,w.events=null,w.cur.dropzone=null,w.cur.element=null,w.prev.dropzone=null,w.prev.element=null,w.rejected=!1)}}},getActiveDrops:Hs,getDrop:Ss,getDropEvents:Or,fireDropEvents:$s,filterEventType:function(v){return v.search("drag")===0||v.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},bu=Fs;function Gr(v){var g=v.interaction,w=v.iEvent,E=v.phase;if(g.prepared.name==="gesture"){var A=g.pointers.map(function(re){return re.pointer}),z=E==="start",j=E==="end",F=g.interactable.options.deltaSource;if(w.touches=[A[0],A[1]],z)w.distance=zn(A,F),w.box=Bn(A),w.scale=1,w.ds=0,w.angle=Hn(A,F),w.da=0,g.gesture.startDistance=w.distance,g.gesture.startAngle=w.angle;else if(j||g.pointers.length<2){var X=g.prevEvent;w.distance=X.distance,w.box=X.box,w.scale=X.scale,w.ds=0,w.angle=X.angle,w.da=0}else w.distance=zn(A,F),w.box=Bn(A),w.scale=w.distance/g.gesture.startDistance,w.angle=Hn(A,F),w.ds=w.scale-g.gesture.scale,w.da=w.angle-g.gesture.angle;g.gesture.distance=w.distance,g.gesture.angle=w.angle,G.number(w.scale)&&w.scale!==1/0&&!isNaN(w.scale)&&(g.gesture.scale=w.scale)}}var Us={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(v){var g=v.actions,w=v.Interactable,E=v.defaults;w.prototype.gesturable=function(A){return G.object(A)?(this.options.gesture.enabled=A.enabled!==!1,this.setPerAction("gesture",A),this.setOnEvents("gesture",A),this):G.bool(A)?(this.options.gesture.enabled=A,this):this.options.gesture},g.map.gesture=Us,g.methodDict.gesture="gesturable",E.actions.gesture=Us.defaults},listeners:{"interactions:action-start":Gr,"interactions:action-move":Gr,"interactions:action-end":Gr,"interactions:new":function(v){v.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(v){if(!(v.interaction.pointers.length<2)){var g=v.interactable.options.gesture;if(g&&g.enabled)return v.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(v){return v.search("gesture")===0}},xo=Us;function rl(v,g,w,E,A,z,j){if(!g)return!1;if(g===!0){var F=G.number(z.width)?z.width:z.right-z.left,X=G.number(z.height)?z.height:z.bottom-z.top;if(j=Math.min(j,Math.abs((v==="left"||v==="right"?F:X)/2)),F<0&&(v==="left"?v="right":v==="right"&&(v="left")),X<0&&(v==="top"?v="bottom":v==="bottom"&&(v="top")),v==="left"){var re=F>=0?z.left:z.right;return w.x<re+j}if(v==="top"){var K=X>=0?z.top:z.bottom;return w.y<K+j}if(v==="right")return w.x>(F>=0?z.right:z.left)-j;if(v==="bottom")return w.y>(X>=0?z.bottom:z.top)-j}return!!G.element(E)&&(G.element(g)?g===E:et(E,g,A))}function Co(v){var g=v.iEvent,w=v.interaction;if(w.prepared.name==="resize"&&w.resizeAxes){var E=g;w.interactable.options.resize.square?(w.resizeAxes==="y"?E.delta.x=E.delta.y:E.delta.y=E.delta.x,E.axes="xy"):(E.axes=w.resizeAxes,w.resizeAxes==="x"?E.delta.y=0:w.resizeAxes==="y"&&(E.delta.x=0))}}var Ar,ws,Wr={id:"actions/resize",before:["actions/drag"],install:function(v){var g=v.actions,w=v.browser,E=v.Interactable,A=v.defaults;Wr.cursors=function(z){return z.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(w),Wr.defaultMargin=w.supportsTouch||w.supportsPointerEvent?20:10,E.prototype.resizable=function(z){return function(j,F,X){return G.object(F)?(j.options.resize.enabled=F.enabled!==!1,j.setPerAction("resize",F),j.setOnEvents("resize",F),G.string(F.axis)&&/^x$|^y$|^xy$/.test(F.axis)?j.options.resize.axis=F.axis:F.axis===null&&(j.options.resize.axis=X.defaults.actions.resize.axis),G.bool(F.preserveAspectRatio)?j.options.resize.preserveAspectRatio=F.preserveAspectRatio:G.bool(F.square)&&(j.options.resize.square=F.square),j):G.bool(F)?(j.options.resize.enabled=F,j):j.options.resize}(this,z,v)},g.map.resize=Wr,g.methodDict.resize="resizable",A.actions.resize=Wr.defaults},listeners:{"interactions:new":function(v){v.interaction.resizeAxes="xy"},"interactions:action-start":function(v){(function(g){var w=g.iEvent,E=g.interaction;if(E.prepared.name==="resize"&&E.prepared.edges){var A=w,z=E.rect;E._rects={start:Ke({},z),corrected:Ke({},z),previous:Ke({},z),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},A.edges=E.prepared.edges,A.rect=E._rects.corrected,A.deltaRect=E._rects.delta}})(v),Co(v)},"interactions:action-move":function(v){(function(g){var w=g.iEvent,E=g.interaction;if(E.prepared.name==="resize"&&E.prepared.edges){var A=w,z=E.interactable.options.resize.invert,j=z==="reposition"||z==="negate",F=E.rect,X=E._rects,re=X.start,K=X.corrected,fe=X.delta,_e=X.previous;if(Ke(_e,K),j){if(Ke(K,F),z==="reposition"){if(K.top>K.bottom){var Be=K.top;K.top=K.bottom,K.bottom=Be}if(K.left>K.right){var Ie=K.left;K.left=K.right,K.right=Ie}}}else K.top=Math.min(F.top,re.bottom),K.bottom=Math.max(F.bottom,re.top),K.left=Math.min(F.left,re.right),K.right=Math.max(F.right,re.left);for(var We in K.width=K.right-K.left,K.height=K.bottom-K.top,K)fe[We]=K[We]-_e[We];A.edges=E.prepared.edges,A.rect=K,A.deltaRect=fe}})(v),Co(v)},"interactions:action-end":function(v){var g=v.iEvent,w=v.interaction;if(w.prepared.name==="resize"&&w.prepared.edges){var E=g;E.edges=w.prepared.edges,E.rect=w._rects.corrected,E.deltaRect=w._rects.delta}},"auto-start:check":function(v){var g=v.interaction,w=v.interactable,E=v.element,A=v.rect,z=v.buttons;if(A){var j=Ke({},g.coords.cur.page),F=w.options.resize;if(F&&F.enabled&&(!g.pointerIsDown||!/mouse|pointer/.test(g.pointerType)||z&F.mouseButtons)){if(G.object(F.edges)){var X={left:!1,right:!1,top:!1,bottom:!1};for(var re in X)X[re]=rl(re,F.edges[re],j,g._latestPointer.eventTarget,E,A,F.margin||Wr.defaultMargin);X.left=X.left&&!X.right,X.top=X.top&&!X.bottom,(X.left||X.right||X.top||X.bottom)&&(v.action={name:"resize",edges:X})}else{var K=F.axis!=="y"&&j.x>A.right-Wr.defaultMargin,fe=F.axis!=="x"&&j.y>A.bottom-Wr.defaultMargin;(K||fe)&&(v.action={name:"resize",axes:(K?"x":"")+(fe?"y":"")})}return!v.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(v){var g=v.edges,w=v.axis,E=v.name,A=Wr.cursors,z=null;if(w)z=A[E+w];else if(g){for(var j="",F=0,X=["top","bottom","left","right"];F<X.length;F++){var re=X[F];g[re]&&(j+=re)}z=A[j]}return z},filterEventType:function(v){return v.search("resize")===0},defaultMargin:null},_s=Wr,mi={id:"actions",install:function(v){v.usePlugin(xo),v.usePlugin(_s),v.usePlugin(Pe),v.usePlugin(bu)}},ui=0,Fi={request:function(v){return Ar(v)},cancel:function(v){return ws(v)},init:function(v){if(Ar=v.requestAnimationFrame,ws=v.cancelAnimationFrame,!Ar)for(var g=["ms","moz","webkit","o"],w=0;w<g.length;w++){var E=g[w];Ar=v["".concat(E,"RequestAnimationFrame")],ws=v["".concat(E,"CancelAnimationFrame")]||v["".concat(E,"CancelRequestAnimationFrame")]}Ar=Ar&&Ar.bind(v),ws=ws&&ws.bind(v),Ar||(Ar=function(A){var z=Date.now(),j=Math.max(0,16-(z-ui)),F=v.setTimeout(function(){A(z+j)},j);return ui=z+j,F},ws=function(A){return clearTimeout(A)})}},Rt={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(v){Rt.isScrolling=!0,Fi.cancel(Rt.i),v.autoScroll=Rt,Rt.interaction=v,Rt.prevTime=Rt.now(),Rt.i=Fi.request(Rt.scroll)},stop:function(){Rt.isScrolling=!1,Rt.interaction&&(Rt.interaction.autoScroll=null),Fi.cancel(Rt.i)},scroll:function(){var v=Rt.interaction,g=v.interactable,w=v.element,E=v.prepared.name,A=g.options[E].autoScroll,z=ka(A.container,g,w),j=Rt.now(),F=(j-Rt.prevTime)/1e3,X=A.speed*F;if(X>=1){var re={x:Rt.x*X,y:Rt.y*X};if(re.x||re.y){var K=sl(z);G.window(z)?z.scrollBy(re.x,re.y):z&&(z.scrollLeft+=re.x,z.scrollTop+=re.y);var fe=sl(z),_e={x:fe.x-K.x,y:fe.y-K.y};(_e.x||_e.y)&&g.fire({type:"autoscroll",target:w,interactable:g,delta:_e,interaction:v,container:z})}Rt.prevTime=j}Rt.isScrolling&&(Fi.cancel(Rt.i),Rt.i=Fi.request(Rt.scroll))},check:function(v,g){var w;return(w=v.options[g].autoScroll)==null?void 0:w.enabled},onInteractionMove:function(v){var g=v.interaction,w=v.pointer;if(g.interacting()&&Rt.check(g.interactable,g.prepared.name))if(g.simulation)Rt.x=Rt.y=0;else{var E,A,z,j,F=g.interactable,X=g.element,re=g.prepared.name,K=F.options[re].autoScroll,fe=ka(K.container,F,X);if(G.window(fe))j=w.clientX<Rt.margin,E=w.clientY<Rt.margin,A=w.clientX>fe.innerWidth-Rt.margin,z=w.clientY>fe.innerHeight-Rt.margin;else{var _e=tt(fe);j=w.clientX<_e.left+Rt.margin,E=w.clientY<_e.top+Rt.margin,A=w.clientX>_e.right-Rt.margin,z=w.clientY>_e.bottom-Rt.margin}Rt.x=A?1:j?-1:0,Rt.y=z?1:E?-1:0,Rt.isScrolling||(Rt.margin=K.margin,Rt.speed=K.speed,Rt.start(g))}}};function ka(v,g,w){return(G.string(v)?Jt(v,g,w):v)||J(w)}function sl(v){return G.window(v)&&(v=window.document.body),{x:v.scrollLeft,y:v.scrollTop}}var Su={id:"auto-scroll",install:function(v){var g=v.defaults,w=v.actions;v.autoScroll=Rt,Rt.now=function(){return v.now()},w.phaselessTypes.autoscroll=!0,g.perAction.autoScroll=Rt.defaults},listeners:{"interactions:new":function(v){v.interaction.autoScroll=null},"interactions:destroy":function(v){v.interaction.autoScroll=null,Rt.stop(),Rt.interaction&&(Rt.interaction=null)},"interactions:stop":Rt.stop,"interactions:action-move":function(v){return Rt.onInteractionMove(v)}}},xs=Su;function Gs(v,g){var w=!1;return function(){return w||(V.console.warn(g),w=!0),v.apply(this,arguments)}}function Vr(v,g){return v.name=g.name,v.axis=g.axis,v.edges=g.edges,v}function qr(v){return G.bool(v)?(this.options.styleCursor=v,this):v===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Yr(v){return G.func(v)?(this.options.actionChecker=v,this):v===null?(delete this.options.actionChecker,this):this.options.actionChecker}var Ws={id:"auto-start/interactableMethods",install:function(v){var g=v.Interactable;g.prototype.getAction=function(w,E,A,z){var j=function(F,X,re,K,fe){var _e=F.getRect(K),Be=X.buttons||{0:1,1:4,3:8,4:16}[X.button],Ie={action:null,interactable:F,interaction:re,element:K,rect:_e,buttons:Be};return fe.fire("auto-start:check",Ie),Ie.action}(this,E,A,z,v);return this.options.actionChecker?this.options.actionChecker(w,E,j,this,z,A):j},g.prototype.ignoreFrom=Gs(function(w){return this._backCompatOption("ignoreFrom",w)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),g.prototype.allowFrom=Gs(function(w){return this._backCompatOption("allowFrom",w)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),g.prototype.actionChecker=Yr,g.prototype.styleCursor=qr}};function $n(v,g,w,E,A){return g.testIgnoreAllow(g.options[v.name],w,E)&&g.options[v.name].enabled&&dr(g,w,v,A)?v:null}function wu(v,g,w,E,A,z,j){for(var F=0,X=E.length;F<X;F++){var re=E[F],K=A[F],fe=re.getAction(g,w,v,K);if(fe){var _e=$n(fe,re,K,z,j);if(_e)return{action:_e,interactable:re,element:K}}}return{action:null,interactable:null,element:null}}function Cs(v,g,w,E,A){var z=[],j=[],F=E;function X(K){z.push(K),j.push(F)}for(;G.element(F);){z=[],j=[],A.interactables.forEachMatch(F,X);var re=wu(v,g,w,z,j,E,A);if(re.action&&!re.interactable.options[re.action.name].manualStart)return re;F=dt(F)}return{action:null,interactable:null,element:null}}function Ts(v,g,w){var E=g.action,A=g.interactable,z=g.element;E=E||{name:null},v.interactable=A,v.element=z,Vr(v.prepared,E),v.rect=A&&E.name?A.getRect(z):null,Da(v,w),w.fire("autoStart:prepared",{interaction:v})}function dr(v,g,w,E){var A=v.options,z=A[w.name].max,j=A[w.name].maxPerElement,F=E.autoStart.maxInteractions,X=0,re=0,K=0;if(!(z&&j&&F))return!1;for(var fe=0,_e=E.interactions.list;fe<_e.length;fe++){var Be=_e[fe],Ie=Be.prepared.name;if(Be.interacting()&&(++X>=F||Be.interactable===v&&((re+=Ie===w.name?1:0)>=z||Be.element===g&&(K++,Ie===w.name&&K>=j))))return!1}return F>0}function hr(v,g){return G.number(v)?(g.autoStart.maxInteractions=v,this):g.autoStart.maxInteractions}function To(v,g,w){var E=w.autoStart.cursorElement;E&&E!==v&&(E.style.cursor=""),v.ownerDocument.documentElement.style.cursor=g,v.style.cursor=g,w.autoStart.cursorElement=g?v:null}function Da(v,g){var w=v.interactable,E=v.element,A=v.prepared;if(v.pointerType==="mouse"&&w&&w.options.styleCursor){var z="";if(A.name){var j=w.options[A.name].cursorChecker;z=G.func(j)?j(A,w,E,v._interacting):g.actions.map[A.name].getCursor(A)}To(v.element,z||"",g)}else g.autoStart.cursorElement&&To(g.autoStart.cursorElement,"",g)}var za={id:"auto-start/base",before:["actions"],install:function(v){var g=v.interactStatic,w=v.defaults;v.usePlugin(Ws),w.base.actionChecker=null,w.base.styleCursor=!0,Ke(w.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),g.maxInteractions=function(E){return hr(E,v)},v.autoStart={maxInteractions:1/0,withinInteractionLimit:dr,cursorElement:null}},listeners:{"interactions:down":function(v,g){var w=v.interaction,E=v.pointer,A=v.event,z=v.eventTarget;w.interacting()||Ts(w,Cs(w,E,A,z,g),g)},"interactions:move":function(v,g){(function(w,E){var A=w.interaction,z=w.pointer,j=w.event,F=w.eventTarget;A.pointerType!=="mouse"||A.pointerIsDown||A.interacting()||Ts(A,Cs(A,z,j,F,E),E)})(v,g),function(w,E){var A=w.interaction;if(A.pointerIsDown&&!A.interacting()&&A.pointerWasMoved&&A.prepared.name){E.fire("autoStart:before-start",w);var z=A.interactable,j=A.prepared.name;j&&z&&(z.options[j].manualStart||!dr(z,A.element,A.prepared,E)?A.stop():(A.start(A.prepared,z,A.element),Da(A,E)))}}(v,g)},"interactions:stop":function(v,g){var w=v.interaction,E=w.interactable;E&&E.options.styleCursor&&To(w.element,"",g)}},maxInteractions:hr,withinInteractionLimit:dr,validateAction:$n},Na=za,ol={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(v,g){var w=v.interaction,E=v.eventTarget,A=v.dx,z=v.dy;if(w.prepared.name==="drag"){var j=Math.abs(A),F=Math.abs(z),X=w.interactable.options.drag,re=X.startAxis,K=j>F?"x":j<F?"y":"xy";if(w.prepared.axis=X.lockAxis==="start"?K[0]:X.lockAxis,K!=="xy"&&re!=="xy"&&re!==K){w.prepared.name=null;for(var fe=E,_e=function(Ie){if(Ie!==w.interactable){var We=w.interactable.options.drag;if(!We.manualStart&&Ie.testIgnoreAllow(We,fe,E)){var ut=Ie.getAction(w.downPointer,w.downEvent,w,fe);if(ut&&ut.name==="drag"&&function(Qe,te){if(!te)return!1;var ve=te.options.drag.startAxis;return Qe==="xy"||ve==="xy"||ve===Qe}(K,Ie)&&Na.validateAction(ut,Ie,fe,E,g))return Ie}}};G.element(fe);){var Be=g.interactables.forEachMatch(fe,_e);if(Be){w.prepared.name="drag",w.interactable=Be,w.element=fe;break}fe=dt(fe)}}}}}};function Vs(v){var g=v.prepared&&v.prepared.name;if(!g)return null;var w=v.interactable.options;return w[g].hold||w[g].delay}var kr={id:"auto-start/hold",install:function(v){var g=v.defaults;v.usePlugin(Na),g.perAction.hold=0,g.perAction.delay=0},listeners:{"interactions:new":function(v){v.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(v){var g=v.interaction,w=Vs(g);w>0&&(g.autoStartHoldTimer=setTimeout(function(){g.start(g.prepared,g.interactable,g.element)},w))},"interactions:move":function(v){var g=v.interaction,w=v.duplicate;g.autoStartHoldTimer&&g.pointerWasMoved&&!w&&(clearTimeout(g.autoStartHoldTimer),g.autoStartHoldTimer=null)},"autoStart:before-start":function(v){var g=v.interaction;Vs(g)>0&&(g.prepared.name=null)}},getHoldDuration:Vs},Ni=kr,Ul={id:"auto-start",install:function(v){v.usePlugin(Na),v.usePlugin(Ni),v.usePlugin(ol)}},Pc=function(v){return/^(always|never|auto)$/.test(v)?(this.options.preventDefault=v,this):G.bool(v)?(this.options.preventDefault=v?"always":"never",this):this.options.preventDefault};function ll(v){var g=v.interaction,w=v.event;g.interactable&&g.interactable.checkAndPreventDefault(w)}var Es={id:"core/interactablePreventDefault",install:function(v){var g=v.Interactable;g.prototype.preventDefault=Pc,g.prototype.checkAndPreventDefault=function(w){return function(E,A,z){var j=E.options.preventDefault;if(j!=="never")if(j!=="always"){if(A.events.supportsPassive&&/^touch(start|move)$/.test(z.type)){var F=J(z.target).document,X=A.getDocOptions(F);if(!X||!X.events||X.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(z.type)||G.element(z.target)&&ie(z.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||z.preventDefault()}else z.preventDefault()}(this,v,w)},v.interactions.docEvents.push({type:"dragstart",listener:function(w){for(var E=0,A=v.interactions.list;E<A.length;E++){var z=A[E];if(z.element&&(z.element===w.target||Je(z.element,w.target)))return void z.interactable.checkAndPreventDefault(w)}}})},listeners:["down","move","up","cancel"].reduce(function(v,g){return v["interactions:".concat(g)]=ll,v},{})};function wi(v,g){if(g.phaselessTypes[v])return!0;for(var w in g.map)if(v.indexOf(w)===0&&v.substr(w.length)in g.phases)return!0;return!1}function Eo(v){var g={};for(var w in v){var E=v[w];G.plainObject(E)?g[w]=Eo(E):G.array(E)?g[w]=pi(E):g[w]=E}return g}var _i=function(){function v(g){o(this,v),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=g,this.result=qs(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return f(v,[{key:"start",value:function(g,w){var E,A,z=g.phase,j=this.interaction,F=function(re){var K=re.interactable.options[re.prepared.name],fe=K.modifiers;return fe&&fe.length?fe:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(_e){var Be=K[_e];return Be&&Be.enabled&&{options:Be,methods:Be._methods}}).filter(function(_e){return!!_e})}(j);this.prepareStates(F),this.startEdges=Ke({},j.edges),this.edges=Ke({},this.startEdges),this.startOffset=(E=j.rect,A=w,E?{left:A.x-E.left,top:A.y-E.top,right:E.right-A.x,bottom:E.bottom-A.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var X=this.fillArg({phase:z,pageCoords:w,preEnd:!1});return this.result=qs(),this.startAll(X),this.result=this.setAll(X)}},{key:"fillArg",value:function(g){var w=this.interaction;return g.interaction=w,g.interactable=w.interactable,g.element=w.element,g.rect||(g.rect=w.rect),g.edges||(g.edges=this.startEdges),g.startOffset=this.startOffset,g}},{key:"startAll",value:function(g){for(var w=0,E=this.states;w<E.length;w++){var A=E[w];A.methods.start&&(g.state=A,A.methods.start(g))}}},{key:"setAll",value:function(g){var w=g.phase,E=g.preEnd,A=g.skipModifiers,z=g.rect,j=g.edges;g.coords=Ke({},g.pageCoords),g.rect=Ke({},z),g.edges=Ke({},j);for(var F=A?this.states.slice(A):this.states,X=qs(g.coords,g.rect),re=0;re<F.length;re++){var K,fe=F[re],_e=fe.options,Be=Ke({},g.coords),Ie=null;(K=fe.methods)!=null&&K.set&&this.shouldDo(_e,E,w)&&(g.state=fe,Ie=fe.methods.set(g),nt(g.edges,g.rect,{x:g.coords.x-Be.x,y:g.coords.y-Be.y})),X.eventProps.push(Ie)}Ke(this.edges,g.edges),X.delta.x=g.coords.x-g.pageCoords.x,X.delta.y=g.coords.y-g.pageCoords.y,X.rectDelta.left=g.rect.left-z.left,X.rectDelta.right=g.rect.right-z.right,X.rectDelta.top=g.rect.top-z.top,X.rectDelta.bottom=g.rect.bottom-z.bottom;var We=this.result.coords,ut=this.result.rect;if(We&&ut){var Qe=X.rect.left!==ut.left||X.rect.right!==ut.right||X.rect.top!==ut.top||X.rect.bottom!==ut.bottom;X.changed=Qe||We.x!==X.coords.x||We.y!==X.coords.y}return X}},{key:"applyToInteraction",value:function(g){var w=this.interaction,E=g.phase,A=w.coords.cur,z=w.coords.start,j=this.result,F=this.startDelta,X=j.delta;E==="start"&&Ke(this.startDelta,j.delta);for(var re=0,K=[[z,F],[A,X]];re<K.length;re++){var fe=K[re],_e=fe[0],Be=fe[1];_e.page.x+=Be.x,_e.page.y+=Be.y,_e.client.x+=Be.x,_e.client.y+=Be.y}var Ie=this.result.rectDelta,We=g.rect||w.rect;We.left+=Ie.left,We.right+=Ie.right,We.top+=Ie.top,We.bottom+=Ie.bottom,We.width=We.right-We.left,We.height=We.bottom-We.top}},{key:"setAndApply",value:function(g){var w=this.interaction,E=g.phase,A=g.preEnd,z=g.skipModifiers,j=this.setAll(this.fillArg({preEnd:A,phase:E,pageCoords:g.modifiedCoords||w.coords.cur.page}));if(this.result=j,!j.changed&&(!z||z<this.states.length)&&w.interacting())return!1;if(g.modifiedCoords){var F=w.coords.cur.page,X={x:g.modifiedCoords.x-F.x,y:g.modifiedCoords.y-F.y};j.coords.x+=X.x,j.coords.y+=X.y,j.delta.x+=X.x,j.delta.y+=X.y}this.applyToInteraction(g)}},{key:"beforeEnd",value:function(g){var w=g.interaction,E=g.event,A=this.states;if(A&&A.length){for(var z=!1,j=0;j<A.length;j++){var F=A[j];g.state=F;var X=F.options,re=F.methods,K=re.beforeEnd&&re.beforeEnd(g);if(K)return this.endResult=K,!1;z=z||!z&&this.shouldDo(X,!0,g.phase,!0)}z&&w.move({event:E,preEnd:!0})}}},{key:"stop",value:function(g){var w=g.interaction;if(this.states&&this.states.length){var E=Ke({states:this.states,interactable:w.interactable,element:w.element,rect:null},g);this.fillArg(E);for(var A=0,z=this.states;A<z.length;A++){var j=z[A];E.state=j,j.methods.stop&&j.methods.stop(E)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(g){this.states=[];for(var w=0;w<g.length;w++){var E=g[w],A=E.options,z=E.methods,j=E.name;this.states.push({options:A,methods:z,index:w,name:j})}return this.states}},{key:"restoreInteractionCoords",value:function(g){var w=g.interaction,E=w.coords,A=w.rect,z=w.modification;if(z.result){for(var j=z.startDelta,F=z.result,X=F.delta,re=F.rectDelta,K=0,fe=[[E.start,j],[E.cur,X]];K<fe.length;K++){var _e=fe[K],Be=_e[0],Ie=_e[1];Be.page.x-=Ie.x,Be.page.y-=Ie.y,Be.client.x-=Ie.x,Be.client.y-=Ie.y}A.left-=re.left,A.right-=re.right,A.top-=re.top,A.bottom-=re.bottom}}},{key:"shouldDo",value:function(g,w,E,A){return!(!g||g.enabled===!1||A&&!g.endOnly||g.endOnly&&!w||E==="start"&&!g.setStart)}},{key:"copyFrom",value:function(g){this.startOffset=g.startOffset,this.startDelta=g.startDelta,this.startEdges=g.startEdges,this.edges=g.edges,this.states=g.states.map(function(w){return Eo(w)}),this.result=qs(Ke({},g.result.coords),Ke({},g.result.rect))}},{key:"destroy",value:function(){for(var g in this)this[g]=null}}]),v}();function qs(v,g){return{rect:g,coords:v,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Ui(v,g){var w=v.defaults,E={start:v.start,set:v.set,beforeEnd:v.beforeEnd,stop:v.stop},A=function(z){var j=z||{};for(var F in j.enabled=j.enabled!==!1,w)F in j||(j[F]=w[F]);var X={options:j,methods:E,name:g,enable:function(){return j.enabled=!0,X},disable:function(){return j.enabled=!1,X}};return X};return g&&typeof g=="string"&&(A._defaults=w,A._methods=E),A}function Ys(v){var g=v.iEvent,w=v.interaction.modification.result;w&&(g.modifiers=w.eventProps)}var Xs={id:"modifiers/base",before:["actions"],install:function(v){v.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(v){var g=v.interaction;g.modification=new _i(g)},"interactions:before-action-start":function(v){var g=v.interaction,w=v.interaction.modification;w.start(v,g.coords.start.page),g.edges=w.edges,w.applyToInteraction(v)},"interactions:before-action-move":function(v){var g=v.interaction,w=g.modification,E=w.setAndApply(v);return g.edges=w.edges,E},"interactions:before-action-end":function(v){var g=v.interaction,w=g.modification,E=w.beforeEnd(v);return g.edges=w.startEdges,E},"interactions:action-start":Ys,"interactions:action-move":Ys,"interactions:action-end":Ys,"interactions:after-action-start":function(v){return v.interaction.modification.restoreInteractionCoords(v)},"interactions:after-action-move":function(v){return v.interaction.modification.restoreInteractionCoords(v)},"interactions:stop":function(v){return v.interaction.modification.stop(v)}}},Ks=Xs,al={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Gi=function(v){m(w,v);var g=R(w);function w(E,A,z,j,F,X,re){var K;o(this,w),(K=g.call(this,E)).relatedTarget=null,K.screenX=void 0,K.screenY=void 0,K.button=void 0,K.buttons=void 0,K.ctrlKey=void 0,K.shiftKey=void 0,K.altKey=void 0,K.metaKey=void 0,K.page=void 0,K.client=void 0,K.delta=void 0,K.rect=void 0,K.x0=void 0,K.y0=void 0,K.t0=void 0,K.dt=void 0,K.duration=void 0,K.clientX0=void 0,K.clientY0=void 0,K.velocity=void 0,K.speed=void 0,K.swipe=void 0,K.axes=void 0,K.preEnd=void 0,F=F||E.element;var fe=E.interactable,_e=(fe&&fe.options||al).deltaSource,Be=pt(fe,F,z),Ie=j==="start",We=j==="end",ut=Ie?T(K):E.prevEvent,Qe=Ie?E.coords.start:We?{page:ut.page,client:ut.client,timeStamp:E.coords.cur.timeStamp}:E.coords.cur;return K.page=Ke({},Qe.page),K.client=Ke({},Qe.client),K.rect=Ke({},E.rect),K.timeStamp=Qe.timeStamp,We||(K.page.x-=Be.x,K.page.y-=Be.y,K.client.x-=Be.x,K.client.y-=Be.y),K.ctrlKey=A.ctrlKey,K.altKey=A.altKey,K.shiftKey=A.shiftKey,K.metaKey=A.metaKey,K.button=A.button,K.buttons=A.buttons,K.target=F,K.currentTarget=F,K.preEnd=X,K.type=re||z+(j||""),K.interactable=fe,K.t0=Ie?E.pointers[E.pointers.length-1].downTime:ut.t0,K.x0=E.coords.start.page.x-Be.x,K.y0=E.coords.start.page.y-Be.y,K.clientX0=E.coords.start.client.x-Be.x,K.clientY0=E.coords.start.client.y-Be.y,K.delta=Ie||We?{x:0,y:0}:{x:K[_e].x-ut[_e].x,y:K[_e].y-ut[_e].y},K.dt=E.coords.delta.timeStamp,K.duration=K.timeStamp-K.t0,K.velocity=Ke({},E.coords.velocity[_e]),K.speed=sn(K.velocity.x,K.velocity.y),K.swipe=We||j==="inertiastart"?K.getSwipe():null,K}return f(w,[{key:"getSwipe",value:function(){var E=this._interaction;if(E.prevEvent.speed<600||this.timeStamp-E.prevEvent.timeStamp>150)return null;var A=180*Math.atan2(E.prevEvent.velocityY,E.prevEvent.velocityX)/Math.PI;A<0&&(A+=360);var z=112.5<=A&&A<247.5,j=202.5<=A&&A<337.5;return{up:j,down:!j&&22.5<=A&&A<157.5,left:z,right:!z&&(292.5<=A||A<67.5),angle:A,speed:E.prevEvent.speed,velocity:{x:E.prevEvent.velocityX,y:E.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),w}(Si);Object.defineProperties(Gi.prototype,{pageX:{get:function(){return this.page.x},set:function(v){this.page.x=v}},pageY:{get:function(){return this.page.y},set:function(v){this.page.y=v}},clientX:{get:function(){return this.client.x},set:function(v){this.client.x=v}},clientY:{get:function(){return this.client.y},set:function(v){this.client.y=v}},dx:{get:function(){return this.delta.x},set:function(v){this.delta.x=v}},dy:{get:function(){return this.delta.y},set:function(v){this.delta.y=v}},velocityX:{get:function(){return this.velocity.x},set:function(v){this.velocity.x=v}},velocityY:{get:function(){return this.velocity.y},set:function(v){this.velocity.y=v}}});var _u=f(function v(g,w,E,A,z){o(this,v),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=g,this.pointer=w,this.event=E,this.downTime=A,this.downTarget=z}),La=function(v){return v.interactable="",v.element="",v.prepared="",v.pointerIsDown="",v.pointerWasMoved="",v._proxy="",v}({}),Pa=function(v){return v.start="",v.move="",v.end="",v.stop="",v.interacting="",v}({}),ul=0,Ro=function(){function v(g){var w=this,E=g.pointerType,A=g.scopeFire;o(this,v),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=Gs(function(K){this.move(K)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=ul++,this._scopeFire=A,this.pointerType=E;var z=this;this._proxy={};var j=function(K){Object.defineProperty(w._proxy,K,{get:function(){return z[K]}})};for(var F in La)j(F);var X=function(K){Object.defineProperty(w._proxy,K,{value:function(){return z[K].apply(z,arguments)}})};for(var re in Pa)X(re);this._scopeFire("interactions:new",{interaction:this})}return f(v,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(g,w,E){var A=this.updatePointer(g,w,E,!0),z=this.pointers[A];this._scopeFire("interactions:down",{pointer:g,event:w,eventTarget:E,pointerIndex:A,pointerInfo:z,type:"down",interaction:this})}},{key:"start",value:function(g,w,E){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(g.name==="gesture"?2:1)||!w.options[g.name].enabled)&&(Vr(this.prepared,g),this.interactable=w,this.element=E,this.rect=w.getRect(E),this.edges=this.prepared.edges?Ke({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(g,w,E){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(g,w,E,!1);var A,z,j=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(A=this.coords.cur.client.x-this.coords.start.client.x,z=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=sn(A,z)>this.pointerMoveTolerance);var F,X,re,K=this.getPointerIndex(g),fe={pointer:g,pointerIndex:K,pointerInfo:this.pointers[K],event:w,type:"move",eventTarget:E,dx:A,dy:z,duplicate:j,interaction:this};j||(F=this.coords.velocity,X=this.coords.delta,re=Math.max(X.timeStamp/1e3,.001),F.page.x=X.page.x/re,F.page.y=X.page.y/re,F.client.x=X.client.x/re,F.client.y=X.client.y/re,F.timeStamp=re),this._scopeFire("interactions:move",fe),j||this.simulation||(this.interacting()&&(fe.type=null,this.move(fe)),this.pointerWasMoved&&mt(this.coords.prev,this.coords.cur))}},{key:"move",value:function(g){g&&g.event||ti(this.coords.delta),(g=Ke({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},g||{})).phase="move",this._doPhase(g)}},{key:"pointerUp",value:function(g,w,E,A){var z=this.getPointerIndex(g);z===-1&&(z=this.updatePointer(g,w,E,!1));var j=/cancel$/i.test(w.type)?"cancel":"up";this._scopeFire("interactions:".concat(j),{pointer:g,pointerIndex:z,pointerInfo:this.pointers[z],event:w,eventTarget:E,type:j,curEventTarget:A,interaction:this}),this.simulation||this.end(w),this.removePointer(g,w)}},{key:"documentBlur",value:function(g){this.end(g),this._scopeFire("interactions:blur",{event:g,type:"blur",interaction:this})}},{key:"end",value:function(g){var w;this._ending=!0,g=g||this._latestPointer.event,this.interacting()&&(w=this._doPhase({event:g,interaction:this,phase:"end"})),this._ending=!1,w===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(g){var w=Ut(g);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:il(this.pointers,function(E){return E.id===w})}},{key:"getPointerInfo",value:function(g){return this.pointers[this.getPointerIndex(g)]}},{key:"updatePointer",value:function(g,w,E,A){var z,j,F,X=Ut(g),re=this.getPointerIndex(g),K=this.pointers[re];return A=A!==!1&&(A||/(down|start)$/i.test(w.type)),K?K.pointer=g:(K=new _u(X,g,w,null,null),re=this.pointers.length,this.pointers.push(K)),kt(this.coords.cur,this.pointers.map(function(fe){return fe.pointer}),this._now()),z=this.coords.delta,j=this.coords.prev,F=this.coords.cur,z.page.x=F.page.x-j.page.x,z.page.y=F.page.y-j.page.y,z.client.x=F.client.x-j.client.x,z.client.y=F.client.y-j.client.y,z.timeStamp=F.timeStamp-j.timeStamp,A&&(this.pointerIsDown=!0,K.downTime=this.coords.cur.timeStamp,K.downTarget=E,cn(this.downPointer,g),this.interacting()||(mt(this.coords.start,this.coords.cur),mt(this.coords.prev,this.coords.cur),this.downEvent=w,this.pointerWasMoved=!1)),this._updateLatestPointer(g,w,E),this._scopeFire("interactions:update-pointer",{pointer:g,event:w,eventTarget:E,down:A,pointerInfo:K,pointerIndex:re,interaction:this}),re}},{key:"removePointer",value:function(g,w){var E=this.getPointerIndex(g);if(E!==-1){var A=this.pointers[E];this._scopeFire("interactions:remove-pointer",{pointer:g,event:w,eventTarget:null,pointerIndex:E,pointerInfo:A,interaction:this}),this.pointers.splice(E,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(g,w,E){this._latestPointer.pointer=g,this._latestPointer.event=w,this._latestPointer.eventTarget=E}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(g,w,E,A){return new Gi(this,g,this.prepared.name,w,this.element,E,A)}},{key:"_fireEvent",value:function(g){var w;(w=this.interactable)==null||w.fire(g),(!this.prevEvent||g.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=g)}},{key:"_doPhase",value:function(g){var w=g.event,E=g.phase,A=g.preEnd,z=g.type,j=this.rect;if(j&&E==="move"&&(nt(this.edges,j,this.coords.delta[this.interactable.options.deltaSource]),j.width=j.right-j.left,j.height=j.bottom-j.top),this._scopeFire("interactions:before-action-".concat(E),g)===!1)return!1;var F=g.iEvent=this._createPreparedEvent(w,E,A,z);return this._scopeFire("interactions:action-".concat(E),g),E==="start"&&(this.prevEvent=F),this._fireEvent(F),this._scopeFire("interactions:after-action-".concat(E),g),!0}},{key:"_now",value:function(){return Date.now()}}]),v}();function Gl(v){Zs(v.interaction)}function Zs(v){if(!function(w){return!(!w.offset.pending.x&&!w.offset.pending.y)}(v))return!1;var g=v.offset.pending;return Qs(v.coords.cur,g),Qs(v.coords.delta,g),nt(v.edges,v.rect,g),g.x=0,g.y=0,!0}function Ia(v){var g=v.x,w=v.y;this.offset.pending.x+=g,this.offset.pending.y+=w,this.offset.total.x+=g,this.offset.total.y+=w}function Qs(v,g){var w=v.page,E=v.client,A=g.x,z=g.y;w.x+=A,w.y+=z,E.x+=A,E.y+=z}Pa.offsetBy="";var Mo={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(v){v.Interaction.prototype.offsetBy=Ia},listeners:{"interactions:new":function(v){v.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(v){return function(g){g.pointerIsDown&&(Qs(g.coords.cur,g.offset.total),g.offset.pending.x=0,g.offset.pending.y=0)}(v.interaction)},"interactions:before-action-start":Gl,"interactions:before-action-move":Gl,"interactions:before-action-end":function(v){var g=v.interaction;if(Zs(g))return g.move({offset:!0}),g.end(),!1},"interactions:stop":function(v){var g=v.interaction;g.offset.total.x=0,g.offset.total.y=0,g.offset.pending.x=0,g.offset.pending.y=0}}},Xr=Mo,xu=function(){function v(g){o(this,v),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=g}return f(v,[{key:"start",value:function(g){var w=this.interaction,E=Oo(w);if(!E||!E.enabled)return!1;var A=w.coords.velocity.client,z=sn(A.x,A.y),j=this.modification||(this.modification=new _i(w));if(j.copyFrom(w.modification),this.t0=w._now(),this.allowResume=E.allowResume,this.v0=z,this.currentOffset={x:0,y:0},this.startCoords=w.coords.cur.page,this.modifierArg=j.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-w.coords.cur.timeStamp<50&&z>E.minSpeed&&z>E.endSpeed)this.startInertia();else{if(j.result=j.setAll(this.modifierArg),!j.result.changed)return!1;this.startSmoothEnd()}return w.modification.result.rect=null,w.offsetBy(this.targetOffset),w._doPhase({interaction:w,event:g,phase:"inertiastart"}),w.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),w.modification.result.rect=null,this.active=!0,w.simulation=this,!0}},{key:"startInertia",value:function(){var g=this,w=this.interaction.coords.velocity.client,E=Oo(this.interaction),A=E.resistance,z=-Math.log(E.endSpeed/this.v0)/A;this.targetOffset={x:(w.x-z)/A,y:(w.y-z)/A},this.te=z,this.lambda_v0=A/this.v0,this.one_ve_v0=1-E.endSpeed/this.v0;var j=this.modification,F=this.modifierArg;F.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},j.result=j.setAll(F),j.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+j.result.delta.x,y:this.targetOffset.y+j.result.delta.y}),this.onNextFrame(function(){return g.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var g=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return g.smoothEndTick()})}},{key:"onNextFrame",value:function(g){var w=this;this.timeout=Fi.request(function(){w.active&&g()})}},{key:"inertiaTick",value:function(){var g,w,E,A,z,j,F,X=this,re=this.interaction,K=Oo(re).resistance,fe=(re._now()-this.t0)/1e3;if(fe<this.te){var _e,Be=1-(Math.exp(-K*fe)-this.lambda_v0)/this.one_ve_v0;this.isModified?(g=0,w=0,E=this.targetOffset.x,A=this.targetOffset.y,z=this.modifiedOffset.x,j=this.modifiedOffset.y,_e={x:Ao(F=Be,g,E,z),y:Ao(F,w,A,j)}):_e={x:this.targetOffset.x*Be,y:this.targetOffset.y*Be};var Ie={x:_e.x-this.currentOffset.x,y:_e.y-this.currentOffset.y};this.currentOffset.x+=Ie.x,this.currentOffset.y+=Ie.y,re.offsetBy(Ie),re.move(),this.onNextFrame(function(){return X.inertiaTick()})}else re.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var g=this,w=this.interaction,E=w._now()-this.t0,A=Oo(w).smoothEndDuration;if(E<A){var z={x:ko(E,0,this.targetOffset.x,A),y:ko(E,0,this.targetOffset.y,A)},j={x:z.x-this.currentOffset.x,y:z.y-this.currentOffset.y};this.currentOffset.x+=j.x,this.currentOffset.y+=j.y,w.offsetBy(j),w.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return g.smoothEndTick()})}else w.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(g){var w=g.pointer,E=g.event,A=g.eventTarget,z=this.interaction;z.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),z.updatePointer(w,E,A,!0),z._doPhase({interaction:z,event:E,phase:"resume"}),mt(z.coords.prev,z.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Fi.cancel(this.timeout)}}]),v}();function Oo(v){var g=v.interactable,w=v.prepared;return g&&g.options&&w.name&&g.options[w.name].inertia}var Cu={id:"inertia",before:["modifiers","actions"],install:function(v){var g=v.defaults;v.usePlugin(Xr),v.usePlugin(Ks),v.actions.phases.inertiastart=!0,v.actions.phases.resume=!0,g.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(v){var g=v.interaction;g.inertia=new xu(g)},"interactions:before-action-end":function(v){var g=v.interaction,w=v.event;return(!g._interacting||g.simulation||!g.inertia.start(w))&&null},"interactions:down":function(v){var g=v.interaction,w=v.eventTarget,E=g.inertia;if(E.active)for(var A=w;G.element(A);){if(A===g.element){E.resume(v);break}A=dt(A)}},"interactions:stop":function(v){var g=v.interaction.inertia;g.active&&g.stop()},"interactions:before-action-resume":function(v){var g=v.interaction.modification;g.stop(v),g.start(v,v.interaction.coords.cur.page),g.applyToInteraction(v)},"interactions:before-action-inertiastart":function(v){return v.interaction.modification.setAndApply(v)},"interactions:action-resume":Ys,"interactions:action-inertiastart":Ys,"interactions:after-action-inertiastart":function(v){return v.interaction.modification.restoreInteractionCoords(v)},"interactions:after-action-resume":function(v){return v.interaction.modification.restoreInteractionCoords(v)}}};function Ao(v,g,w,E){var A=1-v;return A*A*g+2*A*v*w+v*v*E}function ko(v,g,w,E){return-w*(v/=E)*(v-2)+g}var cl=Cu;function Kr(v,g){for(var w=0;w<g.length;w++){var E=g[w];if(v.immediatePropagationStopped)break;E(v)}}var Wl=function(){function v(g){o(this,v),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=Ke({},g||{})}return f(v,[{key:"fire",value:function(g){var w,E=this.global;(w=this.types[g.type])&&Kr(g,w),!g.propagationStopped&&E&&(w=E[g.type])&&Kr(g,w)}},{key:"on",value:function(g,w){var E=ct(g,w);for(g in E)this.types[g]=hi(this.types[g]||[],E[g])}},{key:"off",value:function(g,w){var E=ct(g,w);for(g in E){var A=this.types[g];if(A&&A.length)for(var z=0,j=E[g];z<j.length;z++){var F=j[z],X=A.indexOf(F);X!==-1&&A.splice(X,1)}}}},{key:"getRect",value:function(g){return null}}]),v}(),Vl=function(){function v(g){o(this,v),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=g,cn(this,g)}return f(v,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),v}();function Do(v){return G.object(v)?{capture:!!v.capture,passive:!!v.passive}:{capture:!!v,passive:!1}}function on(v,g){return v===g||(typeof v=="boolean"?!!g.capture===v&&!g.passive:!!v.capture==!!g.capture&&!!v.passive==!!g.passive)}var gn={id:"events",install:function(v){var g,w=[],E={},A=[],z={add:j,remove:F,addDelegate:function(K,fe,_e,Be,Ie){var We=Do(Ie);if(!E[_e]){E[_e]=[];for(var ut=0;ut<A.length;ut++){var Qe=A[ut];j(Qe,_e,X),j(Qe,_e,re,!0)}}var te=E[_e],ve=Ur(te,function(de){return de.selector===K&&de.context===fe});ve||(ve={selector:K,context:fe,listeners:[]},te.push(ve)),ve.listeners.push({func:Be,options:We})},removeDelegate:function(K,fe,_e,Be,Ie){var We,ut=Do(Ie),Qe=E[_e],te=!1;if(Qe)for(We=Qe.length-1;We>=0;We--){var ve=Qe[We];if(ve.selector===K&&ve.context===fe){for(var de=ve.listeners,Ae=de.length-1;Ae>=0;Ae--){var Ve=de[Ae];if(Ve.func===Be&&on(Ve.options,ut)){de.splice(Ae,1),de.length||(Qe.splice(We,1),F(fe,_e,X),F(fe,_e,re,!0)),te=!0;break}}if(te)break}}},delegateListener:X,delegateUseCapture:re,delegatedEvents:E,documents:A,targets:w,supportsOptions:!1,supportsPassive:!1};function j(K,fe,_e,Be){if(K.addEventListener){var Ie=Do(Be),We=Ur(w,function(ut){return ut.eventTarget===K});We||(We={eventTarget:K,events:{}},w.push(We)),We.events[fe]||(We.events[fe]=[]),Ur(We.events[fe],function(ut){return ut.func===_e&&on(ut.options,Ie)})||(K.addEventListener(fe,_e,z.supportsOptions?Ie:Ie.capture),We.events[fe].push({func:_e,options:Ie}))}}function F(K,fe,_e,Be){if(K.addEventListener&&K.removeEventListener){var Ie=il(w,function(Mt){return Mt.eventTarget===K}),We=w[Ie];if(We&&We.events)if(fe!=="all"){var ut=!1,Qe=We.events[fe];if(Qe){if(_e==="all"){for(var te=Qe.length-1;te>=0;te--){var ve=Qe[te];F(K,fe,ve.func,ve.options)}return}for(var de=Do(Be),Ae=0;Ae<Qe.length;Ae++){var Ve=Qe[Ae];if(Ve.func===_e&&on(Ve.options,de)){K.removeEventListener(fe,_e,z.supportsOptions?de:de.capture),Qe.splice(Ae,1),Qe.length===0&&(delete We.events[fe],ut=!0);break}}}ut&&!Object.keys(We.events).length&&w.splice(Ie,1)}else for(fe in We.events)We.events.hasOwnProperty(fe)&&F(K,fe,"all")}}function X(K,fe){for(var _e=Do(fe),Be=new Vl(K),Ie=E[K.type],We=An(K)[0],ut=We;G.element(ut);){for(var Qe=0;Qe<Ie.length;Qe++){var te=Ie[Qe],ve=te.selector,de=te.context;if(ie(ut,ve)&&Je(de,We)&&Je(de,ut)){var Ae=te.listeners;Be.currentTarget=ut;for(var Ve=0;Ve<Ae.length;Ve++){var Mt=Ae[Ve];on(Mt.options,_e)&&Mt.func(Be)}}}ut=dt(ut)}}function re(K){return X(K,!0)}return(g=v.document)==null||g.createElement("div").addEventListener("test",null,{get capture(){return z.supportsOptions=!0},get passive(){return z.supportsPassive=!0}}),v.events=z,z}},ql={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(v){for(var g=0,w=ql.methodOrder;g<w.length;g++){var E=w[g],A=ql[E](v);if(A)return A}return null},simulationResume:function(v){var g=v.pointerType,w=v.eventType,E=v.eventTarget,A=v.scope;if(!/down|start/i.test(w))return null;for(var z=0,j=A.interactions.list;z<j.length;z++){var F=j[z],X=E;if(F.simulation&&F.simulation.allowResume&&F.pointerType===g)for(;X;){if(X===F.element)return F;X=dt(X)}}return null},mouseOrPen:function(v){var g,w=v.pointerId,E=v.pointerType,A=v.eventType,z=v.scope;if(E!=="mouse"&&E!=="pen")return null;for(var j=0,F=z.interactions.list;j<F.length;j++){var X=F[j];if(X.pointerType===E){if(X.simulation&&!xi(X,w))continue;if(X.interacting())return X;g||(g=X)}}if(g)return g;for(var re=0,K=z.interactions.list;re<K.length;re++){var fe=K[re];if(!(fe.pointerType!==E||/down/i.test(A)&&fe.simulation))return fe}return null},hasPointer:function(v){for(var g=v.pointerId,w=0,E=v.scope.interactions.list;w<E.length;w++){var A=E[w];if(xi(A,g))return A}return null},idle:function(v){for(var g=v.pointerType,w=0,E=v.scope.interactions.list;w<E.length;w++){var A=E[w];if(A.pointers.length===1){var z=A.interactable;if(z&&(!z.options.gesture||!z.options.gesture.enabled))continue}else if(A.pointers.length>=2)continue;if(!A.interacting()&&g===A.pointerType)return A}return null}};function xi(v,g){return v.pointers.some(function(w){return w.id===g})}var Js=ql,zo=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Rs(v,g){return function(w){var E=g.interactions.list,A=ai(w),z=An(w),j=z[0],F=z[1],X=[];if(/^touch/.test(w.type)){g.prevTouchTime=g.now();for(var re=0,K=w.changedTouches;re<K.length;re++){var fe=K[re],_e={pointer:fe,pointerId:Ut(fe),pointerType:A,eventType:w.type,eventTarget:j,curEventTarget:F,scope:g},Be=Tu(_e);X.push([_e.pointer,_e.eventTarget,_e.curEventTarget,Be])}}else{var Ie=!1;if(!Oe.supportsPointerEvent&&/mouse/.test(w.type)){for(var We=0;We<E.length&&!Ie;We++)Ie=E[We].pointerType!=="mouse"&&E[We].pointerIsDown;Ie=Ie||g.now()-g.prevTouchTime<500||w.timeStamp===0}if(!Ie){var ut={pointer:w,pointerId:Ut(w),pointerType:A,eventType:w.type,curEventTarget:F,eventTarget:j,scope:g},Qe=Tu(ut);X.push([ut.pointer,ut.eventTarget,ut.curEventTarget,Qe])}}for(var te=0;te<X.length;te++){var ve=X[te],de=ve[0],Ae=ve[1],Ve=ve[2];ve[3][v](de,w,Ae,Ve)}}}function Tu(v){var g=v.pointerType,w=v.scope,E={interaction:Js.search(v),searchDetails:v};return w.fire("interactions:find",E),E.interaction||w.interactions.new({pointerType:g})}function Dr(v,g){var w=v.doc,E=v.scope,A=v.options,z=E.interactions.docEvents,j=E.events,F=j[g];for(var X in E.browser.isIOS&&!A.events&&(A.events={passive:!1}),j.delegatedEvents)F(w,X,j.delegateListener),F(w,X,j.delegateUseCapture,!0);for(var re=A&&A.events,K=0;K<z.length;K++){var fe=z[K];F(w,fe.type,fe.listener,re)}}var ja={id:"core/interactions",install:function(v){for(var g={},w=0;w<zo.length;w++){var E=zo[w];g[E]=Rs(E,v)}var A,z=Oe.pEventTypes;function j(){for(var F=0,X=v.interactions.list;F<X.length;F++){var re=X[F];if(re.pointerIsDown&&re.pointerType==="touch"&&!re._interacting)for(var K=function(){var Be=_e[fe];v.documents.some(function(Ie){return Je(Ie.doc,Be.downTarget)})||re.removePointer(Be.pointer,Be.event)},fe=0,_e=re.pointers;fe<_e.length;fe++)K()}}(A=qe.PointerEvent?[{type:z.down,listener:j},{type:z.down,listener:g.pointerDown},{type:z.move,listener:g.pointerMove},{type:z.up,listener:g.pointerUp},{type:z.cancel,listener:g.pointerUp}]:[{type:"mousedown",listener:g.pointerDown},{type:"mousemove",listener:g.pointerMove},{type:"mouseup",listener:g.pointerUp},{type:"touchstart",listener:j},{type:"touchstart",listener:g.pointerDown},{type:"touchmove",listener:g.pointerMove},{type:"touchend",listener:g.pointerUp},{type:"touchcancel",listener:g.pointerUp}]).push({type:"blur",listener:function(F){for(var X=0,re=v.interactions.list;X<re.length;X++)re[X].documentBlur(F)}}),v.prevTouchTime=0,v.Interaction=function(F){m(re,F);var X=R(re);function re(){return o(this,re),X.apply(this,arguments)}return f(re,[{key:"pointerMoveTolerance",get:function(){return v.interactions.pointerMoveTolerance},set:function(K){v.interactions.pointerMoveTolerance=K}},{key:"_now",value:function(){return v.now()}}]),re}(Ro),v.interactions={list:[],new:function(F){F.scopeFire=function(re,K){return v.fire(re,K)};var X=new v.Interaction(F);return v.interactions.list.push(X),X},listeners:g,docEvents:A,pointerMoveTolerance:1},v.usePlugin(Es)},listeners:{"scope:add-document":function(v){return Dr(v,"add")},"scope:remove-document":function(v){return Dr(v,"remove")},"interactable:unset":function(v,g){for(var w=v.interactable,E=g.interactions.list.length-1;E>=0;E--){var A=g.interactions.list[E];A.interactable===w&&(A.stop(),g.fire("interactions:destroy",{interaction:A}),A.destroy(),g.interactions.list.length>2&&g.interactions.list.splice(E,1))}}},onDocSignal:Dr,doOnInteractions:Rs,methodNames:zo},Gn=ja,Wi=function(v){return v[v.On=0]="On",v[v.Off=1]="Off",v}(Wi||{}),pr=function(){function v(g,w,E,A){o(this,v),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Wl,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=w.actions,this.target=g,this._context=w.context||E,this._win=J(At(g)?this._context:g),this._doc=this._win.document,this._scopeEvents=A,this.set(w)}return f(v,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(g,w){return G.func(w.onstart)&&this.on("".concat(g,"start"),w.onstart),G.func(w.onmove)&&this.on("".concat(g,"move"),w.onmove),G.func(w.onend)&&this.on("".concat(g,"end"),w.onend),G.func(w.oninertiastart)&&this.on("".concat(g,"inertiastart"),w.oninertiastart),this}},{key:"updatePerActionListeners",value:function(g,w,E){var A,z=this,j=(A=this._actions.map[g])==null?void 0:A.filterEventType,F=function(X){return(j==null||j(X))&&wi(X,z._actions)};(G.array(w)||G.object(w))&&this._onOff(Wi.Off,g,w,void 0,F),(G.array(E)||G.object(E))&&this._onOff(Wi.On,g,E,void 0,F)}},{key:"setPerAction",value:function(g,w){var E=this._defaults;for(var A in w){var z=A,j=this.options[g],F=w[z];z==="listeners"&&this.updatePerActionListeners(g,j.listeners,F),G.array(F)?j[z]=pi(F):G.plainObject(F)?(j[z]=Ke(j[z]||{},Eo(F)),G.object(E.perAction[z])&&"enabled"in E.perAction[z]&&(j[z].enabled=F.enabled!==!1)):G.bool(F)&&G.object(E.perAction[z])?j[z].enabled=F:j[z]=F}}},{key:"getRect",value:function(g){return g=g||(G.element(this.target)?this.target:null),G.string(this.target)&&(g=g||this._context.querySelector(this.target)),St(g)}},{key:"rectChecker",value:function(g){var w=this;return G.func(g)?(this.getRect=function(E){var A=Ke({},g.apply(w,E));return"width"in A||(A.width=A.right-A.left,A.height=A.bottom-A.top),A},this):g===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(g,w){if(At(w)||G.object(w)){for(var E in this.options[g]=w,this._actions.map)this.options[E][g]=w;return this}return this.options[g]}},{key:"origin",value:function(g){return this._backCompatOption("origin",g)}},{key:"deltaSource",value:function(g){return g==="page"||g==="client"?(this.options.deltaSource=g,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var g=this.target;return G.string(g)?Array.from(this._context.querySelectorAll(g)):G.func(g)&&g.getAllElements?g.getAllElements():G.element(g)?[g]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(g){return this._context===g.ownerDocument||Je(this._context,g)}},{key:"testIgnoreAllow",value:function(g,w,E){return!this.testIgnore(g.ignoreFrom,w,E)&&this.testAllow(g.allowFrom,w,E)}},{key:"testAllow",value:function(g,w,E){return!g||!!G.element(E)&&(G.string(g)?et(E,g,w):!!G.element(g)&&Je(g,E))}},{key:"testIgnore",value:function(g,w,E){return!(!g||!G.element(E))&&(G.string(g)?et(E,g,w):!!G.element(g)&&Je(g,E))}},{key:"fire",value:function(g){return this.events.fire(g),this}},{key:"_onOff",value:function(g,w,E,A,z){G.object(w)&&!G.array(w)&&(A=E,E=null);var j=ct(w,E,z);for(var F in j){F==="wheel"&&(F=Oe.wheelEvent);for(var X=0,re=j[F];X<re.length;X++){var K=re[X];wi(F,this._actions)?this.events[g===Wi.On?"on":"off"](F,K):G.string(this.target)?this._scopeEvents[g===Wi.On?"addDelegate":"removeDelegate"](this.target,this._context,F,K,A):this._scopeEvents[g===Wi.On?"add":"remove"](this.target,F,K,A)}}return this}},{key:"on",value:function(g,w,E){return this._onOff(Wi.On,g,w,E)}},{key:"off",value:function(g,w,E){return this._onOff(Wi.Off,g,w,E)}},{key:"set",value:function(g){var w=this._defaults;for(var E in G.object(g)||(g={}),this.options=Eo(w.base),this._actions.methodDict){var A=E,z=this._actions.methodDict[A];this.options[A]={},this.setPerAction(A,Ke(Ke({},w.perAction),w.actions[A])),this[z](g[A])}for(var j in g)j!=="getRect"?G.func(this[j])&&this[j](g[j]):this.rectChecker(g.getRect);return this}},{key:"unset",value:function(){if(G.string(this.target))for(var g in this._scopeEvents.delegatedEvents)for(var w=this._scopeEvents.delegatedEvents[g],E=w.length-1;E>=0;E--){var A=w[E],z=A.selector,j=A.context,F=A.listeners;z===this.target&&j===this._context&&w.splice(E,1);for(var X=F.length-1;X>=0;X--)this._scopeEvents.removeDelegate(this.target,this._context,g,F[X][0],F[X][1])}else this._scopeEvents.remove(this.target,"all")}}]),v}(),Eu=function(){function v(g){var w=this;o(this,v),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=g,g.addListeners({"interactable:unset":function(E){var A=E.interactable,z=A.target,j=G.string(z)?w.selectorMap[z]:z[w.scope.id],F=il(j,function(X){return X===A});j.splice(F,1)}})}return f(v,[{key:"new",value:function(g,w){w=Ke(w||{},{actions:this.scope.actions});var E=new this.scope.Interactable(g,w,this.scope.document,this.scope.events);return this.scope.addDocument(E._doc),this.list.push(E),G.string(g)?(this.selectorMap[g]||(this.selectorMap[g]=[]),this.selectorMap[g].push(E)):(E.target[this.scope.id]||Object.defineProperty(g,this.scope.id,{value:[],configurable:!0}),g[this.scope.id].push(E)),this.scope.fire("interactable:new",{target:g,options:w,interactable:E,win:this.scope._win}),E}},{key:"getExisting",value:function(g,w){var E=w&&w.context||this.scope.document,A=G.string(g),z=A?this.selectorMap[g]:g[this.scope.id];if(z)return Ur(z,function(j){return j._context===E&&(A||j.inContext(g))})}},{key:"forEachMatch",value:function(g,w){for(var E=0,A=this.list;E<A.length;E++){var z=A[E],j=void 0;if((G.string(z.target)?G.element(g)&&ie(g,z.target):g===z.target)&&z.inContext(g)&&(j=w(z)),j!==void 0)return j}}}]),v}(),Yl=function(){function v(){var g=this;o(this,v),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=Oe,this.defaults=Eo(al),this.Eventable=Wl,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(E){var A=function z(j,F){var X=E.interactables.getExisting(j,F);return X||((X=E.interactables.new(j,F)).events.global=z.globalEvents),X};return A.getPointerAverage=Dn,A.getTouchBBox=Bn,A.getTouchDistance=zn,A.getTouchAngle=Hn,A.getElementRect=St,A.getElementClientRect=tt,A.matchesSelector=ie,A.closest=Ze,A.globalEvents={},A.version="1.10.27",A.scope=E,A.use=function(z,j){return this.scope.usePlugin(z,j),this},A.isSet=function(z,j){return!!this.scope.interactables.get(z,j&&j.context)},A.on=Gs(function(z,j,F){if(G.string(z)&&z.search(" ")!==-1&&(z=z.trim().split(/ +/)),G.array(z)){for(var X=0,re=z;X<re.length;X++){var K=re[X];this.on(K,j,F)}return this}if(G.object(z)){for(var fe in z)this.on(fe,z[fe],j);return this}return wi(z,this.scope.actions)?this.globalEvents[z]?this.globalEvents[z].push(j):this.globalEvents[z]=[j]:this.scope.events.add(this.scope.document,z,j,{options:F}),this},"The interact.on() method is being deprecated"),A.off=Gs(function(z,j,F){if(G.string(z)&&z.search(" ")!==-1&&(z=z.trim().split(/ +/)),G.array(z)){for(var X=0,re=z;X<re.length;X++){var K=re[X];this.off(K,j,F)}return this}if(G.object(z)){for(var fe in z)this.off(fe,z[fe],j);return this}var _e;return wi(z,this.scope.actions)?z in this.globalEvents&&(_e=this.globalEvents[z].indexOf(j))!==-1&&this.globalEvents[z].splice(_e,1):this.scope.events.remove(this.scope.document,z,j,F),this},"The interact.off() method is being deprecated"),A.debug=function(){return this.scope},A.supportsTouch=function(){return Oe.supportsTouch},A.supportsPointerEvent=function(){return Oe.supportsPointerEvent},A.stop=function(){for(var z=0,j=this.scope.interactions.list;z<j.length;z++)j[z].stop();return this},A.pointerMoveTolerance=function(z){return G.number(z)?(this.scope.interactions.pointerMoveTolerance=z,this):this.scope.interactions.pointerMoveTolerance},A.addDocument=function(z,j){this.scope.addDocument(z,j)},A.removeDocument=function(z){this.scope.removeDocument(z)},A}(this),this.InteractEvent=Gi,this.Interactable=void 0,this.interactables=new Eu(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(E){return g.removeDocument(E.target)};var w=this;this.Interactable=function(E){m(z,E);var A=R(z);function z(){return o(this,z),A.apply(this,arguments)}return f(z,[{key:"_defaults",get:function(){return w.defaults}},{key:"set",value:function(j){return O(y(z.prototype),"set",this).call(this,j),w.fire("interactable:set",{options:j,interactable:this}),this}},{key:"unset",value:function(){O(y(z.prototype),"unset",this).call(this);var j=w.interactables.list.indexOf(this);j<0||(w.interactables.list.splice(j,1),w.fire("interactable:unset",{interactable:this}))}}]),z}(pr)}return f(v,[{key:"addListeners",value:function(g,w){this.listenerMaps.push({id:w,map:g})}},{key:"fire",value:function(g,w){for(var E=0,A=this.listenerMaps;E<A.length;E++){var z=A[E].map[g];if(z&&z(w,this,g)===!1)return!1}}},{key:"init",value:function(g){return this.isInitialized?this:function(w,E){return w.isInitialized=!0,G.window(E)&&Z(E),qe.init(E),Oe.init(E),Fi.init(E),w.window=E,w.document=E.document,w.usePlugin(Gn),w.usePlugin(gn),w}(this,g)}},{key:"pluginIsInstalled",value:function(g){var w=g.id;return w?!!this._plugins.map[w]:this._plugins.list.indexOf(g)!==-1}},{key:"usePlugin",value:function(g,w){if(!this.isInitialized)return this;if(this.pluginIsInstalled(g))return this;if(g.id&&(this._plugins.map[g.id]=g),this._plugins.list.push(g),g.install&&g.install(this,w),g.listeners&&g.before){for(var E=0,A=this.listenerMaps.length,z=g.before.reduce(function(F,X){return F[X]=!0,F[Li(X)]=!0,F},{});E<A;E++){var j=this.listenerMaps[E].id;if(j&&(z[j]||z[Li(j)]))break}this.listenerMaps.splice(E,0,{id:g.id,map:g.listeners})}else g.listeners&&this.listenerMaps.push({id:g.id,map:g.listeners});return this}},{key:"addDocument",value:function(g,w){if(this.getDocIndex(g)!==-1)return!1;var E=J(g);w=w?Ke({},w):{},this.documents.push({doc:g,options:w}),this.events.documents.push(g),g!==this.document&&this.events.add(E,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:g,window:E,scope:this,options:w})}},{key:"removeDocument",value:function(g){var w=this.getDocIndex(g),E=J(g),A=this.documents[w].options;this.events.remove(E,"unload",this.onWindowUnload),this.documents.splice(w,1),this.events.documents.splice(w,1),this.fire("scope:remove-document",{doc:g,window:E,scope:this,options:A})}},{key:"getDocIndex",value:function(g){for(var w=0;w<this.documents.length;w++)if(this.documents[w].doc===g)return w;return-1}},{key:"getDocOptions",value:function(g){var w=this.getDocIndex(g);return w===-1?null:this.documents[w].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),v}();function Li(v){return v&&v.replace(/\/.*$/,"")}var fl=new Yl,gi=fl.interactStatic,Ru=typeof globalThis<"u"?globalThis:window;fl.init(Ru);var Mu=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(v){var g=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(E){var A=E[0],z=E[1];return A in v||z in v}),w=function(E,A){for(var z=v.range,j=v.limits,F=j===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:j,X=v.offset,re=X===void 0?{x:0,y:0}:X,K={range:z,grid:v,x:null,y:null},fe=0;fe<g.length;fe++){var _e=g[fe],Be=_e[0],Ie=_e[1],We=Math.round((E-re.x)/v[Be]),ut=Math.round((A-re.y)/v[Ie]);K[Be]=Math.max(F.left,Math.min(F.right,We*v[Be]+re.x)),K[Ie]=Math.max(F.top,Math.min(F.bottom,ut*v[Ie]+re.y))}return K};return w.grid=v,w.coordFields=g,w}}),Ou={id:"snappers",install:function(v){var g=v.interactStatic;g.snappers=Ke(g.snappers||{},Mu),g.createSnapGrid=g.snappers.grid}},Ba=Ou,Cn={start:function(v){var g=v.state,w=v.rect,E=v.edges,A=v.pageCoords,z=g.options,j=z.ratio,F=z.enabled,X=g.options,re=X.equalDelta,K=X.modifiers;j==="preserve"&&(j=w.width/w.height),g.startCoords=Ke({},A),g.startRect=Ke({},w),g.ratio=j,g.equalDelta=re;var fe=g.linkedEdges={top:E.top||E.left&&!E.bottom,left:E.left||E.top&&!E.right,bottom:E.bottom||E.right&&!E.top,right:E.right||E.bottom&&!E.left};if(g.xIsPrimaryAxis=!(!E.left&&!E.right),g.equalDelta){var _e=(fe.left?1:-1)*(fe.top?1:-1);g.edgeSign={x:_e,y:_e}}else g.edgeSign={x:fe.left?-1:1,y:fe.top?-1:1};if(F!==!1&&Ke(E,fe),K!=null&&K.length){var Be=new _i(v.interaction);Be.copyFrom(v.interaction.modification),Be.prepareStates(K),g.subModification=Be,Be.startAll(i({},v))}},set:function(v){var g=v.state,w=v.rect,E=v.coords,A=g.linkedEdges,z=Ke({},E),j=g.equalDelta?Au:Pi;if(Ke(v.edges,A),j(g,g.xIsPrimaryAxis,E,w),!g.subModification)return null;var F=Ke({},w);nt(A,F,{x:E.x-z.x,y:E.y-z.y});var X=g.subModification.setAll(i(i({},v),{},{rect:F,edges:A,pageCoords:E,prevCoords:E,prevRect:F})),re=X.delta;return X.changed&&(j(g,Math.abs(re.x)>Math.abs(re.y),X.coords,X.rect),Ke(E,X.coords)),X.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Au(v,g,w){var E=v.startCoords,A=v.edgeSign;g?w.y=E.y+(w.x-E.x)*A.y:w.x=E.x+(w.y-E.y)*A.x}function Pi(v,g,w,E){var A=v.startRect,z=v.startCoords,j=v.ratio,F=v.edgeSign;if(g){var X=E.width/j;w.y=z.y+(X-A.height)*F.y}else{var re=E.height*j;w.x=z.x+(re-A.width)*F.x}}var Zr=Ui(Cn,"aspectRatio"),No=function(){};No._defaults={};var Ii=No;function I(v,g,w){return G.func(v)?xn(v,g.interactable,g.element,[w.x,w.y,g]):xn(v,g.interactable,g.element)}var P={start:function(v){var g=v.rect,w=v.startOffset,E=v.state,A=v.interaction,z=v.pageCoords,j=E.options,F=j.elementRect,X=Ke({left:0,top:0,right:0,bottom:0},j.offset||{});if(g&&F){var re=I(j.restriction,A,z);if(re){var K=re.right-re.left-g.width,fe=re.bottom-re.top-g.height;K<0&&(X.left+=K,X.right+=K),fe<0&&(X.top+=fe,X.bottom+=fe)}X.left+=w.left-g.width*F.left,X.top+=w.top-g.height*F.top,X.right+=w.right-g.width*(1-F.right),X.bottom+=w.bottom-g.height*(1-F.bottom)}E.offset=X},set:function(v){var g=v.coords,w=v.interaction,E=v.state,A=E.options,z=E.offset,j=I(A.restriction,w,g);if(j){var F=function(X){return!X||"left"in X&&"top"in X||((X=Ke({},X)).left=X.x||0,X.top=X.y||0,X.right=X.right||X.left+X.width,X.bottom=X.bottom||X.top+X.height),X}(j);g.x=Math.max(Math.min(F.right-z.right,g.x),F.left+z.left),g.y=Math.max(Math.min(F.bottom-z.bottom,g.y),F.top+z.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Y=Ui(P,"restrict"),oe={top:1/0,left:1/0,bottom:-1/0,right:-1/0},be={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Me(v,g){for(var w=0,E=["top","left","bottom","right"];w<E.length;w++){var A=E[w];A in v||(v[A]=g[A])}return v}var De={noInner:oe,noOuter:be,start:function(v){var g,w=v.interaction,E=v.startOffset,A=v.state,z=A.options;z&&(g=Et(I(z.offset,w,w.coords.start.page))),g=g||{x:0,y:0},A.offset={top:g.y+E.top,left:g.x+E.left,bottom:g.y-E.bottom,right:g.x-E.right}},set:function(v){var g=v.coords,w=v.edges,E=v.interaction,A=v.state,z=A.offset,j=A.options;if(w){var F=Ke({},g),X=I(j.inner,E,F)||{},re=I(j.outer,E,F)||{};Me(X,oe),Me(re,be),w.top?g.y=Math.min(Math.max(re.top+z.top,F.y),X.top+z.top):w.bottom&&(g.y=Math.max(Math.min(re.bottom+z.bottom,F.y),X.bottom+z.bottom)),w.left?g.x=Math.min(Math.max(re.left+z.left,F.x),X.left+z.left):w.right&&(g.x=Math.max(Math.min(re.right+z.right,F.x),X.right+z.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},Re=Ui(De,"restrictEdges"),Ue=Ke({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(v){}},P.defaults),st=Ui({start:P.start,set:P.set,defaults:Ue},"restrictRect"),gt={width:-1/0,height:-1/0},jt={width:1/0,height:1/0},Bt=Ui({start:function(v){return De.start(v)},set:function(v){var g=v.interaction,w=v.state,E=v.rect,A=v.edges,z=w.options;if(A){var j=Ye(I(z.min,g,v.coords))||gt,F=Ye(I(z.max,g,v.coords))||jt;w.options={endOnly:z.endOnly,inner:Ke({},De.noInner),outer:Ke({},De.noOuter)},A.top?(w.options.inner.top=E.bottom-j.height,w.options.outer.top=E.bottom-F.height):A.bottom&&(w.options.inner.bottom=E.top+j.height,w.options.outer.bottom=E.top+F.height),A.left?(w.options.inner.left=E.right-j.width,w.options.outer.left=E.right-F.width):A.right&&(w.options.inner.right=E.left+j.width,w.options.outer.right=E.left+F.width),De.set(v),w.options=z}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),In={start:function(v){var g,w=v.interaction,E=v.interactable,A=v.element,z=v.rect,j=v.state,F=v.startOffset,X=j.options,re=X.offsetWithOrigin?function(_e){var Be=_e.interaction.element,Ie=Et(xn(_e.state.options.origin,null,null,[Be])),We=Ie||pt(_e.interactable,Be,_e.interaction.prepared.name);return We}(v):{x:0,y:0};if(X.offset==="startCoords")g={x:w.coords.start.page.x,y:w.coords.start.page.y};else{var K=xn(X.offset,E,A,[w]);(g=Et(K)||{x:0,y:0}).x+=re.x,g.y+=re.y}var fe=X.relativePoints;j.offsets=z&&fe&&fe.length?fe.map(function(_e,Be){return{index:Be,relativePoint:_e,x:F.left-z.width*_e.x+g.x,y:F.top-z.height*_e.y+g.y}}):[{index:0,relativePoint:null,x:g.x,y:g.y}]},set:function(v){var g=v.interaction,w=v.coords,E=v.state,A=E.options,z=E.offsets,j=pt(g.interactable,g.element,g.prepared.name),F=Ke({},w),X=[];A.offsetWithOrigin||(F.x-=j.x,F.y-=j.y);for(var re=0,K=z;re<K.length;re++)for(var fe=K[re],_e=F.x-fe.x,Be=F.y-fe.y,Ie=0,We=A.targets.length;Ie<We;Ie++){var ut=A.targets[Ie],Qe=void 0;(Qe=G.func(ut)?ut(_e,Be,g._proxy,fe,Ie):ut)&&X.push({x:(G.number(Qe.x)?Qe.x:_e)+fe.x,y:(G.number(Qe.y)?Qe.y:Be)+fe.y,range:G.number(Qe.range)?Qe.range:A.range,source:ut,index:Ie,offset:fe})}for(var te={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},ve=0;ve<X.length;ve++){var de=X[ve],Ae=de.range,Ve=de.x-F.x,Mt=de.y-F.y,Ht=sn(Ve,Mt),Vt=Ht<=Ae;Ae===1/0&&te.inRange&&te.range!==1/0&&(Vt=!1),te.target&&!(Vt?te.inRange&&Ae!==1/0?Ht/Ae<te.distance/te.range:Ae===1/0&&te.range!==1/0||Ht<te.distance:!te.inRange&&Ht<te.distance)||(te.target=de,te.distance=Ht,te.range=Ae,te.inRange=Vt,te.delta.x=Ve,te.delta.y=Mt)}return te.inRange&&(w.x=te.target.x,w.y=te.target.y),E.closest=te,te},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Wn=Ui(In,"snap"),er={start:function(v){var g=v.state,w=v.edges,E=g.options;if(!w)return null;v.state={options:{targets:null,relativePoints:[{x:w.left?0:1,y:w.top?0:1}],offset:E.offset||"self",origin:{x:0,y:0},range:E.range}},g.targetFields=g.targetFields||[["width","height"],["x","y"]],In.start(v),g.offsets=v.state.offsets,v.state=g},set:function(v){var g=v.interaction,w=v.state,E=v.coords,A=w.options,z=w.offsets,j={x:E.x-z[0].x,y:E.y-z[0].y};w.options=Ke({},A),w.options.targets=[];for(var F=0,X=A.targets||[];F<X.length;F++){var re=X[F],K=void 0;if(K=G.func(re)?re(j.x,j.y,g):re){for(var fe=0,_e=w.targetFields;fe<_e.length;fe++){var Be=_e[fe],Ie=Be[0],We=Be[1];if(Ie in K||We in K){K.x=K[Ie],K.y=K[We];break}}w.options.targets.push(K)}}var ut=In.set(v);return w.options=A,ut},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Vi=Ui(er,"snapSize"),qi={aspectRatio:Zr,restrictEdges:Re,restrict:Y,restrictRect:st,restrictSize:Bt,snapEdges:Ui({start:function(v){var g=v.edges;return g?(v.state.targetFields=v.state.targetFields||[[g.left?"left":"right",g.top?"top":"bottom"]],er.start(v)):null},set:er.set,defaults:Ke(Eo(er.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Wn,snapSize:Vi,spring:Ii,avoid:Ii,transform:Ii,rubberband:Ii},Ge={id:"modifiers",install:function(v){var g=v.interactStatic;for(var w in v.usePlugin(Ks),v.usePlugin(Ba),g.modifiers=qi,qi){var E=qi[w],A=E._defaults,z=E._methods;A._methods=z,v.defaults.perAction[w]=A}}},yt=Ge,ii=function(v){m(w,v);var g=R(w);function w(E,A,z,j,F,X){var re;if(o(this,w),cn(T(re=g.call(this,F)),z),z!==A&&cn(T(re),A),re.timeStamp=X,re.originalEvent=z,re.type=E,re.pointerId=Ut(A),re.pointerType=ai(A),re.target=j,re.currentTarget=null,E==="tap"){var K=F.getPointerIndex(A);re.dt=re.timeStamp-F.pointers[K].downTime;var fe=re.timeStamp-F.tapTime;re.double=!!F.prevTap&&F.prevTap.type!=="doubletap"&&F.prevTap.target===re.target&&fe<500}else E==="doubletap"&&(re.dt=A.timeStamp-F.tapTime,re.double=!0);return re}return f(w,[{key:"_subtractOrigin",value:function(E){var A=E.x,z=E.y;return this.pageX-=A,this.pageY-=z,this.clientX-=A,this.clientY-=z,this}},{key:"_addOrigin",value:function(E){var A=E.x,z=E.y;return this.pageX+=A,this.pageY+=z,this.clientX+=A,this.clientY+=z,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),w}(Si),bn={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(v){v.pointerEvents=bn,v.defaults.actions.pointerEvents=bn.defaults,Ke(v.actions.phaselessTypes,bn.types)},listeners:{"interactions:new":function(v){var g=v.interaction;g.prevTap=null,g.tapTime=0},"interactions:update-pointer":function(v){var g=v.down,w=v.pointerInfo;!g&&w.hold||(w.hold={duration:1/0,timeout:null})},"interactions:move":function(v,g){var w=v.interaction,E=v.pointer,A=v.event,z=v.eventTarget;v.duplicate||w.pointerIsDown&&!w.pointerWasMoved||(w.pointerIsDown&&ci(v),ji({interaction:w,pointer:E,event:A,eventTarget:z,type:"move"},g))},"interactions:down":function(v,g){(function(w,E){for(var A=w.interaction,z=w.pointer,j=w.event,F=w.eventTarget,X=w.pointerIndex,re=A.pointers[X].hold,K=kn(F),fe={interaction:A,pointer:z,event:j,eventTarget:F,type:"hold",targets:[],path:K,node:null},_e=0;_e<K.length;_e++){var Be=K[_e];fe.node=Be,E.fire("pointerEvents:collect-targets",fe)}if(fe.targets.length){for(var Ie=1/0,We=0,ut=fe.targets;We<ut.length;We++){var Qe=ut[We].eventable.options.holdDuration;Qe<Ie&&(Ie=Qe)}re.duration=Ie,re.timeout=setTimeout(function(){ji({interaction:A,eventTarget:F,pointer:z,event:j,type:"hold"},E)},Ie)}})(v,g),ji(v,g)},"interactions:up":function(v,g){ci(v),ji(v,g),function(w,E){var A=w.interaction,z=w.pointer,j=w.event,F=w.eventTarget;A.pointerWasMoved||ji({interaction:A,eventTarget:F,pointer:z,event:j,type:"tap"},E)}(v,g)},"interactions:cancel":function(v,g){ci(v),ji(v,g)}},PointerEvent:ii,fire:ji,collectEventTargets:Lo,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function ji(v,g){var w=v.interaction,E=v.pointer,A=v.event,z=v.eventTarget,j=v.type,F=v.targets,X=F===void 0?Lo(v,g):F,re=new ii(j,E,A,z,w,g.now());g.fire("pointerEvents:new",{pointerEvent:re});for(var K={interaction:w,pointer:E,event:A,eventTarget:z,targets:X,type:j,pointerEvent:re},fe=0;fe<X.length;fe++){var _e=X[fe];for(var Be in _e.props||{})re[Be]=_e.props[Be];var Ie=pt(_e.eventable,_e.node);if(re._subtractOrigin(Ie),re.eventable=_e.eventable,re.currentTarget=_e.node,_e.eventable.fire(re),re._addOrigin(Ie),re.immediatePropagationStopped||re.propagationStopped&&fe+1<X.length&&X[fe+1].node!==re.currentTarget)break}if(g.fire("pointerEvents:fired",K),j==="tap"){var We=re.double?ji({interaction:w,pointer:E,event:A,eventTarget:z,type:"doubletap"},g):re;w.prevTap=We,w.tapTime=We.timeStamp}return re}function Lo(v,g){var w=v.interaction,E=v.pointer,A=v.event,z=v.eventTarget,j=v.type,F=w.getPointerIndex(E),X=w.pointers[F];if(j==="tap"&&(w.pointerWasMoved||!X||X.downTarget!==z))return[];for(var re=kn(z),K={interaction:w,pointer:E,event:A,eventTarget:z,type:j,path:re,targets:[],node:null},fe=0;fe<re.length;fe++){var _e=re[fe];K.node=_e,g.fire("pointerEvents:collect-targets",K)}return j==="hold"&&(K.targets=K.targets.filter(function(Be){var Ie,We;return Be.eventable.options.holdDuration===((Ie=w.pointers[F])==null||(We=Ie.hold)==null?void 0:We.duration)})),K.targets}function ci(v){var g=v.interaction,w=v.pointerIndex,E=g.pointers[w].hold;E&&E.timeout&&(clearTimeout(E.timeout),E.timeout=null)}var dl=Object.freeze({__proto__:null,default:bn});function Xl(v){var g=v.interaction;g.holdIntervalHandle&&(clearInterval(g.holdIntervalHandle),g.holdIntervalHandle=null)}var Kl={id:"pointer-events/holdRepeat",install:function(v){v.usePlugin(bn);var g=v.pointerEvents;g.defaults.holdRepeatInterval=0,g.types.holdrepeat=v.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(v,g){return v["pointerEvents:".concat(g)]=Xl,v},{"pointerEvents:new":function(v){var g=v.pointerEvent;g.type==="hold"&&(g.count=(g.count||0)+1)},"pointerEvents:fired":function(v,g){var w=v.interaction,E=v.pointerEvent,A=v.eventTarget,z=v.targets;if(E.type==="hold"&&z.length){var j=z[0].eventable.options.holdRepeatInterval;j<=0||(w.holdIntervalHandle=setTimeout(function(){g.pointerEvents.fire({interaction:w,eventTarget:A,type:"hold",pointer:E,event:E},g)},j))}}})},Zl=Kl,kh={id:"pointer-events/interactableTargets",install:function(v){var g=v.Interactable;g.prototype.pointerEvents=function(E){return Ke(this.events.options,E),this};var w=g.prototype._backCompatOption;g.prototype._backCompatOption=function(E,A){var z=w.call(this,E,A);return z===this&&(this.events.options[E]=A),z}},listeners:{"pointerEvents:collect-targets":function(v,g){var w=v.targets,E=v.node,A=v.type,z=v.eventTarget;g.interactables.forEachMatch(E,function(j){var F=j.events,X=F.options;F.types[A]&&F.types[A].length&&j.testIgnoreAllow(X,E,z)&&w.push({node:E,eventable:F,props:{interactable:j}})})},"interactable:new":function(v){var g=v.interactable;g.events.getRect=function(w){return g.getRect(w)}},"interactable:set":function(v,g){var w=v.interactable,E=v.options;Ke(w.events.options,g.pointerEvents.defaults),Ke(w.events.options,E.pointerEvents||{})}}},ku=kh,ad={id:"pointer-events",install:function(v){v.usePlugin(dl),v.usePlugin(Zl),v.usePlugin(ku)}},ud=ad,Ic={id:"reflow",install:function(v){var g=v.Interactable;v.actions.phases.reflow=!0,g.prototype.reflow=function(w){return function(E,A,z){for(var j=E.getAllElements(),F=z.window.Promise,X=F?[]:null,re=function(){var fe=j[K],_e=E.getRect(fe);if(!_e)return 1;var Be,Ie=Ur(z.interactions.list,function(Qe){return Qe.interacting()&&Qe.interactable===E&&Qe.element===fe&&Qe.prepared.name===A.name});if(Ie)Ie.move(),X&&(Be=Ie._reflowPromise||new F(function(Qe){Ie._reflowResolve=Qe}));else{var We=Ye(_e),ut=function(Qe){return{coords:Qe,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:We.x,y:We.y},client:{x:We.x,y:We.y},timeStamp:z.now()});Be=function(Qe,te,ve,de,Ae){var Ve=Qe.interactions.new({pointerType:"reflow"}),Mt={interaction:Ve,event:Ae,pointer:Ae,eventTarget:ve,phase:"reflow"};Ve.interactable=te,Ve.element=ve,Ve.prevEvent=Ae,Ve.updatePointer(Ae,Ae,ve,!0),ti(Ve.coords.delta),Vr(Ve.prepared,de),Ve._doPhase(Mt);var Ht=Qe.window,Vt=Ht.Promise,fi=Vt?new Vt(function(Ms){Ve._reflowResolve=Ms}):void 0;return Ve._reflowPromise=fi,Ve.start(de,te,ve),Ve._interacting?(Ve.move(Mt),Ve.end(Ae)):(Ve.stop(),Ve._reflowResolve()),Ve.removePointer(Ae,Ae),fi}(z,E,fe,A,ut)}X&&X.push(Be)},K=0;K<j.length&&!re();K++);return X&&F.all(X).then(function(){return E})}(this,w,v)}},listeners:{"interactions:stop":function(v,g){var w=v.interaction;w.pointerType==="reflow"&&(w._reflowResolve&&w._reflowResolve(),function(E,A){E.splice(E.indexOf(A),1)}(g.interactions.list,w))}}},Po=Ic;if(gi.use(Es),gi.use(Xr),gi.use(ud),gi.use(cl),gi.use(yt),gi.use(Ul),gi.use(mi),gi.use(xs),gi.use(Po),gi.default=gi,r(n)==="object"&&n)try{n.exports=gi}catch{}return gi.default=gi,gi})}(Em,Em.exports)),Em.exports}var pL=hL();const mL=Cy(pL);function q_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function mn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?q_(Object(t),!0).forEach(function(i){gL(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):q_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Gy(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Y_(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Wy(n,e,t){return e&&Y_(n.prototype,e),t&&Y_(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function gL(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vL(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&f1(n,e)}function Sy(n){return Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sy(n)}function f1(n,e){return f1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},f1(n,e)}function yL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bL(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function SL(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bL(n)}function wL(n){var e=yL();return function(){var i=Sy(n),r;if(e){var o=Sy(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return SL(this,r)}}function If(n,e){return xL(n)||TL(n,e)||aE(n,e)||RL()}function pS(n){return _L(n)||CL(n)||aE(n)||EL()}function _L(n){if(Array.isArray(n))return d1(n)}function xL(n){if(Array.isArray(n))return n}function CL(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function TL(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,o=!1,a,f;try{for(t=t.call(n);!(r=(a=t.next()).done)&&(i.push(a.value),!(e&&i.length===e));r=!0);}catch(d){o=!0,f=d}finally{try{!r&&t.return!=null&&t.return()}finally{if(o)throw f}}return i}}function aE(n,e){if(n){if(typeof n=="string")return d1(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d1(n,e)}}function d1(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function EL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ML=function(){function n(e){Gy(this,n),this.events={},this.events=e.handlers}return Wy(n,[{key:"on",value:function(t,i){var r=this,o=t instanceof Array?t:t.split(" ");return o.forEach(function(a){if(!r.events[a])throw new Error("The event ".concat(a," does not exist"));r.events[a].push(i)}),this}},{key:"trigger",value:function(t,i){if(!(t in this.events))throw new Error("The event ".concat(String(t)," cannot be triggered"));return this.events[t].reduce(function(r,o){return o(i)!==!1&&r},!0)}},{key:"bind",value:function(t){if(this.events[t])throw new Error("The event ".concat(t," is already bound"));this.events[t]=[]}},{key:"exist",value:function(t){return Array.isArray(this.events[t])}},{key:"off",value:function(t,i){if(this.events[t]){var r=this.events[t];if(!i)this.events[t]=[];else{var o=r.indexOf(i);o!==-1&&r.splice(o,1)}}}},{key:"offAll",value:function(){this.events=Object.fromEntries(Object.keys(this.events).map(function(t){return[t,[]]}))}}]),n}(),OL=Wy(function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Gy(this,n),this.handlers={},this.handlers=mn({beforeSetTime:[],afterSetTime:[],setTimeByTick:[],beforeSetPlayRate:[],afterSetPlayRate:[],setActiveActionIds:[],play:[],paused:[],ended:[]},e)}),AL="playing",kL="paused",DL=function(n){vL(t,n);var e=wL(t);function t(){var i;return Gy(this,t),i=e.call(this,new OL),i._timerId=void 0,i._playRate=1,i._currentTime=0,i._playState="paused",i._prev=void 0,i._effectMap={},i._actionMap={},i._actionSortIds=[],i._next=0,i._activeActionIds=[],i}return Wy(t,[{key:"isPlaying",get:function(){return this._playState==="playing"}},{key:"isPaused",get:function(){return this._playState==="paused"}},{key:"effects",set:function(r){this._effectMap=r}},{key:"data",set:function(r){this.isPlaying&&this.pause(),this._dealData(r),this._dealClear(),this._dealEnter(this._currentTime)}},{key:"setPlayRate",value:function(r){if(r<=0){console.error("Error: rate cannot be less than 0!");return}var o=this.trigger("beforeSetPlayRate",{rate:r,engine:this});return o?(this._playRate=r,this.trigger("afterSetPlayRate",{rate:r,engine:this}),!0):!1}},{key:"getPlayRate",value:function(){return this._playRate}},{key:"reRender",value:function(){this.isPlaying||this._tickAction(this._currentTime)}},{key:"setTime",value:function(r,o){var a=o||this.trigger("beforeSetTime",{time:r,engine:this});return a?(this._currentTime=r,this._next=0,this._dealLeave(r),this._dealEnter(r),o?this.trigger("setTimeByTick",{time:r,engine:this}):this.trigger("afterSetTime",{time:r,engine:this}),!0):!1}},{key:"getTime",value:function(){return this._currentTime}},{key:"play",value:function(r){var o=this,a=r.toTime,f=r.autoEnd,d=this.getTime();return this.isPlaying||a&&a<=d?!1:(this._playState=AL,this._startOrStop("start"),this.trigger("play",{engine:this}),this._timerId=requestAnimationFrame(function(m){o._prev=m,o._tick({now:m,autoEnd:f,to:a})}),!0)}},{key:"pause",value:function(){this.isPlaying&&(this._playState=kL,this._startOrStop("stop"),this.trigger("paused",{engine:this})),cancelAnimationFrame(this._timerId)}},{key:"_end",value:function(){this.pause(),this.trigger("ended",{engine:this})}},{key:"_startOrStop",value:function(r){for(var o=0;o<this._activeActionIds.length;o++){var a=this._activeActionIds[o],f=this._actionMap[a],d=this._effectMap[f==null?void 0:f.effectId];if(r==="start"){var m;!(d==null||(m=d.source)===null||m===void 0)&&m.start&&d.source.start({action:f,effect:d,engine:this,isPlaying:this.isPlaying,time:this.getTime()})}else if(r==="stop"){var y;!(d==null||(y=d.source)===null||y===void 0)&&y.stop&&d.source.stop({action:f,effect:d,engine:this,isPlaying:this.isPlaying,time:this.getTime()})}}}},{key:"_tick",value:function(r){var o=this;if(!this.isPaused){var a=r.now,f=r.autoEnd,d=r.to,m=this.getTime()+Math.min(1e3,a-this._prev)/1e3*this._playRate;if(this._prev=a,d&&d<=m&&(m=d),this.setTime(m,!0),this._tickAction(m),!d&&f&&this._next>=this._actionSortIds.length&&this._activeActionIds.length===0){this._end();return}d&&d<=m&&this._end(),!this.isPaused&&(this._timerId=requestAnimationFrame(function(y){o._tick({now:y,autoEnd:f,to:d})}))}}},{key:"_tickAction",value:function(r){this._dealEnter(r),this._dealLeave(r);for(var o=this._activeActionIds.length,a=0;a<o;a++){var f,d=this._activeActionIds[a],m=this._actionMap[d],y=this._effectMap[m.effectId];y&&(!((f=y.source)===null||f===void 0)&&f.update)&&y.source.update({time:r,action:m,isPlaying:this.isPlaying,effect:y,engine:this})}}},{key:"_dealClear",value:function(){for(;this._activeActionIds.length;){var r,o=this._activeActionIds.shift(),a=this._actionMap[o],f=this._effectMap[a==null?void 0:a.effectId];!(f==null||(r=f.source)===null||r===void 0)&&r.leave&&f.source.leave({action:a,effect:f,engine:this,isPlaying:this.isPlaying,time:this.getTime()})}this._next=0}},{key:"_dealEnter",value:function(r){for(;this._actionSortIds[this._next];){var o=this._actionSortIds[this._next],a=this._actionMap[o];if(!a.disable){if(a.start>r)break;if(a.end>r&&!this._activeActionIds.includes(o)){var f,d=this._effectMap[a.effectId];d&&(!((f=d.source)===null||f===void 0)&&f.enter)&&d.source.enter({action:a,effect:d,isPlaying:this.isPlaying,time:r,engine:this}),this._activeActionIds.push(o)}}this._next++}}},{key:"_dealLeave",value:function(r){for(var o=0;this._activeActionIds[o];){var a=this._activeActionIds[o],f=this._actionMap[a];if(f.start>r||f.end<r){var d,m=this._effectMap[f.effectId];m&&(!((d=m.source)===null||d===void 0)&&d.leave)&&m.source.leave({action:f,effect:m,isPlaying:this.isPlaying,time:r,engine:this}),this._activeActionIds.splice(o,1);continue}o++}}},{key:"_dealData",value:function(r){var o=[];r.map(function(m){o.push.apply(o,pS(m.actions))});var a=o.sort(function(m,y){return m.start-y.start}),f={},d=[];a.forEach(function(m){d.push(m.id),f[m.id]=mn({},m)}),this._actionMap=f,this._actionSortIds=d}}]),t}(ML),h1="timeline-editor",zL=0,X_=1,NL=10,K_=160,uE=20,p1=1,m1=8,Z_=32,g1=20,cE=5,Cr;(function(n){n[n.VERBOSE=0]="VERBOSE",n[n.LOG=1]="LOG",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.FATAL=5]="FATAL",n[n.SILENT=1/0]="SILENT"})(Cr||(Cr={}));var fE={VERBOSE:Cr.VERBOSE,LOG:Cr.LOG,INFO:Cr.INFO,WARN:Cr.WARN,ERROR:Cr.ERROR,SILENT:Cr.SILENT};function dh(n,e){return"color:".concat(n,";font-size:").concat(e,"px;")}var Qm=function(){function n(e){Gy(this,n),this.Levels=fE,this.level=Cr.LOG,this.prefix="",this.enabled=!0,this.debugColor=dh("#cccccc",12),this.logColor=dh("#bbbbbb",12),this.infoColor=dh("#2196f3",12),this.warnColor=dh("#ff00ff",12),this.errorColor=dh("#e91e63",12),this.fatalColor=dh("#9a0101",13),this.setPrefix(e),this.level=n.level,n.instances.push(this)}return Wy(n,[{key:"setPrefix",value:function(t){this.prefix=t}},{key:"enable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.level;this.level=t,this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"setLevel",value:function(t){this.level=t}},{key:"trace",value:function(t){if(!(!this.enabled||this.level>Cr.VERBOSE)){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];if(n.noColor){var a;(a=console).trace.apply(a,["[".concat(this.prefix,"] ").concat(t)].concat(r))}else{var f;(f=console).trace.apply(f,["%c[".concat(this.prefix,"] ").concat(t),this.debugColor].concat(r))}}}},{key:"debug",value:function(t){if(!(!this.enabled||this.level>Cr.VERBOSE)){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];if(n.noColor){var a;(a=console).debug.apply(a,["[".concat(this.prefix,"] ").concat(t)].concat(r))}else{var f;(f=console).debug.apply(f,["%c[".concat(this.prefix,"] ").concat(t),this.debugColor].concat(r))}}}},{key:"log",value:function(t){if(!(!this.enabled||this.level>Cr.LOG)){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];if(n.noColor){var a;(a=console).log.apply(a,["[".concat(this.prefix,"] ").concat(t)].concat(r))}else{var f;(f=console).log.apply(f,["%c[".concat(this.prefix,"] ").concat(t),this.logColor].concat(r))}}}},{key:"info",value:function(t){if(!(!this.enabled||this.level>Cr.INFO)){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];if(n.noColor){var a;(a=console).info.apply(a,["[".concat(this.prefix,"] ").concat(t)].concat(r))}else{var f;(f=console).info.apply(f,["%c[".concat(this.prefix,"] ").concat(t),this.infoColor].concat(r))}}}},{key:"warn",value:function(t){if(!(!this.enabled||this.level>Cr.WARN)){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];if(n.noColor){var a;(a=console).warn.apply(a,["[".concat(this.prefix,"] ").concat(t)].concat(r))}else{var f;(f=console).warn.apply(f,["%c[".concat(this.prefix,"] ").concat(t),this.warnColor].concat(r))}}}},{key:"error",value:function(t){if(!(!this.enabled||this.level>Cr.ERROR)){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];if(n.noColor){var a;(a=console).error.apply(a,["[".concat(this.prefix,"] ").concat(t)].concat(r))}else{var f;(f=console).error.apply(f,["%c[".concat(this.prefix,"] ").concat(t),this.errorColor].concat(r))}}}},{key:"fatal",value:function(t){if(!(!this.enabled||this.level>Cr.FATAL)){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];if(n.noColor){var a;(a=console).error.apply(a,["[".concat(this.prefix,"] ").concat(t)].concat(r))}else{var f;(f=console).error.apply(f,["%c[".concat(this.prefix,"] ").concat(t),this.fatalColor].concat(r))}}}},{key:"group",value:function(){if(console.group){var t;(t=console).group.apply(t,arguments)}}},{key:"groupEnd",value:function(){console.groupEnd&&console.groupEnd()}},{key:"groupCollapsed",value:function(){if(console.groupCollapsed){var t;(t=console).groupCollapsed.apply(t,arguments)}}}],[{key:"setLevel",value:function(t){this.level=t,this.instances.forEach(function(i){return i.setLevel(t)})}},{key:"enable",value:function(t){t&&(this.level=t),this.instances.forEach(function(i){return i.enable()})}},{key:"disable",value:function(){this.instances.forEach(function(t){return t.disable()})}}]),n}();Qm.instances=[];Qm.level=Cr.LOG;Qm.Levels=fE;Qm.noColor=!1;var pc=new Qm("timeline");function LL(n){var e=n.editorData,t=e===void 0?[]:e,i=n.effects,r=i===void 0?{}:i,o=n.scrollTop,a=o===void 0?0:o,f=n.scale,d=f===void 0?X_:f,m=n.scaleSplitCount,y=m===void 0?NL:m,x=n.scaleWidth,T=x===void 0?K_:x,R=n.startLeft,O=R===void 0?uE:R,k=n.minScaleCount,N=k===void 0?g1:k,H=n.maxScaleCount,V=H===void 0?1/0:H,Z=n.rowHeight,J=Z===void 0?Z_:Z;d<=0&&(pc.error("Error: scale must be greater than 0!"),d=X_),a<0&&(pc.warn("Warning: scrollTop cannot be less than 0!"),a=0),y<=0&&(pc.warn("Warning: scaleSplitCount cannot be less than 1!"),y=1),T<=0&&(pc.warn("Warning: scaleWidth must be greater than 0!"),T=K_),O<0&&(pc.warn("Warning: startLeft cannot be less than 0!"),O=0),N<1&&(pc.warn("Warning: minScaleCount must be greater than 1!"),N=g1),N=parseInt(N+""),V<N&&(pc.warn("Warning: maxScaleCount cannot be less than minScaleCount!"),V=N),V=V===1/0?1/0:parseInt(V+""),J<=0&&(pc.warn("Warning: rowHeight must be greater than 0!"),J=Z_);var se=mn({},n);return delete se.style,mn(mn({},se),{},{editorData:t,effects:r,scrollTop:a,scale:d,scaleSplitCount:y,scaleWidth:T,startLeft:O,minScaleCount:N,maxScaleCount:V,rowHeight:J})}function Oa(n,e){var t=e.startLeft,i=e.scale,r=e.scaleWidth;return t+n/i*r}function id(n,e){var t=e.startLeft,i=e.scale,r=e.scaleWidth;return(n-t)/r*i}function mm(n,e){var t=n.left,i=n.width,r=id(t,e),o=id(t+i,e);return{start:r,end:o}}function v1(n,e){var t=n.start,i=n.end,r=Oa(t,e),o=Oa(i,e)-r;return{left:r,width:o}}function PL(n,e){var t=0;n.forEach(function(r){r.actions.forEach(function(o){t=Math.max(t,o.end)})});var i=Math.ceil(t/e.scale);return i+cE}function IL(n,e){var t=e.startLeft,i=e.scaleWidth,r=Math.ceil((n-t)/i);return Math.max(r+cE,e.scaleCount)}function jL(n,e){var t=[];return n.forEach(function(i){t.push(Oa(i.start,e)),t.push(Oa(i.end,e))}),t}function Hr(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return fL.apply(void 0,["".concat(h1,"-")].concat(e))}var Hv=1,Q_=3,J_=10;function BL(n){var e=q.useRef(Number.MIN_SAFE_INTEGER),t=q.useRef(Number.MAX_SAFE_INTEGER),i=q.useRef(Hv),r=q.useRef(),o=function(){if(n!=null&&n.current){var y=n.current.getBoundingClientRect(),x=y.left,T=y.width;e.current=x,t.current=x+T}},a=function(y,x){if(y.clientX>=t.current||y.clientX<=e.current){cancelAnimationFrame(r.current);var T=Math.abs(y.clientX>=t.current?y.clientX-t.current:y.clientX-e.current);i.current=Math.min(Number((T/J_).toFixed(0))*Hv,Q_);var R=y.clientX>=t.current?1:-1,O=R*i.current,k=function N(){x&&x(O),r.current=requestAnimationFrame(N)};return r.current=requestAnimationFrame(k),!1}else cancelAnimationFrame(r.current);return!0},f=function(y,x,T){if(y.clientX>=t.current||y.clientX<e.current){cancelAnimationFrame(r.current);var R=Math.abs(y.clientX>=t.current?y.clientX-t.current:y.clientX-e.current);i.current=Math.min(Number((R/J_).toFixed(0))*Hv,Q_);var O=y.clientX>=t.current?1:-1,k=O*i.current,N=function H(){T&&T(k),r.current=requestAnimationFrame(H)};return r.current=requestAnimationFrame(N),!1}else cancelAnimationFrame(r.current);return!0},d=function(){e.current=Number.MIN_SAFE_INTEGER,t.current=Number.MAX_SAFE_INTEGER,i.current=Hv,cancelAnimationFrame(r.current)};return{initAutoScroll:o,dealDragAutoScroll:a,dealResizeAutoScroll:f,stopAutoScroll:d}}var HL=function(e){var t=e.children,i=e.interactRef,r=e.draggable,o=e.resizable,a=e.draggableOptions,f=e.resizableOptions,d=q.useRef(),m=q.useRef(),y=q.useRef(),x=q.useRef();q.useEffect(function(){y.current=mn({},a),x.current=mn({},f)},[a,f]),q.useEffect(function(){m.current&&m.current.unset(),m.current=mL(d.current),i.current=m.current,T()},[r,o]);var T=function(){r&&m.current.draggable(mn(mn({},y.current),{},{onstart:function(k){return y.current.onstart&&y.current.onstart(k)},onmove:function(k){return y.current.onmove&&y.current.onmove(k)},onend:function(k){return y.current.onend&&y.current.onend(k)}})),o&&m.current.resizable(mn(mn({},x.current),{},{onstart:function(k){return x.current.onstart&&x.current.onstart(k)},onmove:function(k){return x.current.onmove&&x.current.onmove(k)},onend:function(k){return x.current.onend&&x.current.onend(k)}}))};return q.cloneElement(t,{ref:d,draggable:!1})},dE=_t.forwardRef(function(n,e){var t=n.children,i=n.edges,r=n.left,o=n.width,a=n.start,f=a===void 0?uE:a,d=n.grid,m=d===void 0?p1:d,y=n.bounds,x=y===void 0?{left:Number.MIN_SAFE_INTEGER,right:Number.MAX_SAFE_INTEGER}:y,T=n.enableResizing,R=T===void 0?!0:T,O=n.enableDragging,k=O===void 0?!0:O,N=n.adsorptionDistance,H=N===void 0?m1:N,V=n.adsorptionPositions,Z=V===void 0?[]:V,J=n.onResizeStart,se=n.onResize,me=n.onResizeEnd,G=n.onDragStart,ue=n.onDragEnd,ge=n.onDrag,xe=n.parentRef,Pe=n.deltaScrollLeft,Xe=q.useRef(),ke=q.useRef(0),qe=q.useRef(!1),lt=BL(xe),Oe=lt.initAutoScroll,Je=lt.dealDragAutoScroll,Ze=lt.dealResizeAutoScroll,dt=lt.stopAutoScroll;q.useEffect(function(){return function(){Xe.current&&Xe.current.unset()}},[]),q.useImperativeHandle(e,function(){return{updateLeft:function(Ye){return ie(Ye||0,!1)},updateWidth:function(Ye){return Ce(Ye,!1)},getLeft:rt,getWidth:et}}),q.useEffect(function(){var Et=Xe.current.target;Ce(typeof o>"u"?Et.offsetWidth:o,!1)},[o]),q.useEffect(function(){ie(r||0,!1)},[r]);var ie=function(Ye){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!Xe.current||!Xe.current.target)){nt&&(ke.current=0);var pt=Xe.current.target;pt.style.left="".concat(Ye,"px"),Object.assign(pt.dataset,{left:Ye})}},Ce=function(Ye){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!Xe.current||!Xe.current.target)){nt&&(ke.current=0);var pt=Xe.current.target;pt.style.width="".concat(Ye,"px"),Object.assign(pt.dataset,{width:Ye})}},rt=function(){var Ye,nt=Xe.current.target;return parseFloat((nt==null||(Ye=nt.dataset)===null||Ye===void 0?void 0:Ye.left)||"0")},et=function(){var Ye,nt=Xe.current.target;return parseFloat((nt==null||(Ye=nt.dataset)===null||Ye===void 0?void 0:Ye.width)||"0")},Fe=function(Ye){ke.current=0,qe.current=!1,Oe(),G&&G()},tt=function(Ye){var nt=Ye.preLeft,pt=Ye.preWidth,ct=Ye.scrollDelta,Ct=qe.current?H:m;if(Math.abs(ke.current)>=Ct){var sn=parseInt(ke.current/Ct+""),It=nt+sn*Ct,cn=It,mt=Number.MAX_SAFE_INTEGER;if(Z.forEach(function(Pn){var fn=Math.abs(Pn-It);fn<H&&fn<mt&&(cn=Pn);var ni=Math.abs(Pn-(It+pt));ni<H&&ni<mt&&(cn=Pn-pt)}),cn!==It?(qe.current=!0,It=cn):((It-f)%m!==0&&(It=f+m*Math.round((It-f)/m)),qe.current=!1),ke.current=ke.current%Ct,It<x.left?It=x.left:It+pt>x.right&&(It=x.right-pt),ge){var ti=ge({lastLeft:nt,left:It,lastWidth:pt,width:pt},ct);if(ti===!1)return}ie(It,!1)}},St=function(Ye){var nt=Ye.target;if(Pe&&(xe!=null&&xe.current)){var pt=Je(Ye,function(mt){Pe(mt);var ti=nt.dataset,Pn=ti.left,fn=ti.width,ni=parseFloat(Pn),Ut=parseFloat(fn);ke.current+=mt,tt({preLeft:ni,preWidth:Ut,scrollDelta:mt})});if(!pt)return}var ct=nt.dataset,Ct=ct.left,sn=ct.width,It=parseFloat(Ct),cn=parseFloat(sn);ke.current+=Ye.dx,tt({preLeft:It,preWidth:cn})},kn=function(Ye){ke.current=0,qe.current=!1,dt();var nt=Ye.target,pt=nt.dataset,ct=pt.left,Ct=pt.width;ue&&ue({left:parseFloat(ct),width:parseFloat(Ct)})},At=function(Ye){var nt;ke.current=0,qe.current=!1,Oe();var pt=!((nt=Ye.edges)===null||nt===void 0)&&nt.right?"right":"left";J&&J(pt)},Ke=function(Ye){var nt=Ye.dir,pt=Ye.preWidth,ct=Ye.preLeft,Ct=qe.current?H:m;if(nt==="left"){if(Math.abs(ke.current)>=Ct){var sn=parseInt(ke.current/Ct+""),It=ct+sn*Ct,cn=It,mt=Number.MAX_SAFE_INTEGER;Z.forEach(function(zn){var Hn=Math.abs(zn-It);Hn<H&&Hn<mt&&(cn=zn)}),cn!==It?(qe.current=!0,It=cn):((It-f)%m!==0&&(It=f+m*Math.round((It-f)/m)),qe.current=!1),ke.current=ke.current%Ct;var ti=ct+pt;It<x.left&&(It=x.left);var Pn=ti-It;if(se){var fn=se("left",{lastLeft:ct,lastWidth:pt,left:It,width:Pn});if(fn===!1)return}ie(It,!1),Ce(Pn,!1)}}else if(nt==="right"&&Math.abs(ke.current)>=Ct){var ni=parseInt(ke.current/m+""),Ut=pt+ni*m,kt=ct+Ut,Wt=Number.MAX_SAFE_INTEGER;if(Z.forEach(function(zn){var Hn=Math.abs(zn-(ct+Ut));Hn<H&&Hn<Wt&&(kt=zn)}),kt!==ct+Ut)qe.current=!0,Ut=kt-ct;else{var Dn=ct+Ut;(Dn-f)%m!==0&&(Dn=f+m*Math.round((Dn-f)/m),Ut=Dn-ct),qe.current=!1}if(ke.current=ke.current%Ct,ct+Ut>x.right&&(Ut=x.right-ct),se){var Bn=se("right",{lastLeft:ct,lastWidth:pt,left:ct,width:Ut});if(Bn===!1)return}Ce(Ut,!1)}},Jt=function(Ye){var nt,pt=Ye.target,ct=!((nt=Ye.edges)===null||nt===void 0)&&nt.left?"left":"right";if(Pe&&(xe!=null&&xe.current)){var Ct=Ze(Ye,ct,function(Pn){Pe(Pn);var fn=pt.dataset,ni=fn.left,Ut=fn.width,kt=parseFloat(ni),Wt=parseFloat(Ut);ke.current+=Pn,Ke({preLeft:kt,preWidth:Wt,dir:ct})});if(!Ct)return}var sn=pt.dataset,It=sn.left,cn=sn.width,mt=parseFloat(It),ti=parseFloat(cn);ke.current+=ct==="left"?Ye.deltaRect.left:Ye.deltaRect.right,Ke({preLeft:mt,preWidth:ti,dir:ct})},xn=function(Ye){var nt;ke.current=0,qe.current=!1,dt();var pt=Ye.target,ct=pt.dataset,Ct=ct.left,sn=ct.width,It=!((nt=Ye.edges)===null||nt===void 0)&&nt.right?"right":"left";me&&me(It,{left:parseFloat(Ct),width:parseFloat(sn)})};return _t.createElement(HL,{interactRef:Xe,draggable:k,resizable:R,draggableOptions:{lockAxis:"x",onmove:St,onstart:Fe,onend:kn,cursorChecker:function(){return null}},resizableOptions:{axis:"x",invert:"none",edges:mn({left:!0,right:!0,top:!1,bottom:!1},i||{}),onmove:Jt,onstart:At,onend:xn}},_t.cloneElement(t,{style:mn(mn({},t.props.style||{}),{},{left:r,width:o})}))});function ld(n,e){e===void 0&&(e={});var t=e.insertAt;if(!(!n||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}}var $L=`.timeline-editor-cursor {
  cursor: ew-resize;
  position: absolute;
  top: 32px;
  height: calc(100% - 32px);
  box-sizing: border-box;
  border-left: 1px solid #5297FF;
  border-right: 1px solid #5297FF;
  transform: translateX(-25%) scaleX(0.5);
}
.timeline-editor-cursor-top {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translate(-50%, 0) scaleX(2);
  margin: auto;
}
.timeline-editor-cursor-area {
  width: 16px;
  height: 100%;
  cursor: ew-resize;
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
}
`;ld($L);var FL=function(e){var t=e.disableDrag,i=e.cursorTime,r=e.setCursor,o=e.startLeft,a=e.timelineWidth,f=e.scaleWidth,d=e.scale,m=e.scrollLeft,y=e.scrollSync,x=e.areaRef,T=e.maxScaleCount,R=e.deltaScrollLeft,O=e.onCursorDragStart,k=e.onCursorDrag,N=e.onCursorDragEnd,H=q.useRef(),V=q.useRef();return q.useEffect(function(){typeof V.current>"u"&&H.current.updateLeft(Oa(i,{startLeft:o,scaleWidth:f,scale:d})-m)},[i,o,f,d,m]),_t.createElement(dE,{start:o,ref:H,parentRef:x,bounds:{left:0,right:Math.min(a,T*f+o-m)},deltaScrollLeft:R,enableDragging:!t,enableResizing:!1,onDragStart:function(){O&&O(i),V.current=Oa(i,{startLeft:o,scaleWidth:f,scale:d})-m,H.current.updateLeft(V.current)},onDragEnd:function(){var J=id(V.current+m,{startLeft:o,scale:d,scaleWidth:f});r({time:J}),N&&N(J),V.current=void 0},onDrag:function(J){var se=J.left,me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=y.current.state.scrollLeft;!me||G===0?se<o-G?V.current=o-G:V.current=se:V.current<o-G-me&&(V.current=o-G-me),H.current.updateLeft(V.current);var ue=id(V.current+G,{startLeft:o,scale:d,scaleWidth:f});return r({time:ue}),k&&k(ue),!1}},_t.createElement("div",{className:Hr("cursor")},_t.createElement("svg",{className:Hr("cursor-top"),width:"8",height:"12",viewBox:"0 0 8 12",fill:"none"},_t.createElement("path",{d:"M0 1C0 0.447715 0.447715 0 1 0H7C7.55228 0 8 0.447715 8 1V9.38197C8 9.76074 7.786 10.107 7.44721 10.2764L4.44721 11.7764C4.16569 11.9172 3.83431 11.9172 3.55279 11.7764L0.552786 10.2764C0.214002 10.107 0 9.76074 0 9.38197V1Z",fill:"#5297FF"})),_t.createElement("div",{className:Hr("cursor-area")})))},UL=`.timeline-editor-drag-line-container {
  position: absolute;
  height: 100%;
  top: 0;
  left: 0;
}
.timeline-editor-drag-line {
  width: 0;
  position: absolute;
  top: 0;
  height: 99%;
  border-left: 1px dashed rgba(82, 151, 255, 0.6);
}
`;ld(UL);var GL=function(e){var t=e.isMoving,i=e.movePositions,r=i===void 0?[]:i,o=e.assistPositions,a=o===void 0?[]:o,f=e.scrollLeft;return _t.createElement("div",{className:Hr("drag-line-container")},t&&r.filter(function(d){return a.includes(d)}).map(function(d,m){return _t.createElement("div",{key:m,className:Hr("drag-line"),style:{left:d-f}})}))},WL=`.timeline-editor:hover .timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar {
  height: 4px;
}
.timeline-editor-edit-area {
  flex: 1 1 auto;
  margin-top: 10px;
  overflow: hidden;
  position: relative;
}
.timeline-editor-edit-area .ReactVirtualized__Grid {
  outline: none !important;
  overflow: overlay !important;
}
.timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar {
  width: 0;
  height: 0;
}
.timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar-track {
  background-color: transparent !important;
}
.timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar-thumb {
  background: #313132;
  border-radius: 16px;
}
`;ld(WL);var VL=`.timeline-editor-action {
  position: absolute;
  left: 0;
  top: 0;
  background-color: #2f3134;
}
.timeline-editor-action .timeline-editor-action-left-stretch,
.timeline-editor-action .timeline-editor-action-right-stretch {
  position: absolute;
  top: 0;
  width: 10px;
  border-radius: 4px;
  height: 100%;
  overflow: hidden;
}
.timeline-editor-action .timeline-editor-action-left-stretch::after,
.timeline-editor-action .timeline-editor-action-right-stretch::after {
  position: absolute;
  top: 0;
  bottom: 0;
  margin: auto;
  border-radius: 4px;
  border-top: 28px solid transparent;
  border-bottom: 28px solid transparent;
}
.timeline-editor-action .timeline-editor-action-left-stretch {
  left: 0;
}
.timeline-editor-action .timeline-editor-action-left-stretch::after {
  left: 0;
  content: "";
  border-left: 7px solid rgba(255, 255, 255, 0.1);
  border-right: 7px solid transparent;
}
.timeline-editor-action .timeline-editor-action-right-stretch {
  right: 0;
}
.timeline-editor-action .timeline-editor-action-right-stretch::after {
  right: 0;
  content: "";
  border-right: 7px solid rgba(255, 255, 255, 0.1);
  border-left: 7px solid transparent;
}
`;ld(VL);var qL=function(e){var t=e.editorData,i=e.row,r=e.action,o=e.effects,a=e.rowHeight,f=e.scale,d=e.scaleWidth,m=e.scaleSplitCount,y=e.startLeft,x=e.gridSnap,T=e.disableDrag,R=e.scaleCount,O=e.maxScaleCount,k=e.setScaleCount,N=e.onActionMoveStart,H=e.onActionMoving,V=e.onActionMoveEnd,Z=e.onActionResizeStart,J=e.onActionResizeEnd,se=e.onActionResizing,me=e.dragLineData,G=e.setEditorData,ue=e.onClickAction,ge=e.onClickActionOnly,xe=e.onDoubleClickAction,Pe=e.onContextMenuAction,Xe=e.getActionRender,ke=e.handleTime,qe=e.areaRef,lt=e.deltaScrollLeft,Oe=q.useRef(),Je=q.useRef(!1),Ze=r.id,dt=r.maxEnd,ie=r.minStart,Ce=r.end,rt=r.start,et=r.selected,Fe=r.flexible,tt=Fe===void 0?!0:Fe,St=r.movable,kn=St===void 0?!0:St,At=r.effectId,Ke=Oa(ie||0,{startLeft:y,scale:f,scaleWidth:d}),Jt=Math.min(O*d+y,Oa(dt||Number.MAX_VALUE,{startLeft:y,scale:f,scaleWidth:d})),xn=q.useState(function(){return v1({start:rt,end:Ce},{startLeft:y,scale:f,scaleWidth:d})}),Et=If(xn,2),Ye=Et[0],nt=Et[1];q.useLayoutEffect(function(){nt(v1({start:rt,end:Ce},{startLeft:y,scale:f,scaleWidth:d}))},[Ce,rt,y,d,f]);var pt=d/m,ct=["action"];kn&&ct.push("action-movable"),et&&ct.push("action-selected"),tt&&ct.push("action-flexible"),o[At]&&ct.push("action-effect-".concat(At));var Ct=function(kt,Wt){var Dn=IL(kt+Wt,{startLeft:y,scaleCount:R,scaleWidth:d});Dn!==R&&k(Dn)},sn=function(){N&&N({action:r,row:i})},It=function(kt){var Wt=kt.left,Dn=kt.width;if(Je.current=!0,H){var Bn=mm({left:Wt,width:Dn},{scaleWidth:d,scale:f,startLeft:y}),zn=Bn.start,Hn=Bn.end,ai=H({action:r,row:i,start:zn,end:Hn});if(ai===!1)return!1}nt({left:Wt,width:Dn}),Ct(Wt,Dn)},cn=function(kt){var Wt=kt.left,Dn=kt.width,Bn=mm({left:Wt,width:Dn},{scaleWidth:d,scale:f,startLeft:y}),zn=Bn.start,Hn=Bn.end,ai=t.find(function(Si){return Si.id===i.id}),An=ai.actions.find(function(Si){return Si.id===Ze});An.start=zn,An.end=Hn,G(t),V&&V({action:An,row:i,start:zn,end:Hn})},mt=function(kt){Z&&Z({action:r,row:i,dir:kt})},ti=function(kt,Wt){var Dn=Wt.left,Bn=Wt.width;if(Je.current=!0,se){var zn=mm({left:Dn,width:Bn},{scaleWidth:d,scale:f,startLeft:y}),Hn=zn.start,ai=zn.end,An=se({action:r,row:i,start:Hn,end:ai,dir:kt});if(An===!1)return!1}nt({left:Dn,width:Bn}),Ct(Dn,Bn)},Pn=function(kt,Wt){var Dn=Wt.left,Bn=Wt.width,zn=mm({left:Dn,width:Bn},{scaleWidth:d,scale:f,startLeft:y}),Hn=zn.start,ai=zn.end,An=t.find(function(hi){return hi.id===i.id}),Si=An.actions.find(function(hi){return hi.id===Ze});Si.start=Hn,Si.end=ai,G(t),J&&J({action:Si,row:i,start:Hn,end:ai,dir:kt})},fn=mn(mn({},r),mm({left:Ye.left,width:Ye.width},{startLeft:y,scaleWidth:d,scale:f})),ni=mn(mn({},i),{},{actions:pS(i.actions)});return i.actions.includes(r)&&(ni.actions[i.actions.indexOf(r)]=fn),_t.createElement(dE,{ref:Oe,parentRef:qe,start:y,left:Ye.left,width:Ye.width,grid:x&&pt||p1,adsorptionDistance:x?Math.max((pt||p1)/2,m1):m1,adsorptionPositions:me.assistPositions,bounds:{left:Ke,right:Jt},edges:{left:!T&&tt&&".".concat(Hr("action-left-stretch")),right:!T&&tt&&".".concat(Hr("action-right-stretch"))},enableDragging:!T&&kn,enableResizing:!T&&tt,onDragStart:sn,onDrag:It,onDragEnd:cn,onResizeStart:mt,onResize:ti,onResizeEnd:Pn,deltaScrollLeft:lt},_t.createElement("div",{onMouseDown:function(){Je.current=!1},onClick:function(kt){var Wt;ue&&(Wt=ke(kt),ue(kt,{row:i,action:r,time:Wt})),!Je.current&&ge&&(Wt||(Wt=ke(kt)),ge(kt,{row:i,action:r,time:Wt}))},onDoubleClick:function(kt){if(xe){var Wt=ke(kt);xe(kt,{row:i,action:r,time:Wt})}},onContextMenu:function(kt){if(Pe){var Wt=ke(kt);Pe(kt,{row:i,action:r,time:Wt})}},className:Hr((ct||[]).join(" ")),style:{height:a}},Xe&&Xe(fn,ni),tt&&_t.createElement("div",{className:Hr("action-left-stretch")}),tt&&_t.createElement("div",{className:Hr("action-right-stretch")})))},YL=`.timeline-editor-edit-row {
  background-repeat: no-repeat, repeat;
  background-image: linear-gradient(#191b1d, #191b1d), linear-gradient(90deg, rgba(255, 255, 255, 0.08) 1px, transparent 0);
  display: flex;
  flex-direction: row;
  box-sizing: border-box;
}
`;ld(YL);var XL=function(e){var t=e.rowData,i=e.style,r=i===void 0?{}:i,o=e.onClickRow,a=e.onDoubleClickRow,f=e.onContextMenuRow,d=e.areaRef,m=e.scrollLeft,y=e.startLeft,x=e.scale,T=e.scaleWidth,R=["edit-row"];t!=null&&t.selected&&R.push("edit-row-selected");var O=function(N){if(d.current){var H=d.current.getBoundingClientRect(),V=N.clientX-H.x,Z=V+m,J=id(Z,{startLeft:y,scale:x,scaleWidth:T});return J}};return _t.createElement("div",{className:"".concat(Hr.apply(void 0,R)," ").concat(((t==null?void 0:t.classNames)||[]).join(" ")),style:r,onClick:function(N){if(t&&o){var H=O(N);o(N,{row:t,time:H})}},onDoubleClick:function(N){if(t&&a){var H=O(N);a(N,{row:t,time:H})}},onContextMenu:function(N){if(t&&f){var H=O(N);f(N,{row:t,time:H})}}},((t==null?void 0:t.actions)||[]).map(function(k){return _t.createElement(qL,mn(mn({key:k.id},e),{},{handleTime:O,row:t,action:k}))}))};function KL(){var n=q.useState({isMoving:!1,movePositions:[],assistPositions:[]}),e=If(n,2),t=e[0],i=e[1],r=function(y){var x=y.editorData,T=y.assistActionIds,R=y.action,O=y.row,k=y.scale,N=y.scaleWidth,H=y.startLeft,V=y.cursorLeft,Z=y.hideCursor,J=[];T?x.forEach(function(me){me.actions.forEach(function(G){T.includes(G.id)&&J.push(G)})}):x.forEach(function(me){me.id!==O.id?J.push.apply(J,pS(me.actions)):me.actions.forEach(function(G){G.id!==R.id&&J.push(G)})});var se=jL(J,{startLeft:H,scale:k,scaleWidth:N});return Z||se.push(V),se},o=function(y){var x=y.start,T=y.end,R=y.dir,O=y.scale,k=y.scaleWidth,N=y.startLeft,H=v1({start:x,end:T},{startLeft:N,scaleWidth:k,scale:O}),V=H.left,Z=H.width;return R?R==="right"?[V+Z]:[V]:[V,V+Z]},a=function(y){var x=y.movePositions,T=y.assistPositions;i({isMoving:!0,movePositions:x||[],assistPositions:T||[]})},f=function(y){var x=y.movePositions,T=y.assistPositions;i(function(R){return mn(mn({},R),{},{movePositions:x||R.movePositions,assistPositions:T||R.assistPositions})})},d=function(){i({isMoving:!1,movePositions:[],assistPositions:[]})};return{initDragLine:a,updateDragLine:f,disposeDragLine:d,dragLineData:t,defaultGetAssistPosition:r,defaultGetMovePosition:o}}var ZL=_t.forwardRef(function(n,e){var t=n.editorData,i=n.rowHeight,r=n.scaleWidth,o=n.scaleCount,a=n.startLeft,f=n.scrollLeft,d=n.scrollTop,m=n.scale,y=n.hideCursor,x=n.cursorTime,T=n.onScroll,R=n.dragLine,O=n.getAssistDragLineActionIds,k=n.onActionMoveEnd,N=n.onActionMoveStart,H=n.onActionMoving,V=n.onActionResizeEnd,Z=n.onActionResizeStart,J=n.onActionResizing,se=KL(),me=se.dragLineData,G=se.initDragLine,ue=se.updateDragLine,ge=se.disposeDragLine,xe=se.defaultGetAssistPosition,Pe=se.defaultGetMovePosition,Xe=q.useRef(),ke=q.useRef(),qe=q.useRef(-1);q.useImperativeHandle(e,function(){return{get domRef(){return Xe}}});var lt=function(dt){if(R){var ie=O&&O({action:dt.action,row:dt.row,editorData:t}),Ce=Oa(x,{scaleWidth:r,scale:m,startLeft:a}),rt=xe({editorData:t,assistActionIds:ie,action:dt.action,row:dt.row,scale:m,scaleWidth:r,startLeft:a,hideCursor:y,cursorLeft:Ce});G({assistPositions:rt})}},Oe=function(dt){if(R){var ie=Pe(mn(mn({},dt),{},{startLeft:a,scaleWidth:r,scale:m}));ue({movePositions:ie})}},Je=function(dt){var ie=dt.rowIndex,Ce=dt.key,rt=dt.style,et=t[ie];return _t.createElement(XL,mn(mn({},n),{},{style:mn(mn({},rt),{},{backgroundPositionX:"0, ".concat(a,"px"),backgroundSize:"".concat(a,"px, ").concat(r,"px")}),areaRef:Xe,key:Ce,rowHeight:(et==null?void 0:et.rowHeight)||i,rowData:et,dragLineData:me,onActionMoveStart:function(tt){return lt(tt),N&&N(tt)},onActionResizeStart:function(tt){return lt(tt),Z&&Z(tt)},onActionMoving:function(tt){return Oe(tt),H&&H(tt)},onActionResizing:function(tt){return Oe(tt),J&&J(tt)},onActionResizeEnd:function(tt){return ge(),V&&V(tt)},onActionMoveEnd:function(tt){return ge(),k&&k(tt)}}))};return q.useLayoutEffect(function(){var Ze;(Ze=ke.current)===null||Ze===void 0||Ze.scrollToPosition({scrollTop:d,scrollLeft:f})},[d,f]),q.useEffect(function(){ke.current.recomputeGridSize()},[t]),_t.createElement("div",{ref:Xe,className:Hr("edit-area")},_t.createElement(oS,null,function(Ze){var dt=Ze.width,ie=Ze.height,Ce=0,rt=t.map(function(et){var Fe=et.rowHeight||i;return Ce+=Fe,Fe});return Ce<ie&&(rt.push(ie-Ce),qe.current!==ie&&qe.current>=0&&setTimeout(function(){var et;return(et=ke.current)===null||et===void 0?void 0:et.recomputeGridSize({rowIndex:rt.length-1})})),qe.current=ie,_t.createElement(Ea,{columnCount:1,rowCount:rt.length,ref:ke,cellRenderer:Je,columnWidth:Math.max(o*r+a,dt),width:dt,height:ie,rowHeight:function(Fe){var tt=Fe.index;return rt[tt]||i},overscanRowCount:10,overscanColumnCount:0,onScroll:function(Fe){T(Fe)}})}),R&&_t.createElement(GL,mn({scrollLeft:f},me)))}),QL=`.timeline-editor {
  height: 600px;
  width: 600px;
  min-height: 32px;
  position: relative;
  font-size: 12px;
  font-family: "PingFang SC";
  background-color: #191b1d;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}
`;ld(QL);var JL=`.timeline-editor-time-area {
  position: relative;
  height: 32px;
  flex: 0 0 auto;
}
.timeline-editor-time-area .ReactVirtualized__Grid {
  outline: none;
}
.timeline-editor-time-area .ReactVirtualized__Grid::-webkit-scrollbar {
  display: none;
}
.timeline-editor-time-area-interact {
  position: absolute;
  cursor: pointer;
  left: 0;
  top: 0;
}
.timeline-editor-time-unit {
  border-right: 1px solid rgba(255, 255, 255, 0.2);
  position: relative;
  box-sizing: content-box;
  height: 4px !important;
  bottom: 0 !important;
  top: auto !important;
}
.timeline-editor-time-unit-big {
  height: 8px !important;
}
.timeline-editor-time-unit-scale {
  color: rgba(255, 255, 255, 0.6);
  position: absolute;
  right: 0;
  top: 0;
  transform: translate(50%, -100%);
}
`;ld(JL);var eP=function(e){var t=e.setCursor,i=e.maxScaleCount,r=e.hideCursor,o=e.scale,a=e.scaleWidth,f=e.scaleCount,d=e.scaleSplitCount,m=e.startLeft,y=e.scrollLeft,x=e.onClickTimeArea,T=e.getScaleRender,R=q.useRef(),O=d>0,k=function(V){var Z=V.columnIndex,J=V.key,se=V.style,me=O?Z%d===0:!0,G=["time-unit"];me&&G.push("time-unit-big");var ue=(O?Z/d:Z)*o;return _t.createElement("div",{key:J,style:se,className:Hr.apply(void 0,G)},me&&_t.createElement("div",{className:Hr("time-unit-scale")},T?T(ue):ue))};q.useEffect(function(){var H;(H=R.current)===null||H===void 0||H.recomputeGridSize()},[a,m]);var N=function(V){switch(V.index){case 0:return m;default:return O?a/d:a}};return _t.createElement("div",{className:Hr("time-area")},_t.createElement(oS,null,function(H){var V=H.width,Z=H.height;return _t.createElement(_t.Fragment,null,_t.createElement(Ea,{ref:R,columnCount:O?f*d+1:f,columnWidth:N,rowCount:1,rowHeight:Z,width:V,height:Z,overscanRowCount:0,overscanColumnCount:10,cellRenderer:k,scrollLeft:y}),_t.createElement("div",{style:{width:V,height:Z},onClick:function(se){if(!r){var me=se.currentTarget.getBoundingClientRect(),G=se.clientX-me.x,ue=Math.max(G+y,m);if(!(ue>i*a+m-y)){var ge=id(ue,{startLeft:m,scale:o,scaleWidth:a}),xe=x&&x(ge,se);xe!==!1&&t({time:ge})}}},className:Hr("time-area-interact")}))}))},tP=_t.forwardRef(function(n,e){var t=LL(n),i=n.style,r=t.effects,o=t.editorData,a=t.scrollTop,f=t.autoScroll,d=t.hideCursor,m=t.disableDrag,y=t.scale,x=t.scaleWidth,T=t.startLeft,R=t.minScaleCount,O=t.maxScaleCount,k=t.onChange,N=t.engine,H=t.autoReRender,V=H===void 0?!0:H,Z=t.onScroll,J=q.useRef(N||new DL),se=q.useRef(),me=q.useRef(),G=q.useRef(),ue=q.useState(o),ge=If(ue,2),xe=ge[0],Pe=ge[1],Xe=q.useState(g1),ke=If(Xe,2),qe=ke[0],lt=ke[1],Oe=q.useState(zL),Je=If(Oe,2),Ze=Je[0],dt=Je[1],ie=q.useState(!1),Ce=If(ie,2),rt=Ce[0],et=Ce[1],Fe=q.useState(Number.MAX_SAFE_INTEGER),tt=If(Fe,2),St=tt[0],kn=tt[1];q.useLayoutEffect(function(){At(PL(o,{scale:y})),Pe(o)},[o,R,O,y]),q.useEffect(function(){J.current.effects=r},[r]),q.useEffect(function(){J.current.data=xe},[xe]),q.useEffect(function(){V&&J.current.reRender()},[xe]),q.useEffect(function(){G.current&&G.current.setState({scrollTop:a})},[a]);var At=function(Ye){var nt=Math.min(O,Math.max(R,Ye));lt(nt)},Ke=function(Ye){var nt=k(Ye);nt!==!1&&(J.current.data=Ye,V&&J.current.reRender())},Jt=function(Ye){var nt=Ye.left,pt=Ye.time,ct=Ye.updateTime,Ct=ct===void 0?!0:ct;if(!(typeof nt>"u"&&typeof pt>"u")){typeof pt>"u"&&(typeof nt>"u"&&(nt=Oa(pt,{startLeft:T,scale:y,scaleWidth:x})),pt=id(nt,{startLeft:T,scale:y,scaleWidth:x}));var sn=!0;return Ct&&(sn=J.current.setTime(pt),V&&J.current.reRender()),sn&&dt(pt),sn}},xn=function(Ye){var nt=G.current.state.scrollLeft+Ye;nt>qe*(x-1)+T-St||G.current&&G.current.setState({scrollLeft:Math.max(G.current.state.scrollLeft+Ye,0)})};return q.useEffect(function(){var Et=function(ct){var Ct=ct.time;Jt({time:Ct,updateTime:!1})},Ye=function(){return et(!0)},nt=function(){return et(!1)};J.current.on("setTimeByTick",Et),J.current.on("play",Ye),J.current.on("paused",nt)},[]),q.useImperativeHandle(e,function(){return{get target(){return se.current},get listener(){return J.current},get isPlaying(){return J.current.isPlaying},get isPaused(){return J.current.isPaused},setPlayRate:J.current.setPlayRate.bind(J.current),getPlayRate:J.current.getPlayRate.bind(J.current),setTime:function(Ye){return Jt({time:Ye})},getTime:J.current.getTime.bind(J.current),reRender:J.current.reRender.bind(J.current),play:function(Ye){return J.current.play(mn({},Ye))},pause:J.current.pause.bind(J.current),setScrollLeft:function(Ye){G.current&&G.current.setState({scrollLeft:Math.max(Ye,0)})},setScrollTop:function(Ye){G.current&&G.current.setState({scrollTop:Math.max(Ye,0)})}}}),q.useEffect(function(){if(me.current){var Et=new ResizeObserver(function(){me.current&&kn(me.current.getBoundingClientRect().width)});return Et.observe(me.current),function(){Et&&Et.disconnect()}}},[]),_t.createElement("div",{ref:se,style:i,className:"".concat(h1," ").concat(m?h1+"-disable":"")},_t.createElement(QT,{ref:G},function(Et){var Ye=Et.scrollLeft,nt=Et.scrollTop,pt=Et.onScroll;return _t.createElement(_t.Fragment,null,_t.createElement(eP,mn(mn({},t),{},{timelineWidth:St,disableDrag:m||rt,setCursor:Jt,cursorTime:Ze,editorData:xe,scaleCount:qe,setScaleCount:At,onScroll:pt,scrollLeft:Ye})),_t.createElement(ZL,mn(mn({},t),{},{timelineWidth:St,ref:function(Ct){return me.current=Ct==null?void 0:Ct.domRef.current},disableDrag:m||rt,editorData:xe,cursorTime:Ze,scaleCount:qe,setScaleCount:At,scrollTop:nt,scrollLeft:Ye,setEditorData:Ke,deltaScrollLeft:f&&xn,onScroll:function(Ct){pt(Ct),Z&&Z(Ct)}})),!d&&_t.createElement(FL,mn(mn({},t),{},{timelineWidth:St,disableDrag:rt,scrollLeft:Ye,scaleCount:qe,setScaleCount:At,setCursor:Jt,cursorTime:Ze,editorData:xe,areaRef:me,scrollSync:G,deltaScrollLeft:f&&xn})))}))});const nP=({cues:n,selectedCueIndex:e,videoLength:t,currentTime:i,isPlaying:r,onCueClick:o,onCueMove:a,onSetCurrentTime:f,className:d=""})=>{var me;const[m,y]=q.useState(5),[x,T]=q.useState(50),[R,O]=q.useState([]),k=q.useRef(null),N=50,H=400,V={caption:{id:"caption"},video:{id:"video"}},Z=()=>{x>=H||(m>2?y(m/2):T(x*2))},J=()=>{k.current&&t*(x/Math.floor(m))<k.current.target.clientWidth||(x>N?T(x/2):y(m*2))},se=(G,ue,ge,xe,Pe,Xe=1/0)=>{const ke=G.target.clientWidth,lt=Xe*(Pe/Math.floor(xe))-ke+50,Oe=Math.min(ue*(Pe/Math.floor(xe))-ke*ge,lt);G.setScrollLeft(Oe)};return q.useEffect(()=>{if(k.current)return k.current.listener.on("setTimeByTick",({time:G})=>{k.current&&(k.current.setTime(G),se(k.current,G,.8,m,x,t))}),se(k.current,k.current.getTime(),.8,m,x),()=>{k.current&&k.current.listener.offAll()}},[m,x]),q.useEffect(()=>{!k.current||k.current.isPlaying||k.current.setTime(i)},[k.current,i]),q.useEffect(()=>{if(!k.current||!k.current.isPlaying)return;const G=setInterval(()=>{var ue;(ue=k.current)==null||ue.setTime(i)},1e3);return()=>{G&&clearInterval(G)}},[k.current,(me=k.current)==null?void 0:me.isPlaying]),q.useEffect(()=>{k.current&&(r&&!k.current.isPlaying?k.current.play({autoEnd:!0}):!r&&k.current.isPlaying&&k.current.pause())},[r,k.current]),q.useEffect(()=>{O(()=>[{id:"cues",actions:n.map((G,ue)=>({id:G.id,start:G.startTime,end:G.endTime,effectId:"caption",selected:e===ue}))},{id:"video",actions:[{id:"video",start:0,end:t,effectId:"video",movable:!1,flexible:!1}],rowHeight:80}])},[n,e,m,x]),B.jsxs("div",{className:`timeline ${d}`,children:[B.jsx(gA,{onZoomIn:Z,onZoomOut:J,isPlaying:r}),B.jsx(tP,{ref:k,editorData:R,effects:V,rowHeight:50,autoScroll:!0,dragLine:!0,scale:Math.floor(m),scaleWidth:x,getActionRender:G=>G.effectId==="caption"?B.jsx(mA,{action:G}):B.jsx(vA,{action:G}),onClickTimeArea:f,onCursorDrag:f,onActionMoving:a,onActionResizing:a,onClickAction:o,onChange:O,style:{width:"unset",height:"100%"}})]})},iP=({onFileChanged:n,videoFile:e,className:t=""})=>{const i=async()=>{try{const o=await z1([{description:"Video Files",accept:{"video/*":[".mp4",".mov",".webm",".ogg"]}}],"videos");n(o)}catch(o){if(o instanceof DOMException)switch(o.name){case"AbortError":return;default:console.error(o);return}else console.error(o)}},r=()=>{n(null)};return B.jsxs("div",{className:`video-picker ${t}`,children:[B.jsx(ki,{name:"videoFile",className:"video-picker__icon"}),B.jsx("p",{children:"Select a video to start creating your captions"}),e?B.jsxs("div",{className:"video-picker__preview",children:[B.jsx("video",{className:"video-picker__preview-video",src:e}),B.jsx("button",{className:"video-picker__delete-button button button--icon button--negative",onClick:r,children:B.jsx(ki,{name:"cross"})})]}):B.jsx("button",{className:"video-picker__button button",onClick:i,children:"Choose Video…"})]})};function at(n,e,t){return(e=sP(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rP(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function sP(n){var e=rP(n,"string");return typeof e=="symbol"?e:String(e)}function oP(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ex(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function lP(n,e,t){return e&&ex(n.prototype,e),t&&ex(n,t),n}function aP(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function nx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tx(Object(t),!0).forEach(function(i){aP(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var ix={addCSS:!0,thumbWidth:15,watch:!0};function uP(n,e){return(function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(n,e)}function cP(n,e){if(n&&e){var t=new Event(e,{bubbles:!0});n.dispatchEvent(t)}}var Jm=function(n){return n!=null?n.constructor:null},mS=function(n,e){return!!(n&&e&&n instanceof e)},hE=function(n){return n==null},pE=function(n){return Jm(n)===Object},fP=function(n){return Jm(n)===Number&&!Number.isNaN(n)},mE=function(n){return Jm(n)===String},dP=function(n){return Jm(n)===Boolean},hP=function(n){return Jm(n)===Function},gE=function(n){return Array.isArray(n)},vE=function(n){return mS(n,NodeList)},pP=function(n){return mS(n,Element)},mP=function(n){return mS(n,Event)},gP=function(n){return hE(n)||(mE(n)||gE(n)||vE(n))&&!n.length||pE(n)&&!Object.keys(n).length},jr={nullOrUndefined:hE,object:pE,number:fP,string:mE,boolean:dP,function:hP,array:gE,nodeList:vE,element:pP,event:mP,empty:gP};function vP(n){var e="".concat(n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function yP(n,e){if(1>e){var t=vP(e);return parseFloat(n.toFixed(t))}return Math.round(n/e)*e}var bP=function(){function n(e,t){oP(this,n),jr.element(e)?this.element=e:jr.string(e)&&(this.element=document.querySelector(e)),jr.element(this.element)&&jr.empty(this.element.rangeTouch)&&(this.config=nx({},ix,{},t),this.init())}return lP(n,[{key:"init",value:function(){n.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){n.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,i=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(r){t.element[i](r,function(o){return t.set(o)},!1)})}},{key:"get",value:function(e){if(!n.enabled||!jr.event(e))return null;var t,i=e.target,r=e.changedTouches[0],o=parseFloat(i.getAttribute("min"))||0,a=parseFloat(i.getAttribute("max"))||100,f=parseFloat(i.getAttribute("step"))||1,d=i.getBoundingClientRect(),m=100/d.width*(this.config.thumbWidth/2)/100;return 0>(t=100/d.width*(r.clientX-d.left))?t=0:100<t&&(t=100),50>t?t-=(100-2*t)*m:50<t&&(t+=2*(t-50)*m),o+yP(t/100*(a-o),f)}},{key:"set",value:function(e){n.enabled&&jr.event(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),cP(e.target,e.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=null;if(jr.empty(e)||jr.string(e)?i=Array.from(document.querySelectorAll(jr.string(e)?e:'input[type="range"]')):jr.element(e)?i=[e]:jr.nodeList(e)?i=Array.from(e):jr.array(e)&&(i=e.filter(jr.element)),jr.empty(i))return null;var r=nx({},ix,{},t);if(jr.string(e)&&r.watch){var o=new MutationObserver(function(a){Array.from(a).forEach(function(f){Array.from(f.addedNodes).forEach(function(d){jr.element(d)&&uP(d,e)&&new n(d,r)})})});o.observe(document.body,{childList:!0,subtree:!0})}return i.map(function(a){return new n(a,t)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),n}();const eg=n=>n!=null?n.constructor:null,vu=(n,e)=>!!(n&&e&&n instanceof e),gS=n=>n==null,yE=n=>eg(n)===Object,SP=n=>eg(n)===Number&&!Number.isNaN(n),Vy=n=>eg(n)===String,wP=n=>eg(n)===Boolean,bE=n=>typeof n=="function",SE=n=>Array.isArray(n),_P=n=>vu(n,WeakMap),wE=n=>vu(n,NodeList),xP=n=>eg(n)===Text,CP=n=>vu(n,Event),TP=n=>vu(n,KeyboardEvent),EP=n=>vu(n,window.TextTrackCue)||vu(n,window.VTTCue),RP=n=>vu(n,TextTrack)||!gS(n)&&Vy(n.kind),MP=n=>vu(n,Promise)&&bE(n.then),OP=n=>n!==null&&typeof n=="object"&&n.nodeType===1&&typeof n.style=="object"&&typeof n.ownerDocument=="object",_E=n=>gS(n)||(Vy(n)||SE(n)||wE(n))&&!n.length||yE(n)&&!Object.keys(n).length,AP=n=>{if(vu(n,window.URL))return!0;if(!Vy(n))return!1;let e=n;n.startsWith("http://")&&n.startsWith("https://")||(e=`http://${n}`);try{return!_E(new URL(e).hostname)}catch{return!1}};var Q={nullOrUndefined:gS,object:yE,number:SP,string:Vy,boolean:wP,function:bE,array:SE,weakMap:_P,nodeList:wE,element:OP,textNode:xP,event:CP,keyboardEvent:TP,cue:EP,track:RP,promise:MP,url:AP,empty:_E};const y1=(()=>{const n=document.createElement("span"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},t=Object.keys(e).find(i=>n.style[i]!==void 0);return!!Q.string(t)&&e[t]})();function xE(n,e){setTimeout(()=>{try{n.hidden=!0,n.offsetHeight,n.hidden=!1}catch{}},e)}const kP=!!window.document.documentMode,DP=/Edge/g.test(navigator.userAgent),zP="WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),NP=/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,LP=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,PP=/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1;var ar={isIE:kP,isEdge:DP,isWebKit:zP,isIPhone:NP,isIPadOS:LP,isIos:PP};function IP(n){return JSON.parse(JSON.stringify(n))}function CE(n,e){return e.split(".").reduce((t,i)=>t&&t[i],n)}function Oi(n={},...e){if(!e.length)return n;const t=e.shift();return Q.object(t)?(Object.keys(t).forEach(i=>{Q.object(t[i])?(Object.keys(n).includes(i)||Object.assign(n,{[i]:{}}),Oi(n[i],t[i])):Object.assign(n,{[i]:t[i]})}),Oi(n,...e)):n}function TE(n,e){const t=n.length?n:[n];Array.from(t).reverse().forEach((i,r)=>{const o=r>0?e.cloneNode(!0):e,a=i.parentNode,f=i.nextSibling;o.appendChild(i),f?a.insertBefore(o,f):a.appendChild(o)})}function b1(n,e){Q.element(n)&&!Q.empty(e)&&Object.entries(e).filter(([,t])=>!Q.nullOrUndefined(t)).forEach(([t,i])=>n.setAttribute(t,i))}function Lt(n,e,t){const i=document.createElement(n);return Q.object(e)&&b1(i,e),Q.string(t)&&(i.innerText=t),i}function jP(n,e){Q.element(n)&&Q.element(e)&&e.parentNode.insertBefore(n,e.nextSibling)}function rx(n,e,t,i){Q.element(e)&&e.appendChild(Lt(n,t,i))}function du(n){Q.nodeList(n)||Q.array(n)?Array.from(n).forEach(du):Q.element(n)&&Q.element(n.parentNode)&&n.parentNode.removeChild(n)}function qv(n){if(!Q.element(n))return;let{length:e}=n.childNodes;for(;e>0;)n.removeChild(n.lastChild),e-=1}function wy(n,e){return Q.element(e)&&Q.element(e.parentNode)&&Q.element(n)?(e.parentNode.replaceChild(n,e),n):null}function xa(n,e){if(!Q.string(n)||Q.empty(n))return{};const t={},i=Oi({},e);return n.split(",").forEach(r=>{const o=r.trim(),a=o.replace(".",""),f=o.replace(/[[\]]/g,"").split("="),[d]=f,m=f.length>1?f[1].replace(/["']/g,""):"";switch(o.charAt(0)){case".":Q.string(i.class)?t.class=`${i.class} ${a}`:t.class=a;break;case"#":t.id=o.replace("#","");break;case"[":t[d]=m}}),Oi(i,t)}function Df(n,e){if(!Q.element(n))return;let t=e;Q.boolean(t)||(t=!n.hidden),n.hidden=t}function Ln(n,e,t){if(Q.nodeList(n))return Array.from(n).map(i=>Ln(i,e,t));if(Q.element(n)){let i="toggle";return t!==void 0&&(i=t?"add":"remove"),n.classList[i](e),n.classList.contains(e)}return!1}function _y(n,e){return Q.element(n)&&n.classList.contains(e)}function $f(n,e){const{prototype:t}=Element;return(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(n,e)}function BP(n,e){const{prototype:t}=Element;return(t.closest||function(){let i=this;do{if($f.matches(i,e))return i;i=i.parentElement||i.parentNode}while(i!==null&&i.nodeType===1);return null}).call(n,e)}function Um(n){return this.elements.container.querySelectorAll(n)}function Qi(n){return this.elements.container.querySelector(n)}function Ob(n=null,e=!1){Q.element(n)&&n.focus({preventScroll:!0,focusVisible:e})}const sx={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},Ai={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(n,e){const t=Ai[n]||e!=="html5";return{api:t,ui:t&&Ai.rangeInput}},pip:!(ar.isIPhone||!Q.function(Lt("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||Lt("video").disablePictureInPicture)),airplay:Q.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(n){if(Q.empty(n))return!1;const[e]=n.split("/");let t=n;if(!this.isHTML5||e!==this.type)return!1;Object.keys(sx).includes(t)&&(t+=`; codecs="${sx[n]}"`);try{return!!(t&&this.media.canPlayType(t).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const n=document.createElement("input");return n.type="range",n.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:y1!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},HP=(()=>{let n=!1;try{const e=Object.defineProperty({},"passive",{get:()=>(n=!0,null)});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return n})();function Gm(n,e,t,i=!1,r=!0,o=!1){if(!n||!("addEventListener"in n)||Q.empty(e)||!Q.function(t))return;const a=e.split(" ");let f=o;HP&&(f={passive:r,capture:o}),a.forEach(d=>{this&&this.eventListeners&&i&&this.eventListeners.push({element:n,type:d,callback:t,options:f}),n[i?"addEventListener":"removeEventListener"](d,t,f)})}function _n(n,e="",t,i=!0,r=!1){Gm.call(this,n,e,t,!0,i,r)}function qy(n,e="",t,i=!0,r=!1){Gm.call(this,n,e,t,!1,i,r)}function vS(n,e="",t,i=!0,r=!1){const o=(...a)=>{qy(n,e,o,i,r),t.apply(this,a)};Gm.call(this,n,e,o,!0,i,r)}function Ft(n,e="",t=!1,i={}){if(!Q.element(n)||Q.empty(e))return;const r=new CustomEvent(e,{bubbles:t,detail:{...i,plyr:this}});n.dispatchEvent(r)}function $P(){this&&this.eventListeners&&(this.eventListeners.forEach(n=>{const{element:e,type:t,callback:i,options:r}=n;e.removeEventListener(t,i,r)}),this.eventListeners=[])}function FP(){return new Promise(n=>this.ready?setTimeout(n,0):_n.call(this,this.elements.container,"ready",n)).then(()=>{})}function Ca(n){Q.promise(n)&&n.then(null,()=>{})}function S1(n){return Q.array(n)?n.filter((e,t)=>n.indexOf(e)===t):n}function EE(n,e){return Q.array(n)&&n.length?n.reduce((t,i)=>Math.abs(i-e)<Math.abs(t-e)?i:t):null}function RE(n){return!(!window||!window.CSS)&&window.CSS.supports(n)}const ox=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((n,[e,t])=>({...n,[e/t]:[e,t]}),{});function ME(n){return Q.array(n)||Q.string(n)&&n.includes(":")?(Q.array(n)?n:n.split(":")).map(Number).every(Q.number):!1}function xy(n){if(!Q.array(n)||!n.every(Q.number))return null;const[e,t]=n,i=(o,a)=>a===0?o:i(a,o%a),r=i(e,t);return[e/r,t/r]}function yS(n){const e=i=>ME(i)?i.split(":").map(Number):null;let t=e(n);if(t===null&&(t=e(this.config.ratio)),t===null&&!Q.empty(this.embed)&&Q.array(this.embed.ratio)&&({ratio:t}=this.embed),t===null&&this.isHTML5){const{videoWidth:i,videoHeight:r}=this.media;t=[i,r]}return xy(t)}function Rh(n){if(!this.isVideo)return{};const{wrapper:e}=this.elements,t=yS.call(this,n);if(!Q.array(t))return{};const[i,r]=xy(t),o=100/i*r;if(RE(`aspect-ratio: ${i}/${r}`)?e.style.aspectRatio=`${i}/${r}`:e.style.paddingBottom=`${o}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const a=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),f=(a-o)/(a/50);this.fullscreen.active?e.style.paddingBottom=null:this.media.style.transform=`translateY(-${f}%)`}else this.isHTML5&&e.classList.add(this.config.classNames.videoFixedRatio);return{padding:o,ratio:t}}function OE(n,e,t=.05){const i=n/e,r=EE(Object.keys(ox),i);return Math.abs(r-i)<=t?ox[r]:[n,e]}function UP(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const xc={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(n=>{const e=n.getAttribute("type");return!!Q.empty(e)||Ai.mime.call(this,e)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:xc.getSources.call(this).map(n=>Number(n.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const n=this;n.options.speed=n.config.speed.options,Q.empty(this.config.ratio)||Rh.call(n),Object.defineProperty(n.media,"quality",{get(){const e=xc.getSources.call(n).find(t=>t.getAttribute("src")===n.source);return e&&Number(e.getAttribute("size"))},set(e){if(n.quality!==e){if(n.config.quality.forced&&Q.function(n.config.quality.onChange))n.config.quality.onChange(e);else{const t=xc.getSources.call(n).find(d=>Number(d.getAttribute("size"))===e);if(!t)return;const{currentTime:i,paused:r,preload:o,readyState:a,playbackRate:f}=n.media;n.media.src=t.getAttribute("src"),(o!=="none"||a)&&(n.once("loadedmetadata",()=>{n.speed=f,n.currentTime=i,r||Ca(n.play())}),n.media.load())}Ft.call(n,n.media,"qualitychange",!1,{quality:e})}}})},cancelRequests(){this.isHTML5&&(du(xc.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function GP(n){return`${n}-${Math.floor(1e4*Math.random())}`}function w1(n,...e){return Q.empty(n)?n:n.toString().replace(/{(\d+)}/g,(t,i)=>e[i].toString())}function WP(n,e){return n===0||e===0||Number.isNaN(n)||Number.isNaN(e)?0:(n/e*100).toFixed(2)}const km=(n="",e="",t="")=>n.replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),t.toString()),AE=(n="")=>n.toString().replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase());function VP(n=""){let e=n.toString();return e=km(e,"-"," "),e=km(e,"_"," "),e=AE(e),km(e," ","")}function qP(n=""){let e=n.toString();return e=VP(e),e.charAt(0).toLowerCase()+e.slice(1)}function YP(n){const e=document.createDocumentFragment(),t=document.createElement("div");return e.appendChild(t),t.innerHTML=n,e.firstChild.innerText}function XP(n){const e=document.createElement("div");return e.appendChild(n),e.innerHTML}const lx={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},or={get(n="",e={}){if(Q.empty(n)||Q.empty(e))return"";let t=CE(e.i18n,n);if(Q.empty(t))return Object.keys(lx).includes(n)?lx[n]:"";const i={"{seektime}":e.seekTime,"{title}":e.title};return Object.entries(i).forEach(([r,o])=>{t=km(t,r,o)}),t}};class Wm{constructor(e){at(this,"get",t=>{if(!Wm.supported||!this.enabled)return null;const i=window.localStorage.getItem(this.key);if(Q.empty(i))return null;const r=JSON.parse(i);return Q.string(t)&&t.length?r[t]:r}),at(this,"set",t=>{if(!Wm.supported||!this.enabled||!Q.object(t))return;let i=this.get();Q.empty(i)&&(i={}),Oi(i,t);try{window.localStorage.setItem(this.key,JSON.stringify(i))}catch{}}),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}}function tg(n,e="text"){return new Promise((t,i)=>{try{const r=new XMLHttpRequest;if(!("withCredentials"in r))return;r.addEventListener("load",()=>{if(e==="text")try{t(JSON.parse(r.responseText))}catch{t(r.responseText)}else t(r.response)}),r.addEventListener("error",()=>{throw new Error(r.status)}),r.open("GET",n,!0),r.responseType=e,r.send()}catch(r){i(r)}})}function kE(n,e){if(!Q.string(n))return;const t="cache",i=Q.string(e);let r=!1;const o=()=>document.getElementById(e)!==null,a=(f,d)=>{f.innerHTML=d,i&&o()||document.body.insertAdjacentElement("afterbegin",f)};if(!i||!o()){const f=Wm.supported,d=document.createElement("div");if(d.setAttribute("hidden",""),i&&d.setAttribute("id",e),f){const m=window.localStorage.getItem(`${t}-${e}`);if(r=m!==null,r){const y=JSON.parse(m);a(d,y.content)}}tg(n).then(m=>{if(!Q.empty(m)){if(f)try{window.localStorage.setItem(`${t}-${e}`,JSON.stringify({content:m}))}catch{}a(d,m)}}).catch(()=>{})}}const DE=n=>Math.trunc(n/60/60%60,10),KP=n=>Math.trunc(n/60%60,10),ZP=n=>Math.trunc(n%60,10);function Yy(n=0,e=!1,t=!1){if(!Q.number(n))return Yy(void 0,e,t);const i=f=>`0${f}`.slice(-2);let r=DE(n);const o=KP(n),a=ZP(n);return r=e||r>0?`${r}:`:"",`${t&&n>0?"-":""}${r}${i(o)}:${i(a)}`}const it={getIconUrl(){const n=new URL(this.config.iconUrl,window.location),e=window.location.host?window.location.host:window.top.location.host,t=n.host!==e||ar.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:t}},findElements(){try{return this.elements.controls=Qi.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:Um.call(this,this.config.selectors.buttons.play),pause:Qi.call(this,this.config.selectors.buttons.pause),restart:Qi.call(this,this.config.selectors.buttons.restart),rewind:Qi.call(this,this.config.selectors.buttons.rewind),fastForward:Qi.call(this,this.config.selectors.buttons.fastForward),mute:Qi.call(this,this.config.selectors.buttons.mute),pip:Qi.call(this,this.config.selectors.buttons.pip),airplay:Qi.call(this,this.config.selectors.buttons.airplay),settings:Qi.call(this,this.config.selectors.buttons.settings),captions:Qi.call(this,this.config.selectors.buttons.captions),fullscreen:Qi.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=Qi.call(this,this.config.selectors.progress),this.elements.inputs={seek:Qi.call(this,this.config.selectors.inputs.seek),volume:Qi.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:Qi.call(this,this.config.selectors.display.buffer),currentTime:Qi.call(this,this.config.selectors.display.currentTime),duration:Qi.call(this,this.config.selectors.display.duration)},Q.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(n){return this.debug.warn("It looks like there is a problem with your custom controls HTML",n),this.toggleNativeControls(!0),!1}},createIcon(n,e){const t="http://www.w3.org/2000/svg",i=it.getIconUrl.call(this),r=`${i.cors?"":i.url}#${this.config.iconPrefix}`,o=document.createElementNS(t,"svg");b1(o,Oi(e,{"aria-hidden":"true",focusable:"false"}));const a=document.createElementNS(t,"use"),f=`${r}-${n}`;return"href"in a&&a.setAttributeNS("http://www.w3.org/1999/xlink","href",f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f),o.appendChild(a),o},createLabel(n,e={}){const t=or.get(n,this.config);return Lt("span",{...e,class:[e.class,this.config.classNames.hidden].filter(Boolean).join(" ")},t)},createBadge(n){if(Q.empty(n))return null;const e=Lt("span",{class:this.config.classNames.menu.value});return e.appendChild(Lt("span",{class:this.config.classNames.menu.badge},n)),e},createButton(n,e){const t=Oi({},e);let i=qP(n);const r={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(a=>{Object.keys(t).includes(a)&&(r[a]=t[a],delete t[a])}),r.element!=="button"||Object.keys(t).includes("type")||(t.type="button"),Object.keys(t).includes("class")?t.class.split(" ").some(a=>a===this.config.classNames.control)||Oi(t,{class:`${t.class} ${this.config.classNames.control}`}):t.class=this.config.classNames.control,n){case"play":r.toggle=!0,r.label="play",r.labelPressed="pause",r.icon="play",r.iconPressed="pause";break;case"mute":r.toggle=!0,r.label="mute",r.labelPressed="unmute",r.icon="volume",r.iconPressed="muted";break;case"captions":r.toggle=!0,r.label="enableCaptions",r.labelPressed="disableCaptions",r.icon="captions-off",r.iconPressed="captions-on";break;case"fullscreen":r.toggle=!0,r.label="enterFullscreen",r.labelPressed="exitFullscreen",r.icon="enter-fullscreen",r.iconPressed="exit-fullscreen";break;case"play-large":t.class+=` ${this.config.classNames.control}--overlaid`,i="play",r.label="play",r.icon="play";break;default:Q.empty(r.label)&&(r.label=i),Q.empty(r.icon)&&(r.icon=n)}const o=Lt(r.element);return r.toggle?(o.appendChild(it.createIcon.call(this,r.iconPressed,{class:"icon--pressed"})),o.appendChild(it.createIcon.call(this,r.icon,{class:"icon--not-pressed"})),o.appendChild(it.createLabel.call(this,r.labelPressed,{class:"label--pressed"})),o.appendChild(it.createLabel.call(this,r.label,{class:"label--not-pressed"}))):(o.appendChild(it.createIcon.call(this,r.icon)),o.appendChild(it.createLabel.call(this,r.label))),Oi(t,xa(this.config.selectors.buttons[i],t)),b1(o,t),i==="play"?(Q.array(this.elements.buttons[i])||(this.elements.buttons[i]=[]),this.elements.buttons[i].push(o)):this.elements.buttons[i]=o,o},createRange(n,e){const t=Lt("input",Oi(xa(this.config.selectors.inputs[n]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":or.get(n,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},e));return this.elements.inputs[n]=t,it.updateRangeFill.call(this,t),bP.setup(t),t},createProgress(n,e){const t=Lt("progress",Oi(xa(this.config.selectors.display[n]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},e));if(n!=="volume"){t.appendChild(Lt("span",null,"0"));const i={played:"played",buffer:"buffered"}[n],r=i?or.get(i,this.config):"";t.innerText=`% ${r.toLowerCase()}`}return this.elements.display[n]=t,t},createTime(n,e){const t=xa(this.config.selectors.display[n],e),i=Lt("div",Oi(t,{class:`${t.class?t.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":or.get(n,this.config),role:"timer"}),"00:00");return this.elements.display[n]=i,i},bindMenuItemShortcuts(n,e){_n.call(this,n,"keydown keyup",t=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(t.key)||(t.preventDefault(),t.stopPropagation(),t.type==="keydown"))return;const i=$f(n,'[role="menuitemradio"]');if(!i&&[" ","ArrowRight"].includes(t.key))it.showMenuPanel.call(this,e,!0);else{let r;t.key!==" "&&(t.key==="ArrowDown"||i&&t.key==="ArrowRight"?(r=n.nextElementSibling,Q.element(r)||(r=n.parentNode.firstElementChild)):(r=n.previousElementSibling,Q.element(r)||(r=n.parentNode.lastElementChild)),Ob.call(this,r,!0))}},!1),_n.call(this,n,"keyup",t=>{t.key==="Return"&&it.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:n,list:e,type:t,title:i,badge:r=null,checked:o=!1}){const a=xa(this.config.selectors.inputs[t]),f=Lt("button",Oi(a,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${a.class?a.class:""}`.trim(),"aria-checked":o,value:n})),d=Lt("span");d.innerHTML=i,Q.element(r)&&d.appendChild(r),f.appendChild(d),Object.defineProperty(f,"checked",{enumerable:!0,get:()=>f.getAttribute("aria-checked")==="true",set(m){m&&Array.from(f.parentNode.children).filter(y=>$f(y,'[role="menuitemradio"]')).forEach(y=>y.setAttribute("aria-checked","false")),f.setAttribute("aria-checked",m?"true":"false")}}),this.listeners.bind(f,"click keyup",m=>{if(!Q.keyboardEvent(m)||m.key===" "){switch(m.preventDefault(),m.stopPropagation(),f.checked=!0,t){case"language":this.currentTrack=Number(n);break;case"quality":this.quality=n;break;case"speed":this.speed=parseFloat(n)}it.showMenuPanel.call(this,"home",Q.keyboardEvent(m))}},t,!1),it.bindMenuItemShortcuts.call(this,f,t),e.appendChild(f)},formatTime(n=0,e=!1){return Q.number(n)?Yy(n,DE(this.duration)>0,e):n},updateTimeDisplay(n=null,e=0,t=!1){Q.element(n)&&Q.number(e)&&(n.innerText=it.formatTime(e,t))},updateVolume(){this.supported.ui&&(Q.element(this.elements.inputs.volume)&&it.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),Q.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(n,e=0){Q.element(n)&&(n.value=e,it.updateRangeFill.call(this,n))},updateProgress(n){if(!this.supported.ui||!Q.event(n))return;let e=0;const t=(i,r)=>{const o=Q.number(r)?r:0,a=Q.element(i)?i:this.elements.display.buffer;if(Q.element(a)){a.value=o;const f=a.getElementsByTagName("span")[0];Q.element(f)&&(f.childNodes[0].nodeValue=o)}};if(n)switch(n.type){case"timeupdate":case"seeking":case"seeked":e=WP(this.currentTime,this.duration),n.type==="timeupdate"&&it.setRange.call(this,this.elements.inputs.seek,e);break;case"playing":case"progress":t(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(n){const e=Q.event(n)?n.target:n;if(Q.element(e)&&e.getAttribute("type")==="range"){if($f(e,this.config.selectors.inputs.seek)){e.setAttribute("aria-valuenow",this.currentTime);const t=it.formatTime(this.currentTime),i=it.formatTime(this.duration),r=or.get("seekLabel",this.config);e.setAttribute("aria-valuetext",r.replace("{currentTime}",t).replace("{duration}",i))}else if($f(e,this.config.selectors.inputs.volume)){const t=100*e.value;e.setAttribute("aria-valuenow",t),e.setAttribute("aria-valuetext",`${t.toFixed(1)}%`)}else e.setAttribute("aria-valuenow",e.value);(ar.isWebKit||ar.isIPadOS)&&e.style.setProperty("--value",e.value/e.max*100+"%")}},updateSeekTooltip(n){var e,t;if(!this.config.tooltips.seek||!Q.element(this.elements.inputs.seek)||!Q.element(this.elements.display.seekTooltip)||this.duration===0)return;const i=this.elements.display.seekTooltip,r=`${this.config.classNames.tooltip}--visible`,o=y=>Ln(i,r,y);if(this.touch)return void o(!1);let a=0;const f=this.elements.progress.getBoundingClientRect();if(Q.event(n))a=100/f.width*(n.pageX-f.left);else{if(!_y(i,r))return;a=parseFloat(i.style.left,10)}a<0?a=0:a>100&&(a=100);const d=this.duration/100*a;i.innerText=it.formatTime(d);const m=(e=this.config.markers)===null||e===void 0||(t=e.points)===null||t===void 0?void 0:t.find(({time:y})=>y===Math.round(d));m&&i.insertAdjacentHTML("afterbegin",`${m.label}<br>`),i.style.left=`${a}%`,Q.event(n)&&["mouseenter","mouseleave"].includes(n.type)&&o(n.type==="mouseenter")},timeUpdate(n){const e=!Q.element(this.elements.display.duration)&&this.config.invertTime;it.updateTimeDisplay.call(this,this.elements.display.currentTime,e?this.duration-this.currentTime:this.currentTime,e),n&&n.type==="timeupdate"&&this.media.seeking||it.updateProgress.call(this,n)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return Df(this.elements.display.currentTime,!0),void Df(this.elements.progress,!0);Q.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const n=Q.element(this.elements.display.duration);!n&&this.config.displayDuration&&this.paused&&it.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),n&&it.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&it.setMarkers.call(this),it.updateSeekTooltip.call(this)},toggleMenuButton(n,e){Df(this.elements.settings.buttons[n],!e)},updateSetting(n,e,t){const i=this.elements.settings.panels[n];let r=null,o=e;if(n==="captions")r=this.currentTrack;else{if(r=Q.empty(t)?this[n]:t,Q.empty(r)&&(r=this.config[n].default),!Q.empty(this.options[n])&&!this.options[n].includes(r))return void this.debug.warn(`Unsupported value of '${r}' for ${n}`);if(!this.config[n].options.includes(r))return void this.debug.warn(`Disabled value of '${r}' for ${n}`)}if(Q.element(o)||(o=i&&i.querySelector('[role="menu"]')),!Q.element(o))return;this.elements.settings.buttons[n].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=it.getLabel.call(this,n,r);const a=o&&o.querySelector(`[value="${r}"]`);Q.element(a)&&(a.checked=!0)},getLabel(n,e){switch(n){case"speed":return e===1?or.get("normal",this.config):`${e}&times;`;case"quality":if(Q.number(e)){const t=or.get(`qualityLabel.${e}`,this.config);return t.length?t:`${e}p`}return AE(e);case"captions":return Mn.getLabel.call(this);default:return null}},setQualityMenu(n){if(!Q.element(this.elements.settings.panels.quality))return;const e="quality",t=this.elements.settings.panels.quality.querySelector('[role="menu"]');Q.array(n)&&(this.options.quality=S1(n).filter(o=>this.config.quality.options.includes(o)));const i=!Q.empty(this.options.quality)&&this.options.quality.length>1;if(it.toggleMenuButton.call(this,e,i),qv(t),it.checkMenu.call(this),!i)return;const r=o=>{const a=or.get(`qualityBadge.${o}`,this.config);return a.length?it.createBadge.call(this,a):null};this.options.quality.sort((o,a)=>{const f=this.config.quality.options;return f.indexOf(o)>f.indexOf(a)?1:-1}).forEach(o=>{it.createMenuItem.call(this,{value:o,list:t,type:e,title:it.getLabel.call(this,"quality",o),badge:r(o)})}),it.updateSetting.call(this,e,t)},setCaptionsMenu(){if(!Q.element(this.elements.settings.panels.captions))return;const n="captions",e=this.elements.settings.panels.captions.querySelector('[role="menu"]'),t=Mn.getTracks.call(this),i=!!t.length;if(it.toggleMenuButton.call(this,n,i),qv(e),it.checkMenu.call(this),!i)return;const r=t.map((o,a)=>({value:a,checked:this.captions.toggled&&this.currentTrack===a,title:Mn.getLabel.call(this,o),badge:o.language&&it.createBadge.call(this,o.language.toUpperCase()),list:e,type:"language"}));r.unshift({value:-1,checked:!this.captions.toggled,title:or.get("disabled",this.config),list:e,type:"language"}),r.forEach(it.createMenuItem.bind(this)),it.updateSetting.call(this,n,e)},setSpeedMenu(){if(!Q.element(this.elements.settings.panels.speed))return;const n="speed",e=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(i=>i>=this.minimumSpeed&&i<=this.maximumSpeed);const t=!Q.empty(this.options.speed)&&this.options.speed.length>1;it.toggleMenuButton.call(this,n,t),qv(e),it.checkMenu.call(this),t&&(this.options.speed.forEach(i=>{it.createMenuItem.call(this,{value:i,list:e,type:n,title:it.getLabel.call(this,"speed",i)})}),it.updateSetting.call(this,n,e))},checkMenu(){const{buttons:n}=this.elements.settings,e=!Q.empty(n)&&Object.values(n).some(t=>!t.hidden);Df(this.elements.settings.menu,!e)},focusFirstMenuItem(n,e=!1){if(this.elements.settings.popup.hidden)return;let t=n;Q.element(t)||(t=Object.values(this.elements.settings.panels).find(r=>!r.hidden));const i=t.querySelector('[role^="menuitem"]');Ob.call(this,i,e)},toggleMenu(n){const{popup:e}=this.elements.settings,t=this.elements.buttons.settings;if(!Q.element(e)||!Q.element(t))return;const{hidden:i}=e;let r=i;if(Q.boolean(n))r=n;else if(Q.keyboardEvent(n)&&n.key==="Escape")r=!1;else if(Q.event(n)){const o=Q.function(n.composedPath)?n.composedPath()[0]:n.target,a=e.contains(o);if(a||!a&&n.target!==t&&r)return}t.setAttribute("aria-expanded",r),Df(e,!r),Ln(this.elements.container,this.config.classNames.menu.open,r),r&&Q.keyboardEvent(n)?it.focusFirstMenuItem.call(this,null,!0):r||i||Ob.call(this,t,Q.keyboardEvent(n))},getMenuSize(n){const e=n.cloneNode(!0);e.style.position="absolute",e.style.opacity=0,e.removeAttribute("hidden"),n.parentNode.appendChild(e);const t=e.scrollWidth,i=e.scrollHeight;return du(e),{width:t,height:i}},showMenuPanel(n="",e=!1){const t=this.elements.container.querySelector(`#plyr-settings-${this.id}-${n}`);if(!Q.element(t))return;const i=t.parentNode,r=Array.from(i.children).find(o=>!o.hidden);if(Ai.transitions&&!Ai.reducedMotion){i.style.width=`${r.scrollWidth}px`,i.style.height=`${r.scrollHeight}px`;const o=it.getMenuSize.call(this,t),a=f=>{f.target===i&&["width","height"].includes(f.propertyName)&&(i.style.width="",i.style.height="",qy.call(this,i,y1,a))};_n.call(this,i,y1,a),i.style.width=`${o.width}px`,i.style.height=`${o.height}px`}Df(r,!0),Df(t,!1),it.focusFirstMenuItem.call(this,t,e)},setDownloadUrl(){const n=this.elements.buttons.download;Q.element(n)&&n.setAttribute("href",this.download)},create(n){const{bindMenuItemShortcuts:e,createButton:t,createProgress:i,createRange:r,createTime:o,setQualityMenu:a,setSpeedMenu:f,showMenuPanel:d}=it;this.elements.controls=null,Q.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(t.call(this,"play-large"));const m=Lt("div",xa(this.config.selectors.controls.wrapper));this.elements.controls=m;const y={class:"plyr__controls__item"};return S1(Q.array(this.config.controls)?this.config.controls:[]).forEach(x=>{if(x==="restart"&&m.appendChild(t.call(this,"restart",y)),x==="rewind"&&m.appendChild(t.call(this,"rewind",y)),x==="play"&&m.appendChild(t.call(this,"play",y)),x==="fast-forward"&&m.appendChild(t.call(this,"fast-forward",y)),x==="progress"){const T=Lt("div",{class:`${y.class} plyr__progress__container`}),R=Lt("div",xa(this.config.selectors.progress));if(R.appendChild(r.call(this,"seek",{id:`plyr-seek-${n.id}`})),R.appendChild(i.call(this,"buffer")),this.config.tooltips.seek){const O=Lt("span",{class:this.config.classNames.tooltip},"00:00");R.appendChild(O),this.elements.display.seekTooltip=O}this.elements.progress=R,T.appendChild(this.elements.progress),m.appendChild(T)}if(x==="current-time"&&m.appendChild(o.call(this,"currentTime",y)),x==="duration"&&m.appendChild(o.call(this,"duration",y)),x==="mute"||x==="volume"){let{volume:T}=this.elements;if(Q.element(T)&&m.contains(T)||(T=Lt("div",Oi({},y,{class:`${y.class} plyr__volume`.trim()})),this.elements.volume=T,m.appendChild(T)),x==="mute"&&T.appendChild(t.call(this,"mute")),x==="volume"&&!ar.isIos&&!ar.isIPadOS){const R={max:1,step:.05,value:this.config.volume};T.appendChild(r.call(this,"volume",Oi(R,{id:`plyr-volume-${n.id}`})))}}if(x==="captions"&&m.appendChild(t.call(this,"captions",y)),x==="settings"&&!Q.empty(this.config.settings)){const T=Lt("div",Oi({},y,{class:`${y.class} plyr__menu`.trim(),hidden:""}));T.appendChild(t.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${n.id}`,"aria-expanded":!1}));const R=Lt("div",{class:"plyr__menu__container",id:`plyr-settings-${n.id}`,hidden:""}),O=Lt("div"),k=Lt("div",{id:`plyr-settings-${n.id}-home`}),N=Lt("div",{role:"menu"});k.appendChild(N),O.appendChild(k),this.elements.settings.panels.home=k,this.config.settings.forEach(H=>{const V=Lt("button",Oi(xa(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));e.call(this,V,H),_n.call(this,V,"click",()=>{d.call(this,H,!1)});const Z=Lt("span",null,or.get(H,this.config)),J=Lt("span",{class:this.config.classNames.menu.value});J.innerHTML=n[H],Z.appendChild(J),V.appendChild(Z),N.appendChild(V);const se=Lt("div",{id:`plyr-settings-${n.id}-${H}`,hidden:""}),me=Lt("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});me.appendChild(Lt("span",{"aria-hidden":!0},or.get(H,this.config))),me.appendChild(Lt("span",{class:this.config.classNames.hidden},or.get("menuBack",this.config))),_n.call(this,se,"keydown",G=>{G.key==="ArrowLeft"&&(G.preventDefault(),G.stopPropagation(),d.call(this,"home",!0))},!1),_n.call(this,me,"click",()=>{d.call(this,"home",!1)}),se.appendChild(me),se.appendChild(Lt("div",{role:"menu"})),O.appendChild(se),this.elements.settings.buttons[H]=V,this.elements.settings.panels[H]=se}),R.appendChild(O),T.appendChild(R),m.appendChild(T),this.elements.settings.popup=R,this.elements.settings.menu=T}if(x==="pip"&&Ai.pip&&m.appendChild(t.call(this,"pip",y)),x==="airplay"&&Ai.airplay&&m.appendChild(t.call(this,"airplay",y)),x==="download"){const T=Oi({},y,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(T.download="");const{download:R}=this.config.urls;!Q.url(R)&&this.isEmbed&&Oi(T,{icon:`logo-${this.provider}`,label:this.provider}),m.appendChild(t.call(this,"download",T))}x==="fullscreen"&&m.appendChild(t.call(this,"fullscreen",y))}),this.isHTML5&&a.call(this,xc.getQualityOptions.call(this)),f.call(this),m},inject(){if(this.config.loadSprite){const r=it.getIconUrl.call(this);r.cors&&kE(r.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let n=null;this.elements.controls=null;const e={id:this.id,seektime:this.config.seekTime,title:this.config.title};let t=!0;Q.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,e)),this.config.controls||(this.config.controls=[]),Q.element(this.config.controls)||Q.string(this.config.controls)?n=this.config.controls:(n=it.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Mn.getLabel.call(this)}),t=!1);let i;if(t&&Q.string(this.config.controls)&&(n=(r=>{let o=r;return Object.entries(e).forEach(([a,f])=>{o=km(o,`{${a}}`,f)}),o})(n)),Q.string(this.config.selectors.controls.container)&&(i=document.querySelector(this.config.selectors.controls.container)),Q.element(i)||(i=this.elements.container),i[Q.element(n)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",n),Q.element(this.elements.controls)||it.findElements.call(this),!Q.empty(this.elements.buttons)){const r=o=>{const a=this.config.classNames.controlPressed;o.setAttribute("aria-pressed","false"),Object.defineProperty(o,"pressed",{configurable:!0,enumerable:!0,get:()=>_y(o,a),set(f=!1){Ln(o,a,f),o.setAttribute("aria-pressed",f?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(o=>{Q.array(o)||Q.nodeList(o)?Array.from(o).filter(Boolean).forEach(r):r(o)})}if(ar.isEdge&&xE(i),this.config.tooltips.controls){const{classNames:r,selectors:o}=this.config,a=`${o.controls.wrapper} ${o.labels} .${r.hidden}`,f=Um.call(this,a);Array.from(f).forEach(d=>{Ln(d,this.config.classNames.hidden,!1),Ln(d,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var n,e;if(!this.duration||this.elements.markers)return;const t=(n=this.config.markers)===null||n===void 0||(e=n.points)===null||e===void 0?void 0:e.filter(({time:d})=>d>0&&d<this.duration);if(t==null||!t.length)return;const i=document.createDocumentFragment(),r=document.createDocumentFragment();let o=null;const a=`${this.config.classNames.tooltip}--visible`,f=d=>Ln(o,a,d);t.forEach(d=>{const m=Lt("span",{class:this.config.classNames.marker},""),y=d.time/this.duration*100+"%";o&&(m.addEventListener("mouseenter",()=>{d.label||(o.style.left=y,o.innerHTML=d.label,f(!0))}),m.addEventListener("mouseleave",()=>{f(!1)})),m.addEventListener("click",()=>{this.currentTime=d.time}),m.style.left=y,r.appendChild(m)}),i.appendChild(r),this.config.tooltips.seek||(o=Lt("span",{class:this.config.classNames.tooltip},""),i.appendChild(o)),this.elements.markers={points:r,tip:o},this.elements.progress.appendChild(i)}};function zE(n,e=!0){let t=n;if(e){const i=document.createElement("a");i.href=t,t=i.href}try{return new URL(t)}catch{return null}}function NE(n){const e=new URLSearchParams;return Q.object(n)&&Object.entries(n).forEach(([t,i])=>{e.set(t,i)}),e}const Mn={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!Ai.textTracks)return void(Q.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&it.setCaptionsMenu.call(this));if(Q.element(this.elements.captions)||(this.elements.captions=Lt("div",xa(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),jP(this.elements.captions,this.elements.wrapper)),ar.isIE&&window.URL){const i=this.media.querySelectorAll("track");Array.from(i).forEach(r=>{const o=r.getAttribute("src"),a=zE(o);a!==null&&a.hostname!==window.location.href.hostname&&["http:","https:"].includes(a.protocol)&&tg(o,"blob").then(f=>{r.setAttribute("src",window.URL.createObjectURL(f))}).catch(()=>{du(r)})})}const n=S1((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(i=>i.split("-")[0]));let e=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();e==="auto"&&([e]=n);let t=this.storage.get("captions");if(Q.boolean(t)||({active:t}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:t,language:e,languages:n}),this.isHTML5){const i=this.config.captions.update?"addtrack removetrack":"removetrack";_n.call(this,this.media.textTracks,i,Mn.update.bind(this))}setTimeout(Mn.update.bind(this),0)},update(){const n=Mn.getTracks.call(this,!0),{active:e,language:t,meta:i,currentTrackNode:r}=this.captions,o=!!n.find(a=>a.language===t);this.isHTML5&&this.isVideo&&n.filter(a=>!i.get(a)).forEach(a=>{this.debug.log("Track added",a),i.set(a,{default:a.mode==="showing"}),a.mode==="showing"&&(a.mode="hidden"),_n.call(this,a,"cuechange",()=>Mn.updateCues.call(this))}),(o&&this.language!==t||!n.includes(r))&&(Mn.setLanguage.call(this,t),Mn.toggle.call(this,e&&o)),this.elements&&Ln(this.elements.container,this.config.classNames.captions.enabled,!Q.empty(n)),Q.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&it.setCaptionsMenu.call(this)},toggle(n,e=!0){if(!this.supported.ui)return;const{toggled:t}=this.captions,i=this.config.classNames.captions.active,r=Q.nullOrUndefined(n)?!t:n;if(r!==t){if(e||(this.captions.active=r,this.storage.set({captions:r})),!this.language&&r&&!e){const o=Mn.getTracks.call(this),a=Mn.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=a.language,void Mn.set.call(this,o.indexOf(a))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=r),Ln(this.elements.container,i,r),this.captions.toggled=r,it.updateSetting.call(this,"captions"),Ft.call(this,this.media,r?"captionsenabled":"captionsdisabled")}setTimeout(()=>{r&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(n,e=!0){const t=Mn.getTracks.call(this);if(n!==-1)if(Q.number(n))if(n in t){if(this.captions.currentTrack!==n){this.captions.currentTrack=n;const i=t[n],{language:r}=i||{};this.captions.currentTrackNode=i,it.updateSetting.call(this,"captions"),e||(this.captions.language=r,this.storage.set({language:r})),this.isVimeo&&this.embed.enableTextTrack(r),Ft.call(this,this.media,"languagechange")}Mn.toggle.call(this,!0,e),this.isHTML5&&this.isVideo&&Mn.updateCues.call(this)}else this.debug.warn("Track not found",n);else this.debug.warn("Invalid caption argument",n);else Mn.toggle.call(this,!1,e)},setLanguage(n,e=!0){if(!Q.string(n))return void this.debug.warn("Invalid language argument",n);const t=n.toLowerCase();this.captions.language=t;const i=Mn.getTracks.call(this),r=Mn.findTrack.call(this,[t]);Mn.set.call(this,i.indexOf(r),e)},getTracks(n=!1){return Array.from((this.media||{}).textTracks||[]).filter(e=>!this.isHTML5||n||this.captions.meta.has(e)).filter(e=>["captions","subtitles"].includes(e.kind))},findTrack(n,e=!1){const t=Mn.getTracks.call(this),i=a=>Number((this.captions.meta.get(a)||{}).default),r=Array.from(t).sort((a,f)=>i(f)-i(a));let o;return n.every(a=>(o=r.find(f=>f.language===a),!o)),o||(e?r[0]:void 0)},getCurrentTrack(){return Mn.getTracks.call(this)[this.currentTrack]},getLabel(n){let e=n;return!Q.track(e)&&Ai.textTracks&&this.captions.toggled&&(e=Mn.getCurrentTrack.call(this)),Q.track(e)?Q.empty(e.label)?Q.empty(e.language)?or.get("enabled",this.config):n.language.toUpperCase():e.label:or.get("disabled",this.config)},updateCues(n){if(!this.supported.ui)return;if(!Q.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!Q.nullOrUndefined(n)&&!Array.isArray(n))return void this.debug.warn("updateCues: Invalid input",n);let e=n;if(!e){const i=Mn.getCurrentTrack.call(this);e=Array.from((i||{}).activeCues||[]).map(r=>r.getCueAsHTML()).map(XP)}const t=e.map(i=>i.trim()).join(`
`);if(t!==this.elements.captions.innerHTML){qv(this.elements.captions);const i=Lt("span",xa(this.config.selectors.caption));i.innerHTML=t,this.elements.captions.appendChild(i),Ft.call(this,this.media,"cuechange")}}},LE={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},Ab={active:"picture-in-picture",inactive:"inline"},yc={html5:"html5",youtube:"youtube",vimeo:"vimeo"},kb={audio:"audio",video:"video"};function QP(n){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(n)?yc.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(n)?yc.vimeo:null}const Db=()=>{};class JP{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):Db}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):Db}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):Db}}class Pl{constructor(e){at(this,"onChange",()=>{if(!this.supported)return;const t=this.player.elements.buttons.fullscreen;Q.element(t)&&(t.pressed=this.active);const i=this.target===this.player.media?this.target:this.player.elements.container;Ft.call(this.player,i,this.active?"enterfullscreen":"exitfullscreen",!0)}),at(this,"toggleFallback",(t=!1)=>{if(t?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=t?"hidden":"",Ln(this.target,this.player.config.classNames.fullscreen.fallback,t),ar.isIos){let i=document.head.querySelector('meta[name="viewport"]');const r="viewport-fit=cover";i||(i=document.createElement("meta"),i.setAttribute("name","viewport"));const o=Q.string(i.content)&&i.content.includes(r);t?(this.cleanupViewport=!o,o||(i.content+=`,${r}`)):this.cleanupViewport&&(i.content=i.content.split(",").filter(a=>a.trim()!==r).join(","))}this.onChange()}),at(this,"trapFocus",t=>{if(ar.isIos||ar.isIPadOS||!this.active||t.key!=="Tab")return;const i=document.activeElement,r=Um.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[o]=r,a=r[r.length-1];i!==a||t.shiftKey?i===o&&t.shiftKey&&(a.focus(),t.preventDefault()):(o.focus(),t.preventDefault())}),at(this,"update",()=>{if(this.supported){let t;t=this.forceFallback?"Fallback (forced)":Pl.nativeSupported?"Native":"Fallback",this.player.debug.log(`${t} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");Ln(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)}),at(this,"enter",()=>{this.supported&&(ar.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!Pl.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?Q.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),at(this,"exit",()=>{if(this.supported)if(ar.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),Ca(this.player.play());else if(!Pl.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!Q.empty(this.prefix)){const t=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${t}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),at(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=e,this.prefix=Pl.prefix,this.property=Pl.property,this.scrollPosition={x:0,y:0},this.forceFallback=e.config.fullscreen.fallback==="force",this.player.elements.fullscreen=e.config.fullscreen.container&&BP(this.player.elements.container,e.config.fullscreen.container),_n.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),_n.call(this.player,this.player.elements.container,"dblclick",t=>{Q.element(this.player.elements.controls)&&this.player.elements.controls.contains(t.target)||this.player.listeners.proxy(t,this.toggle,"fullscreen")}),_n.call(this,this.player.elements.container,"keydown",t=>this.trapFocus(t)),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return Pl.nativeSupported&&!this.forceFallback}static get prefix(){if(Q.function(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some(t=>!(!Q.function(document[`${t}ExitFullscreen`])&&!Q.function(document[`${t}CancelFullScreen`]))&&(e=t,!0)),e}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,Pl.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||Pl.nativeSupported||!ar.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!Pl.nativeSupported||this.forceFallback)return _y(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return ar.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function Yv(n,e=1){return new Promise((t,i)=>{const r=new Image,o=()=>{delete r.onload,delete r.onerror,(r.naturalWidth>=e?t:i)(r)};Object.assign(r,{onload:o,onerror:o,src:n})})}const Un={addStyleHook(){Ln(this.elements.container,this.config.selectors.container.replace(".",""),!0),Ln(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(n=!1){n&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void Un.toggleNativeControls.call(this,!0);Q.element(this.elements.controls)||(it.inject.call(this),this.listeners.controls()),Un.toggleNativeControls.call(this),this.isHTML5&&Mn.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,it.updateVolume.call(this),it.timeUpdate.call(this),it.durationUpdate.call(this),Un.checkPlaying.call(this),Ln(this.elements.container,this.config.classNames.pip.supported,Ai.pip&&this.isHTML5&&this.isVideo),Ln(this.elements.container,this.config.classNames.airplay.supported,Ai.airplay&&this.isHTML5),Ln(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{Ft.call(this,this.media,"ready")},0),Un.setTitle.call(this),this.poster&&Un.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&it.durationUpdate.call(this),this.config.mediaMetadata&&it.setMediaMetadata.call(this)},setTitle(){let n=or.get("play",this.config);if(Q.string(this.config.title)&&!Q.empty(this.config.title)&&(n+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(e=>{e.setAttribute("aria-label",n)}),this.isEmbed){const e=Qi.call(this,"iframe");if(!Q.element(e))return;const t=Q.empty(this.config.title)?"video":this.config.title,i=or.get("frameTitle",this.config);e.setAttribute("title",i.replace("{title}",t))}},togglePoster(n){Ln(this.elements.container,this.config.classNames.posterEnabled,n)},setPoster(n,e=!0){return e&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",n),this.elements.poster.removeAttribute("hidden"),FP.call(this).then(()=>Yv(n)).catch(t=>{throw n===this.poster&&Un.togglePoster.call(this,!1),t}).then(()=>{if(n!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${n}')`,backgroundSize:""}),Un.togglePoster.call(this,!0),n)))},checkPlaying(n){Ln(this.elements.container,this.config.classNames.playing,this.playing),Ln(this.elements.container,this.config.classNames.paused,this.paused),Ln(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",or.get(this.playing?"pause":"play",this.config))}),Q.event(n)&&n.type==="timeupdate"||Un.toggleControls.call(this)},checkLoading(n){this.loading=["stalled","waiting"].includes(n.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{Ln(this.elements.container,this.config.classNames.loading,this.loading),Un.toggleControls.call(this)},this.loading?250:0)},toggleControls(n){const{controls:e}=this.elements;if(e&&this.config.hideControls){const t=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(n||this.loading||this.paused||e.pressed||e.hover||t))}},migrateStyles(){Object.values({...this.media.style}).filter(n=>!Q.empty(n)&&Q.string(n)&&n.startsWith("--plyr")).forEach(n=>{this.elements.container.style.setProperty(n,this.media.style.getPropertyValue(n)),this.media.style.removeProperty(n)}),Q.empty(this.media.style)&&this.media.removeAttribute("style")}};class e5{constructor(e){at(this,"firstTouch",()=>{const{player:t}=this,{elements:i}=t;t.touch=!0,Ln(i.container,t.config.classNames.isTouch,!0)}),at(this,"global",(t=!0)=>{const{player:i}=this;i.config.keyboard.global&&Gm.call(i,window,"keydown keyup",this.handleKey,t,!1),Gm.call(i,document.body,"click",this.toggleMenu,t),vS.call(i,document.body,"touchstart",this.firstTouch)}),at(this,"container",()=>{const{player:t}=this,{config:i,elements:r,timers:o}=t;!i.keyboard.global&&i.keyboard.focused&&_n.call(t,r.container,"keydown keyup",this.handleKey,!1),_n.call(t,r.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",d=>{const{controls:m}=r;m&&d.type==="enterfullscreen"&&(m.pressed=!1,m.hover=!1);let y=0;["touchstart","touchmove","mousemove"].includes(d.type)&&(Un.toggleControls.call(t,!0),y=t.touch?3e3:2e3),clearTimeout(o.controls),o.controls=setTimeout(()=>Un.toggleControls.call(t,!1),y)});const a=()=>{if(!t.isVimeo||t.config.vimeo.premium)return;const d=r.wrapper,{active:m}=t.fullscreen,[y,x]=yS.call(t),T=RE(`aspect-ratio: ${y} / ${x}`);if(!m)return void(T?(d.style.width=null,d.style.height=null):(d.style.maxWidth=null,d.style.margin=null));const[R,O]=UP(),k=R/O>y/x;T?(d.style.width=k?"auto":"100%",d.style.height=k?"100%":"auto"):(d.style.maxWidth=k?O/x*y+"px":null,d.style.margin=k?"0 auto":null)},f=()=>{clearTimeout(o.resized),o.resized=setTimeout(a,50)};_n.call(t,r.container,"enterfullscreen exitfullscreen",d=>{const{target:m}=t.fullscreen;m===r.container&&(!t.isEmbed&&Q.empty(t.config.ratio)||(a(),(d.type==="enterfullscreen"?_n:qy).call(t,window,"resize",f)))})}),at(this,"media",()=>{const{player:t}=this,{elements:i}=t;if(_n.call(t,t.media,"timeupdate seeking seeked",o=>it.timeUpdate.call(t,o)),_n.call(t,t.media,"durationchange loadeddata loadedmetadata",o=>it.durationUpdate.call(t,o)),_n.call(t,t.media,"ended",()=>{t.isHTML5&&t.isVideo&&t.config.resetOnEnd&&(t.restart(),t.pause())}),_n.call(t,t.media,"progress playing seeking seeked",o=>it.updateProgress.call(t,o)),_n.call(t,t.media,"volumechange",o=>it.updateVolume.call(t,o)),_n.call(t,t.media,"playing play pause ended emptied timeupdate",o=>Un.checkPlaying.call(t,o)),_n.call(t,t.media,"waiting canplay seeked playing",o=>Un.checkLoading.call(t,o)),t.supported.ui&&t.config.clickToPlay&&!t.isAudio){const o=Qi.call(t,`.${t.config.classNames.video}`);if(!Q.element(o))return;_n.call(t,i.container,"click",a=>{([i.container,o].includes(a.target)||o.contains(a.target))&&(t.touch&&t.config.hideControls||(t.ended?(this.proxy(a,t.restart,"restart"),this.proxy(a,()=>{Ca(t.play())},"play")):this.proxy(a,()=>{Ca(t.togglePlay())},"play")))})}t.supported.ui&&t.config.disableContextMenu&&_n.call(t,i.wrapper,"contextmenu",o=>{o.preventDefault()},!1),_n.call(t,t.media,"volumechange",()=>{t.storage.set({volume:t.volume,muted:t.muted})}),_n.call(t,t.media,"ratechange",()=>{it.updateSetting.call(t,"speed"),t.storage.set({speed:t.speed})}),_n.call(t,t.media,"qualitychange",o=>{it.updateSetting.call(t,"quality",null,o.detail.quality)}),_n.call(t,t.media,"ready qualitychange",()=>{it.setDownloadUrl.call(t)});const r=t.config.events.concat(["keyup","keydown"]).join(" ");_n.call(t,t.media,r,o=>{let{detail:a={}}=o;o.type==="error"&&(a=t.media.error),Ft.call(t,i.container,o.type,!0,a)})}),at(this,"proxy",(t,i,r)=>{const{player:o}=this,a=o.config.listeners[r];let f=!0;Q.function(a)&&(f=a.call(o,t)),f!==!1&&Q.function(i)&&i.call(o,t)}),at(this,"bind",(t,i,r,o,a=!0)=>{const{player:f}=this,d=f.config.listeners[o],m=Q.function(d);_n.call(f,t,i,y=>this.proxy(y,r,o),a&&!m)}),at(this,"controls",()=>{const{player:t}=this,{elements:i}=t,r=ar.isIE?"change":"input";if(i.buttons.play&&Array.from(i.buttons.play).forEach(o=>{this.bind(o,"click",()=>{Ca(t.togglePlay())},"play")}),this.bind(i.buttons.restart,"click",t.restart,"restart"),this.bind(i.buttons.rewind,"click",()=>{t.lastSeekTime=Date.now(),t.rewind()},"rewind"),this.bind(i.buttons.fastForward,"click",()=>{t.lastSeekTime=Date.now(),t.forward()},"fastForward"),this.bind(i.buttons.mute,"click",()=>{t.muted=!t.muted},"mute"),this.bind(i.buttons.captions,"click",()=>t.toggleCaptions()),this.bind(i.buttons.download,"click",()=>{Ft.call(t,t.media,"download")},"download"),this.bind(i.buttons.fullscreen,"click",()=>{t.fullscreen.toggle()},"fullscreen"),this.bind(i.buttons.pip,"click",()=>{t.pip="toggle"},"pip"),this.bind(i.buttons.airplay,"click",t.airplay,"airplay"),this.bind(i.buttons.settings,"click",o=>{o.stopPropagation(),o.preventDefault(),it.toggleMenu.call(t,o)},null,!1),this.bind(i.buttons.settings,"keyup",o=>{[" ","Enter"].includes(o.key)&&(o.key!=="Enter"?(o.preventDefault(),o.stopPropagation(),it.toggleMenu.call(t,o)):it.focusFirstMenuItem.call(t,null,!0))},null,!1),this.bind(i.settings.menu,"keydown",o=>{o.key==="Escape"&&it.toggleMenu.call(t,o)}),this.bind(i.inputs.seek,"mousedown mousemove",o=>{const a=i.progress.getBoundingClientRect(),f=100/a.width*(o.pageX-a.left);o.currentTarget.setAttribute("seek-value",f)}),this.bind(i.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",o=>{const a=o.currentTarget,f="play-on-seeked";if(Q.keyboardEvent(o)&&!["ArrowLeft","ArrowRight"].includes(o.key))return;t.lastSeekTime=Date.now();const d=a.hasAttribute(f),m=["mouseup","touchend","keyup"].includes(o.type);d&&m?(a.removeAttribute(f),Ca(t.play())):!m&&t.playing&&(a.setAttribute(f,""),t.pause())}),ar.isIos){const o=Um.call(t,'input[type="range"]');Array.from(o).forEach(a=>this.bind(a,r,f=>xE(f.target)))}this.bind(i.inputs.seek,r,o=>{const a=o.currentTarget;let f=a.getAttribute("seek-value");Q.empty(f)&&(f=a.value),a.removeAttribute("seek-value"),t.currentTime=f/a.max*t.duration},"seek"),this.bind(i.progress,"mouseenter mouseleave mousemove",o=>it.updateSeekTooltip.call(t,o)),this.bind(i.progress,"mousemove touchmove",o=>{const{previewThumbnails:a}=t;a&&a.loaded&&a.startMove(o)}),this.bind(i.progress,"mouseleave touchend click",()=>{const{previewThumbnails:o}=t;o&&o.loaded&&o.endMove(!1,!0)}),this.bind(i.progress,"mousedown touchstart",o=>{const{previewThumbnails:a}=t;a&&a.loaded&&a.startScrubbing(o)}),this.bind(i.progress,"mouseup touchend",o=>{const{previewThumbnails:a}=t;a&&a.loaded&&a.endScrubbing(o)}),ar.isWebKit&&Array.from(Um.call(t,'input[type="range"]')).forEach(o=>{this.bind(o,"input",a=>it.updateRangeFill.call(t,a.target))}),t.config.toggleInvert&&!Q.element(i.display.duration)&&this.bind(i.display.currentTime,"click",()=>{t.currentTime!==0&&(t.config.invertTime=!t.config.invertTime,it.timeUpdate.call(t))}),this.bind(i.inputs.volume,r,o=>{t.volume=o.target.value},"volume"),this.bind(i.controls,"mouseenter mouseleave",o=>{i.controls.hover=!t.touch&&o.type==="mouseenter"}),i.fullscreen&&Array.from(i.fullscreen.children).filter(o=>!o.contains(i.container)).forEach(o=>{this.bind(o,"mouseenter mouseleave",a=>{i.controls&&(i.controls.hover=!t.touch&&a.type==="mouseenter")})}),this.bind(i.controls,"mousedown mouseup touchstart touchend touchcancel",o=>{i.controls.pressed=["mousedown","touchstart"].includes(o.type)}),this.bind(i.controls,"focusin",()=>{const{config:o,timers:a}=t;Ln(i.controls,o.classNames.noTransition,!0),Un.toggleControls.call(t,!0),setTimeout(()=>{Ln(i.controls,o.classNames.noTransition,!1)},0);const f=this.touch?3e3:4e3;clearTimeout(a.controls),a.controls=setTimeout(()=>Un.toggleControls.call(t,!1),f)}),this.bind(i.inputs.volume,"wheel",o=>{const a=o.webkitDirectionInvertedFromDevice,[f,d]=[o.deltaX,-o.deltaY].map(x=>a?-x:x),m=Math.sign(Math.abs(f)>Math.abs(d)?f:d);t.increaseVolume(m/50);const{volume:y}=t.media;(m===1&&y<1||m===-1&&y>0)&&o.preventDefault()},"volume",!1)}),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:t}=this,{elements:i}=t,{key:r,type:o,altKey:a,ctrlKey:f,metaKey:d,shiftKey:m}=e,y=o==="keydown",x=y&&r===this.lastKey;if(!(a||f||d||m)&&r){if(y){const R=document.activeElement;if(Q.element(R)){const{editable:O}=t.config.selectors,{seek:k}=i.inputs;if(R!==k&&$f(R,O)||e.key===" "&&$f(R,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(r)&&(e.preventDefault(),e.stopPropagation()),r){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":x||(T=parseInt(r,10),t.currentTime=t.duration/10*T);break;case" ":case"k":x||Ca(t.togglePlay());break;case"ArrowUp":t.increaseVolume(.1);break;case"ArrowDown":t.decreaseVolume(.1);break;case"m":x||(t.muted=!t.muted);break;case"ArrowRight":t.forward();break;case"ArrowLeft":t.rewind();break;case"f":t.fullscreen.toggle();break;case"c":x||t.toggleCaptions();break;case"l":t.loop=!t.loop}r==="Escape"&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=r}else this.lastKey=null;var T}}toggleMenu(e){it.toggleMenu.call(this.player,e)}}function t5(n,e){return n(e={exports:{}},e.exports),e.exports}var n5=t5(function(n,e){n.exports=function(){var t=function(){},i={},r={},o={};function a(T,R){T=T.push?T:[T];var O,k,N,H=[],V=T.length,Z=V;for(O=function(J,se){se.length&&H.push(J),--Z||R(H)};V--;)k=T[V],(N=r[k])?O(k,N):(o[k]=o[k]||[]).push(O)}function f(T,R){if(T){var O=o[T];if(r[T]=R,O)for(;O.length;)O[0](T,R),O.splice(0,1)}}function d(T,R){T.call&&(T={success:T}),R.length?(T.error||t)(R):(T.success||t)(T)}function m(T,R,O,k){var N,H,V=document,Z=O.async,J=(O.numRetries||0)+1,se=O.before||t,me=T.replace(/[\?|#].*$/,""),G=T.replace(/^(css|img)!/,"");k=k||0,/(^css!|\.css$)/.test(me)?((H=V.createElement("link")).rel="stylesheet",H.href=G,(N="hideFocus"in H)&&H.relList&&(N=0,H.rel="preload",H.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(me)?(H=V.createElement("img")).src=G:((H=V.createElement("script")).src=T,H.async=Z===void 0||Z),H.onload=H.onerror=H.onbeforeload=function(ue){var ge=ue.type[0];if(N)try{H.sheet.cssText.length||(ge="e")}catch(xe){xe.code!=18&&(ge="e")}if(ge=="e"){if((k+=1)<J)return m(T,R,O,k)}else if(H.rel=="preload"&&H.as=="style")return H.rel="stylesheet";R(T,ge,ue.defaultPrevented)},se(T,H)!==!1&&V.head.appendChild(H)}function y(T,R,O){var k,N,H=(T=T.push?T:[T]).length,V=H,Z=[];for(k=function(J,se,me){if(se=="e"&&Z.push(J),se=="b"){if(!me)return;Z.push(J)}--H||R(Z)},N=0;N<V;N++)m(T[N],k,O)}function x(T,R,O){var k,N;if(R&&R.trim&&(k=R),N=(k?O:R)||{},k){if(k in i)throw"LoadJS";i[k]=!0}function H(V,Z){y(T,function(J){d(N,J),V&&d({success:V,error:Z},J),f(k,J)},N)}if(N.returnPromise)return new Promise(H);H()}return x.ready=function(T,R){return a(T,function(O){d(R,O)}),x},x.done=function(T){f(T,[])},x.reset=function(){i={},r={},o={}},x.isDefined=function(T){return T in i},x}()});function bS(n){return new Promise((e,t)=>{n5(n,{success:e,error:t})})}function i5(n){return Q.empty(n)?null:Q.number(Number(n))?n:n.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:n}function r5(n){const e=n.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return e&&e.length===5?e[4]:null}function gm(n){n&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===n&&(this.media.paused=!n,Ft.call(this,this.media,n?"play":"pause"))}const _1={setup(){const n=this;Ln(n.elements.wrapper,n.config.classNames.embed,!0),n.options.speed=n.config.speed.options,Rh.call(n),Q.object(window.Vimeo)?_1.ready.call(n):bS(n.config.urls.vimeo.sdk).then(()=>{_1.ready.call(n)}).catch(e=>{n.debug.warn("Vimeo SDK (player.js) failed to load",e)})},ready(){const n=this,e=n.config.vimeo,{premium:t,referrerPolicy:i,...r}=e;let o=n.media.getAttribute("src"),a="";Q.empty(o)?(o=n.media.getAttribute(n.config.attributes.embed.id),a=n.media.getAttribute(n.config.attributes.embed.hash)):a=r5(o);const f=a?{h:a}:{};t&&Object.assign(r,{controls:!1,sidedock:!1});const d=NE({loop:n.config.loop.active,autoplay:n.autoplay,muted:n.muted,gesture:"media",playsinline:n.config.playsinline,...f,...r}),m=i5(o),y=Lt("iframe"),x=w1(n.config.urls.vimeo.iframe,m,d);if(y.setAttribute("src",x),y.setAttribute("allowfullscreen",""),y.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),Q.empty(i)||y.setAttribute("referrerPolicy",i),t||!e.customControls)y.setAttribute("data-poster",n.poster),n.media=wy(y,n.media);else{const V=Lt("div",{class:n.config.classNames.embedContainer,"data-poster":n.poster});V.appendChild(y),n.media=wy(V,n.media)}e.customControls||tg(w1(n.config.urls.vimeo.api,x)).then(V=>{!Q.empty(V)&&V.thumbnail_url&&Un.setPoster.call(n,V.thumbnail_url).catch(()=>{})}),n.embed=new window.Vimeo.Player(y,{autopause:n.config.autopause,muted:n.muted}),n.media.paused=!0,n.media.currentTime=0,n.supported.ui&&n.embed.disableTextTrack(),n.media.play=()=>(gm.call(n,!0),n.embed.play()),n.media.pause=()=>(gm.call(n,!1),n.embed.pause()),n.media.stop=()=>{n.pause(),n.currentTime=0};let{currentTime:T}=n.media;Object.defineProperty(n.media,"currentTime",{get:()=>T,set(V){const{embed:Z,media:J,paused:se,volume:me}=n,G=se&&!Z.hasPlayed;J.seeking=!0,Ft.call(n,J,"seeking"),Promise.resolve(G&&Z.setVolume(0)).then(()=>Z.setCurrentTime(V)).then(()=>G&&Z.pause()).then(()=>G&&Z.setVolume(me)).catch(()=>{})}});let R=n.config.speed.selected;Object.defineProperty(n.media,"playbackRate",{get:()=>R,set(V){n.embed.setPlaybackRate(V).then(()=>{R=V,Ft.call(n,n.media,"ratechange")}).catch(()=>{n.options.speed=[1]})}});let{volume:O}=n.config;Object.defineProperty(n.media,"volume",{get:()=>O,set(V){n.embed.setVolume(V).then(()=>{O=V,Ft.call(n,n.media,"volumechange")})}});let{muted:k}=n.config;Object.defineProperty(n.media,"muted",{get:()=>k,set(V){const Z=!!Q.boolean(V)&&V;n.embed.setMuted(!!Z||n.config.muted).then(()=>{k=Z,Ft.call(n,n.media,"volumechange")})}});let N,{loop:H}=n.config;Object.defineProperty(n.media,"loop",{get:()=>H,set(V){const Z=Q.boolean(V)?V:n.config.loop.active;n.embed.setLoop(Z).then(()=>{H=Z})}}),n.embed.getVideoUrl().then(V=>{N=V,it.setDownloadUrl.call(n)}).catch(V=>{this.debug.warn(V)}),Object.defineProperty(n.media,"currentSrc",{get:()=>N}),Object.defineProperty(n.media,"ended",{get:()=>n.currentTime===n.duration}),Promise.all([n.embed.getVideoWidth(),n.embed.getVideoHeight()]).then(V=>{const[Z,J]=V;n.embed.ratio=OE(Z,J),Rh.call(this)}),n.embed.setAutopause(n.config.autopause).then(V=>{n.config.autopause=V}),n.embed.getVideoTitle().then(V=>{n.config.title=V,Un.setTitle.call(this)}),n.embed.getCurrentTime().then(V=>{T=V,Ft.call(n,n.media,"timeupdate")}),n.embed.getDuration().then(V=>{n.media.duration=V,Ft.call(n,n.media,"durationchange")}),n.embed.getTextTracks().then(V=>{n.media.textTracks=V,Mn.setup.call(n)}),n.embed.on("cuechange",({cues:V=[]})=>{const Z=V.map(J=>YP(J.text));Mn.updateCues.call(n,Z)}),n.embed.on("loaded",()=>{n.embed.getPaused().then(V=>{gm.call(n,!V),V||Ft.call(n,n.media,"playing")}),Q.element(n.embed.element)&&n.supported.ui&&n.embed.element.setAttribute("tabindex",-1)}),n.embed.on("bufferstart",()=>{Ft.call(n,n.media,"waiting")}),n.embed.on("bufferend",()=>{Ft.call(n,n.media,"playing")}),n.embed.on("play",()=>{gm.call(n,!0),Ft.call(n,n.media,"playing")}),n.embed.on("pause",()=>{gm.call(n,!1)}),n.embed.on("timeupdate",V=>{n.media.seeking=!1,T=V.seconds,Ft.call(n,n.media,"timeupdate")}),n.embed.on("progress",V=>{n.media.buffered=V.percent,Ft.call(n,n.media,"progress"),parseInt(V.percent,10)===1&&Ft.call(n,n.media,"canplaythrough"),n.embed.getDuration().then(Z=>{Z!==n.media.duration&&(n.media.duration=Z,Ft.call(n,n.media,"durationchange"))})}),n.embed.on("seeked",()=>{n.media.seeking=!1,Ft.call(n,n.media,"seeked")}),n.embed.on("ended",()=>{n.media.paused=!0,Ft.call(n,n.media,"ended")}),n.embed.on("error",V=>{n.media.error=V,Ft.call(n,n.media,"error")}),e.customControls&&setTimeout(()=>Un.build.call(n),0)}};function s5(n){return Q.empty(n)?null:n.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:n}function vm(n){n&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===n&&(this.media.paused=!n,Ft.call(this,this.media,n?"play":"pause"))}function o5(n){return n.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const Xv={setup(){if(Ln(this.elements.wrapper,this.config.classNames.embed,!0),Q.object(window.YT)&&Q.function(window.YT.Player))Xv.ready.call(this);else{const n=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{Q.function(n)&&n(),Xv.ready.call(this)},bS(this.config.urls.youtube.sdk).catch(e=>{this.debug.warn("YouTube API failed to load",e)})}},getTitle(n){tg(w1(this.config.urls.youtube.api,n)).then(e=>{if(Q.object(e)){const{title:t,height:i,width:r}=e;this.config.title=t,Un.setTitle.call(this),this.embed.ratio=OE(r,i)}Rh.call(this)}).catch(()=>{Rh.call(this)})},ready(){const n=this,e=n.config.youtube,t=n.media&&n.media.getAttribute("id");if(!Q.empty(t)&&t.startsWith("youtube-"))return;let i=n.media.getAttribute("src");Q.empty(i)&&(i=n.media.getAttribute(this.config.attributes.embed.id));const r=s5(i),o=Lt("div",{id:GP(n.provider),"data-poster":e.customControls?n.poster:void 0});if(n.media=wy(o,n.media),e.customControls){const a=f=>`https://i.ytimg.com/vi/${r}/${f}default.jpg`;Yv(a("maxres"),121).catch(()=>Yv(a("sd"),121)).catch(()=>Yv(a("hq"))).then(f=>Un.setPoster.call(n,f.src)).then(f=>{f.includes("maxres")||(n.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}n.embed=new window.YT.Player(n.media,{videoId:r,host:o5(e),playerVars:Oi({},{autoplay:n.config.autoplay?1:0,hl:n.config.hl,controls:n.supported.ui&&e.customControls?0:1,disablekb:1,playsinline:n.config.playsinline&&!n.config.fullscreen.iosNative?1:0,cc_load_policy:n.captions.active?1:0,cc_lang_pref:n.config.captions.language,widget_referrer:window?window.location.href:null},e),events:{onError(a){if(!n.media.error){const f=a.data,d={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[f]||"An unknown error occurred";n.media.error={code:f,message:d},Ft.call(n,n.media,"error")}},onPlaybackRateChange(a){const f=a.target;n.media.playbackRate=f.getPlaybackRate(),Ft.call(n,n.media,"ratechange")},onReady(a){if(Q.function(n.media.play))return;const f=a.target;Xv.getTitle.call(n,r),n.media.play=()=>{vm.call(n,!0),f.playVideo()},n.media.pause=()=>{vm.call(n,!1),f.pauseVideo()},n.media.stop=()=>{f.stopVideo()},n.media.duration=f.getDuration(),n.media.paused=!0,n.media.currentTime=0,Object.defineProperty(n.media,"currentTime",{get:()=>Number(f.getCurrentTime()),set(x){n.paused&&!n.embed.hasPlayed&&n.embed.mute(),n.media.seeking=!0,Ft.call(n,n.media,"seeking"),f.seekTo(x)}}),Object.defineProperty(n.media,"playbackRate",{get:()=>f.getPlaybackRate(),set(x){f.setPlaybackRate(x)}});let{volume:d}=n.config;Object.defineProperty(n.media,"volume",{get:()=>d,set(x){d=x,f.setVolume(100*d),Ft.call(n,n.media,"volumechange")}});let{muted:m}=n.config;Object.defineProperty(n.media,"muted",{get:()=>m,set(x){const T=Q.boolean(x)?x:m;m=T,f[T?"mute":"unMute"](),f.setVolume(100*d),Ft.call(n,n.media,"volumechange")}}),Object.defineProperty(n.media,"currentSrc",{get:()=>f.getVideoUrl()}),Object.defineProperty(n.media,"ended",{get:()=>n.currentTime===n.duration});const y=f.getAvailablePlaybackRates();n.options.speed=y.filter(x=>n.config.speed.options.includes(x)),n.supported.ui&&e.customControls&&n.media.setAttribute("tabindex",-1),Ft.call(n,n.media,"timeupdate"),Ft.call(n,n.media,"durationchange"),clearInterval(n.timers.buffering),n.timers.buffering=setInterval(()=>{n.media.buffered=f.getVideoLoadedFraction(),(n.media.lastBuffered===null||n.media.lastBuffered<n.media.buffered)&&Ft.call(n,n.media,"progress"),n.media.lastBuffered=n.media.buffered,n.media.buffered===1&&(clearInterval(n.timers.buffering),Ft.call(n,n.media,"canplaythrough"))},200),e.customControls&&setTimeout(()=>Un.build.call(n),50)},onStateChange(a){const f=a.target;switch(clearInterval(n.timers.playing),n.media.seeking&&[1,2].includes(a.data)&&(n.media.seeking=!1,Ft.call(n,n.media,"seeked")),a.data){case-1:Ft.call(n,n.media,"timeupdate"),n.media.buffered=f.getVideoLoadedFraction(),Ft.call(n,n.media,"progress");break;case 0:vm.call(n,!1),n.media.loop?(f.stopVideo(),f.playVideo()):Ft.call(n,n.media,"ended");break;case 1:e.customControls&&!n.config.autoplay&&n.media.paused&&!n.embed.hasPlayed?n.media.pause():(vm.call(n,!0),Ft.call(n,n.media,"playing"),n.timers.playing=setInterval(()=>{Ft.call(n,n.media,"timeupdate")},50),n.media.duration!==f.getDuration()&&(n.media.duration=f.getDuration(),Ft.call(n,n.media,"durationchange")));break;case 2:n.muted||n.embed.unMute(),vm.call(n,!1);break;case 3:Ft.call(n,n.media,"waiting")}Ft.call(n,n.elements.container,"statechange",!1,{code:a.data})}}})}},PE={setup(){this.media?(Ln(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),Ln(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&Ln(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=Lt("div",{class:this.config.classNames.video}),TE(this.media,this.elements.wrapper),this.elements.poster=Lt("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?xc.setup.call(this):this.isYouTube?Xv.setup.call(this):this.isVimeo&&_1.setup.call(this)):this.debug.warn("No media element found!")}};class l5{constructor(e){at(this,"load",()=>{this.enabled&&(Q.object(window.google)&&Q.object(window.google.ima)?this.ready():bS(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),at(this,"ready",()=>{var t;this.enabled||((t=this).manager&&t.manager.destroy(),t.elements.displayContainer&&t.elements.displayContainer.destroy(),t.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),at(this,"setupIMA",()=>{this.elements.container=Lt("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,t=>this.onAdsManagerLoaded(t),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,t=>this.onAdError(t),!1),this.requestAds()}),at(this,"requestAds",()=>{const{container:t}=this.player.elements;try{const i=new google.ima.AdsRequest;i.adTagUrl=this.tagUrl,i.linearAdSlotWidth=t.offsetWidth,i.linearAdSlotHeight=t.offsetHeight,i.nonLinearAdSlotWidth=t.offsetWidth,i.nonLinearAdSlotHeight=t.offsetHeight,i.forceNonLinearFullSlot=!1,i.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(i)}catch(i){this.onAdError(i)}}),at(this,"pollCountdown",(t=!1)=>{if(!t)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const i=Yy(Math.max(this.manager.getRemainingTime(),0)),r=`${or.get("advertisement",this.player.config)} - ${i}`;this.elements.container.setAttribute("data-badge-text",r)},100)}),at(this,"onAdsManagerLoaded",t=>{if(!this.enabled)return;const i=new google.ima.AdsRenderingSettings;i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.enablePreloading=!0,this.manager=t.getAdsManager(this.player,i),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r=>this.onAdError(r)),Object.keys(google.ima.AdEvent.Type).forEach(r=>{this.manager.addEventListener(google.ima.AdEvent.Type[r],o=>this.onAdEvent(o))}),this.trigger("loaded")}),at(this,"addCuePoints",()=>{Q.empty(this.cuePoints)||this.cuePoints.forEach(t=>{if(t!==0&&t!==-1&&t<this.player.duration){const i=this.player.elements.progress;if(Q.element(i)){const r=100/this.player.duration*t,o=Lt("span",{class:this.player.config.classNames.cues});o.style.left=`${r.toString()}%`,i.appendChild(o)}}})}),at(this,"onAdEvent",t=>{const{container:i}=this.player.elements,r=t.getAd(),o=t.getAdData();switch((a=>{Ft.call(this.player,this.player.media,`ads${a.replace(/_/g,"").toLowerCase()}`)})(t.type),t.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),r.isLinear()||(r.width=i.offsetWidth,r.height=i.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:o.adError&&this.player.debug.warn(`Non-fatal ad error: ${o.adError.getMessage()}`)}}),at(this,"onAdError",t=>{this.cancel(),this.player.debug.warn("Ads error",t)}),at(this,"listeners",()=>{const{container:t}=this.player.elements;let i;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{i=this.player.currentTime}),this.player.on("seeked",()=>{const r=this.player.currentTime;Q.empty(this.cuePoints)||this.cuePoints.forEach((o,a)=>{i<o&&o<r&&(this.manager.discardAdBreak(),this.cuePoints.splice(a,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)})}),at(this,"play",()=>{const{container:t}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(i){this.onAdError(i)}}).catch(()=>{})}),at(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,Ca(this.player.media.play())}),at(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),at(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),at(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(t=>{this.on("loaded",t),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),at(this,"trigger",(t,...i)=>{const r=this.events[t];Q.array(r)&&r.forEach(o=>{Q.function(o)&&o.apply(this,i)})}),at(this,"on",(t,i)=>(Q.array(this.events[t])||(this.events[t]=[]),this.events[t].push(i),this)),at(this,"startSafetyTimer",(t,i)=>{this.player.debug.log(`Safety timer invoked from: ${i}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},t)}),at(this,"clearSafetyTimer",t=>{Q.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${t}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((t,i)=>{this.on("loaded",t),this.on("error",i)}),this.load()}get enabled(){const{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!Q.empty(e.publisherId)||Q.url(e.tagUrl))}get tagUrl(){const{config:e}=this;return Q.url(e.tagUrl)?e.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${NE({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId})}`}}function IE(n=0,e=0,t=255){return Math.min(Math.max(n,e),t)}const a5=n=>{const e=[];return n.split(/\r\n\r\n|\n\n|\r\r/).forEach(t=>{const i={};t.split(/\r\n|\n|\r/).forEach(r=>{if(Q.number(i.startTime)){if(!Q.empty(r.trim())&&Q.empty(i.text)){const o=r.trim().split("#xywh=");[i.text]=o,o[1]&&([i.x,i.y,i.w,i.h]=o[1].split(","))}}else{const o=r.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);o&&(i.startTime=60*Number(o[1]||0)*60+60*Number(o[2])+Number(o[3])+ +`0.${o[4]}`,i.endTime=60*Number(o[6]||0)*60+60*Number(o[7])+Number(o[8])+ +`0.${o[9]}`)}}),i.text&&e.push(i)}),e},ax=(n,e)=>{const t={};return n>e.width/e.height?(t.width=e.width,t.height=1/n*e.width):(t.height=e.height,t.width=n*e.height),t};class x1{constructor(e){at(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})}),at(this,"getThumbnails",()=>new Promise(t=>{const{src:i}=this.player.config.previewThumbnails;if(Q.empty(i))throw new Error("Missing previewThumbnails.src config attribute");const r=()=>{this.thumbnails.sort((o,a)=>o.height-a.height),this.player.debug.log("Preview thumbnails",this.thumbnails),t()};if(Q.function(i))i(o=>{this.thumbnails=o,r()});else{const o=(Q.string(i)?[i]:i).map(a=>this.getThumbnail(a));Promise.all(o).then(r)}})),at(this,"getThumbnail",t=>new Promise(i=>{tg(t).then(r=>{const o={frames:a5(r),height:null,urlPrefix:""};o.frames[0].text.startsWith("/")||o.frames[0].text.startsWith("http://")||o.frames[0].text.startsWith("https://")||(o.urlPrefix=t.substring(0,t.lastIndexOf("/")+1));const a=new Image;a.onload=()=>{o.height=a.naturalHeight,o.width=a.naturalWidth,this.thumbnails.push(o),i()},a.src=o.urlPrefix+o.frames[0].text})})),at(this,"startMove",t=>{if(this.loaded&&Q.event(t)&&["touchmove","mousemove"].includes(t.type)&&this.player.media.duration){if(t.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var i,r;const o=this.player.elements.progress.getBoundingClientRect(),a=100/o.width*(t.pageX-o.left);this.seekTime=this.player.media.duration*(a/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=t.pageX,this.elements.thumb.time.innerText=Yy(this.seekTime);const f=(i=this.player.config.markers)===null||i===void 0||(r=i.points)===null||r===void 0?void 0:r.find(({time:d})=>d===Math.round(this.seekTime));f&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${f.label}<br>`)}this.showImageAtCurrentTime()}}),at(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),at(this,"startScrubbing",t=>{(Q.nullOrUndefined(t.button)||t.button===!1||t.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),at(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):vS.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),at(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),at(this,"render",()=>{this.elements.thumb.container=Lt("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=Lt("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const t=Lt("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=Lt("span",{},"00:00"),t.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(t),Q.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=Lt("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),at(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),at(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const t=this.thumbnails[0].frames.findIndex(o=>this.seekTime>=o.startTime&&this.seekTime<=o.endTime),i=t>=0;let r=0;this.mouseDown||this.toggleThumbContainer(i),i&&(this.thumbnails.forEach((o,a)=>{this.loadedImages.includes(o.frames[t].text)&&(r=a)}),t!==this.showingThumb&&(this.showingThumb=t,this.loadImage(r)))}),at(this,"loadImage",(t=0)=>{const i=this.showingThumb,r=this.thumbnails[t],{urlPrefix:o}=r,a=r.frames[i],f=r.frames[i].text,d=o+f;if(this.currentImageElement&&this.currentImageElement.dataset.filename===f)this.showImage(this.currentImageElement,a,t,i,f,!1),this.currentImageElement.dataset.index=i,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const m=new Image;m.src=d,m.dataset.index=i,m.dataset.filename=f,this.showingThumbFilename=f,this.player.debug.log(`Loading image: ${d}`),m.onload=()=>this.showImage(m,a,t,i,f,!0),this.loadingImage=m,this.removeOldImages(m)}}),at(this,"showImage",(t,i,r,o,a,f=!0)=>{this.player.debug.log(`Showing thumb: ${a}. num: ${o}. qual: ${r}. newimg: ${f}`),this.setImageSizeAndOffset(t,i),f&&(this.currentImageContainer.appendChild(t),this.currentImageElement=t,this.loadedImages.includes(a)||this.loadedImages.push(a)),this.preloadNearby(o,!0).then(this.preloadNearby(o,!1)).then(this.getHigherQuality(r,t,i,a))}),at(this,"removeOldImages",t=>{Array.from(this.currentImageContainer.children).forEach(i=>{if(i.tagName.toLowerCase()!=="img")return;const r=this.usingSprites?500:1e3;if(i.dataset.index!==t.dataset.index&&!i.dataset.deleting){i.dataset.deleting=!0;const{currentImageContainer:o}=this;setTimeout(()=>{o.removeChild(i),this.player.debug.log(`Removing thumb: ${i.dataset.filename}`)},r)}})}),at(this,"preloadNearby",(t,i=!0)=>new Promise(r=>{setTimeout(()=>{const o=this.thumbnails[0].frames[t].text;if(this.showingThumbFilename===o){let a;a=i?this.thumbnails[0].frames.slice(t):this.thumbnails[0].frames.slice(0,t).reverse();let f=!1;a.forEach(d=>{const m=d.text;if(m!==o&&!this.loadedImages.includes(m)){f=!0,this.player.debug.log(`Preloading thumb filename: ${m}`);const{urlPrefix:y}=this.thumbnails[0],x=y+m,T=new Image;T.src=x,T.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${m}`),this.loadedImages.includes(m)||this.loadedImages.push(m),r()}}}),f||r()}},300)})),at(this,"getHigherQuality",(t,i,r,o)=>{if(t<this.thumbnails.length-1){let a=i.naturalHeight;this.usingSprites&&(a=r.h),a<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===o&&(this.player.debug.log(`Showing higher quality thumb for: ${o}`),this.loadImage(t+1))},300)}}),at(this,"toggleThumbContainer",(t=!1,i=!1)=>{const r=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(r,t),!t&&i&&(this.showingThumb=null,this.showingThumbFilename=null)}),at(this,"toggleScrubbingContainer",(t=!1)=>{const i=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(i,t),t||(this.showingThumb=null,this.showingThumbFilename=null)}),at(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),at(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:t}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(t.clientHeight>20&&t.clientWidth<20){const i=Math.floor(t.clientHeight*this.thumbAspectRatio);t.style.width=`${i}px`}else if(t.clientHeight<20&&t.clientWidth>20){const i=Math.floor(t.clientWidth/this.thumbAspectRatio);t.style.height=`${i}px`}}else{const i=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);t.style.height=`${this.thumbContainerHeight}px`,t.style.width=`${i}px`}this.setThumbContainerPos()}),at(this,"setThumbContainerPos",()=>{const t=this.player.elements.progress.getBoundingClientRect(),i=this.player.elements.container.getBoundingClientRect(),{container:r}=this.elements.thumb,o=i.left-t.left+10,a=i.right-t.left-r.clientWidth-10,f=this.mousePosX-t.left-r.clientWidth/2,d=IE(f,o,a);r.style.left=`${d}px`,r.style.setProperty("--preview-arrow-offset",f-d+"px")}),at(this,"setScrubbingContainerSize",()=>{const{width:t,height:i}=ax(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${t}px`,this.elements.scrubbing.container.style.height=`${i}px`}),at(this,"setImageSizeAndOffset",(t,i)=>{if(!this.usingSprites)return;const r=this.thumbContainerHeight/i.h;t.style.height=t.naturalHeight*r+"px",t.style.width=t.naturalWidth*r+"px",t.style.left=`-${i.x*r}px`,t.style.top=`-${i.y*r}px`}),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=ax(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}const C1={insertElements(n,e){Q.string(e)?rx(n,this.media,{src:e}):Q.array(e)&&e.forEach(t=>{rx(n,this.media,t)})},change(n){CE(n,"sources.length")?(xc.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],du(this.media),this.media=null,Q.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:e,type:t}=n,[{provider:i=yc.html5,src:r}]=e,o=i==="html5"?t:"div",a=i==="html5"?{}:{src:r};Object.assign(this,{provider:i,type:t,supported:Ai.check(t,i,this.config.playsinline),media:Lt(o,a)}),this.elements.container.appendChild(this.media),Q.boolean(n.autoplay)&&(this.config.autoplay=n.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),Q.empty(n.poster)||(this.poster=n.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),Un.addStyleHook.call(this),this.isHTML5&&C1.insertElements.call(this,"source",e),this.config.title=n.title,PE.setup.call(this),this.isHTML5&&Object.keys(n).includes("tracks")&&C1.insertElements.call(this,"track",n.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Un.build.call(this),this.isHTML5&&this.media.load(),Q.empty(n.previewThumbnails)||(Object.assign(this.config.previewThumbnails,n.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new x1(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class Vm{constructor(e,t){if(at(this,"play",()=>Q.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>Ca(this.media.play())),this.media.play()):null),at(this,"pause",()=>this.playing&&Q.function(this.media.pause)?this.media.pause():null),at(this,"togglePlay",f=>(Q.boolean(f)?f:!this.playing)?this.play():this.pause()),at(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):Q.function(this.media.stop)&&this.media.stop()}),at(this,"restart",()=>{this.currentTime=0}),at(this,"rewind",f=>{this.currentTime-=Q.number(f)?f:this.config.seekTime}),at(this,"forward",f=>{this.currentTime+=Q.number(f)?f:this.config.seekTime}),at(this,"increaseVolume",f=>{const d=this.media.muted?0:this.volume;this.volume=d+(Q.number(f)?f:0)}),at(this,"decreaseVolume",f=>{this.increaseVolume(-f)}),at(this,"airplay",()=>{Ai.airplay&&this.media.webkitShowPlaybackTargetPicker()}),at(this,"toggleControls",f=>{if(this.supported.ui&&!this.isAudio){const d=_y(this.elements.container,this.config.classNames.hideControls),m=f===void 0?void 0:!f,y=Ln(this.elements.container,this.config.classNames.hideControls,m);if(y&&Q.array(this.config.controls)&&this.config.controls.includes("settings")&&!Q.empty(this.config.settings)&&it.toggleMenu.call(this,!1),y!==d){const x=y?"controlshidden":"controlsshown";Ft.call(this,this.media,x)}return!y}return!1}),at(this,"on",(f,d)=>{_n.call(this,this.elements.container,f,d)}),at(this,"once",(f,d)=>{vS.call(this,this.elements.container,f,d)}),at(this,"off",(f,d)=>{qy(this.elements.container,f,d)}),at(this,"destroy",(f,d=!1)=>{if(!this.ready)return;const m=()=>{document.body.style.overflow="",this.embed=null,d?(Object.keys(this.elements).length&&(du(this.elements.buttons.play),du(this.elements.captions),du(this.elements.controls),du(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),Q.function(f)&&f()):($P.call(this),xc.cancelRequests.call(this),wy(this.elements.original,this.elements.container),Ft.call(this,this.elements.original,"destroyed",!0),Q.function(f)&&f.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(Un.toggleNativeControls.call(this,!0),m()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&Q.function(this.embed.destroy)&&this.embed.destroy(),m()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(m),setTimeout(m,200))}),at(this,"supports",f=>Ai.mime.call(this,f)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=Ai.touch,this.media=e,Q.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||Q.nodeList(this.media)||Q.array(this.media))&&(this.media=this.media[0]),this.config=Oi({},LE,Vm.defaults,t||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new JP(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",Ai),Q.nullOrUndefined(this.media)||!Q.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!Ai.check().api)return void this.debug.error("Setup failed: no support");const i=this.media.cloneNode(!0);i.autoplay=!1,this.elements.original=i;const r=this.media.tagName.toLowerCase();let o=null,a=null;switch(r){case"div":if(o=this.media.querySelector("iframe"),Q.element(o)){if(a=zE(o.getAttribute("src")),this.provider=QP(a.toString()),this.elements.container=this.media,this.media=o,this.elements.container.className="",a.search.length){const f=["1","true"];f.includes(a.searchParams.get("autoplay"))&&(this.config.autoplay=!0),f.includes(a.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=f.includes(a.searchParams.get("playsinline")),this.config.youtube.hl=a.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(Q.empty(this.provider)||!Object.values(yc).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=kb.video;break;case"video":case"audio":this.type=r,this.provider=yc.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=Ai.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new e5(this),this.storage=new Wm(this),this.media.plyr=this,Q.element(this.elements.container)||(this.elements.container=Lt("div"),TE(this.media,this.elements.container)),Un.migrateStyles.call(this),Un.addStyleHook.call(this),PE.setup.call(this),this.config.debug&&_n.call(this,this.elements.container,this.config.events.join(" "),f=>{this.debug.log(`event: ${f.type}`)}),this.fullscreen=new Pl(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Un.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new l5(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>Ca(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new x1(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===yc.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===yc.youtube}get isVimeo(){return this.provider===yc.vimeo}get isVideo(){return this.type===kb.video}get isAudio(){return this.type===kb.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(e){if(!this.duration)return;const t=Q.number(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return Q.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const e=parseFloat(this.config.duration),t=(this.media||{}).duration,i=Q.number(t)&&t!==1/0?t:0;return e||i}set volume(e){let t=e;Q.string(t)&&(t=Number(t)),Q.number(t)||(t=this.storage.get("volume")),Q.number(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!Q.empty(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let t=e;Q.boolean(t)||(t=this.storage.get("muted")),Q.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(e){let t=null;Q.number(e)&&(t=e),Q.number(t)||(t=this.storage.get("speed")),Q.number(t)||(t=this.config.speed.selected);const{minimumSpeed:i,maximumSpeed:r}=this;t=IE(t,i,r),this.config.speed.selected=t,setTimeout(()=>{this.media&&(this.media.playbackRate=t)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const t=this.config.quality,i=this.options.quality;if(!i.length)return;let r=[!Q.empty(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(Q.number),o=!0;if(!i.includes(r)){const a=EE(i,r);this.debug.warn(`Unsupported quality option: ${r}, using ${a} instead`),r=a,o=!1}t.selected=r,this.media.quality=r,o&&this.storage.set({quality:r})}get quality(){return this.media.quality}set loop(e){const t=Q.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return!!this.media.loop}set source(e){C1.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return Q.url(e)?e:this.source}set download(e){Q.url(e)&&(this.config.urls.download=e,it.setDownloadUrl.call(this))}set poster(e){this.isVideo?Un.setPoster.call(this,e,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=xy(yS.call(this));return Q.array(e)?e.join(":"):e}set ratio(e){this.isVideo?Q.string(e)&&ME(e)?(this.config.ratio=xy(e),Rh.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=Q.boolean(e)?e:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(e){Mn.toggle.call(this,e,!1)}set currentTrack(e){Mn.set.call(this,e,!1),Mn.setup.call(this)}get currentTrack(){const{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){Mn.setLanguage.call(this,e,!1)}get language(){return(Mn.getCurrentTrack.call(this)||{}).language}set pip(e){if(!Ai.pip)return;const t=Q.boolean(e)?e:!this.pip;Q.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?Ab.active:Ab.inactive),Q.function(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return Ai.pip?Q.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Ab.active:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new x1(this))}static supported(e,t){return Ai.check(e,t)}static loadSprite(e,t){return kE(e,t)}static setup(e,t={}){let i=null;return Q.string(e)?i=Array.from(document.querySelectorAll(e)):Q.nodeList(e)?i=Array.from(e):Q.array(e)&&(i=e.filter(Q.element)),Q.empty(i)?null:i.map(r=>new Vm(r,t))}}Vm.defaults=IP(LE);const u5=({src:n,subtitleSrc:e,showSubtitlesByDefault:t=!0,activeCueIndex:i,currentTime:r,plyrOptions:o,onCuesLoaded:a,onActiveCuesChanged:f,onTimeChanged:d,onIsPlayingChange:m,className:y="",...x})=>{var xe;const T=q.useRef(null),R=q.useRef(null),O=q.useRef(null),k=q.useRef(null),[N,H]=q.useState([]);let V=null;const Z=async()=>{var Pe,Xe;if(k.current&&(await zO(()=>{var ke,qe;return((qe=(ke=k.current)==null?void 0:ke.track)==null?void 0:qe.cues)!==null}),(Xe=(Pe=k.current)==null?void 0:Pe.track)!=null&&Xe.cues)){const ke=Array.from(k.current.track.cues);a(ke)}},J=()=>{if(!k.current||!k.current.track.activeCues||!k.current.track.cues)return;const Pe=Array.from(k.current.track.cues),Xe=Array.from(k.current.track.activeCues),ke=Xe.map(qe=>kx(qe));H(ke),f(Xe,Pe.indexOf(Xe[0]))},se=()=>{O.current&&d(O.current.currentTime)},me=Pe=>{!O.current||!O.current.textTracks[0].cues||!O.current.paused||(O.current.currentTime=O.current.textTracks[0].cues[Pe].startTime)},G=()=>{if(!T.current)return;const Pe=new ResizeObserver(()=>aO(O.current,T.current,R.current));return Pe.observe(T.current),()=>{Pe.disconnect()}},ue=async()=>{var Pe;document.fullscreenElement?await document.exitFullscreen():await((Pe=T==null?void 0:T.current)==null?void 0:Pe.requestFullscreen())},ge=async()=>{G(),await Z()};return q.useEffect(()=>{if(k.current)return k.current.addEventListener("cuechange",J),Z(),t&&(k.current.track.mode="showing"),()=>{var Pe;(Pe=k.current)==null||Pe.removeEventListener("cuechange",J)}},[k]),q.useEffect(()=>{i!==void 0&&me(i)},[i]),q.useEffect(()=>{!O.current||!T.current||V||(V=new Vm(O.current,{controls:["play","progress","current-time","duration","fullscreen"],hideControls:!1,invertTime:!1,...o}),V.fullscreen.toggle=ue)},[T.current,O.current]),q.useEffect(()=>{O.current&&(O.current.currentTime=r)},[r,O.current]),q.useEffect(()=>{O.current&&m(!O.current.paused)},[O.current,(xe=O.current)==null?void 0:xe.paused]),B.jsxs("div",{ref:T,className:`video-player ${y}`,children:[B.jsx("div",{ref:R,className:"video-player__cue-container",children:N.map((Pe,Xe)=>B.jsx(LO,{cueProperties:Pe,children:B.jsx("span",{dangerouslySetInnerHTML:{__html:Pe.html}})},Xe))}),B.jsxs("video",{...x,ref:O,controls:!0,onLoadedMetadata:ge,onTimeUpdate:se,className:"video-player__video",children:[B.jsx("source",{src:n}),B.jsx("track",{ref:k,kind:"metadata",src:e})]})]})},c5=()=>{const n=zc(),e=async i=>{if(!i){n(WS(null));return}i.name.endsWith(".srt")&&(i=await TO(i));const r=await zx(i);n(WS(r))},t=()=>{alert("This feature is not implemented yet.")};return B.jsx(NO,{onFileChanged:e,onCreateSubtitles:t})},f5=()=>{const{cues:n,selectedCueIndex:e}=Rr(o=>o.cueSlice),{presets:t}=Rr(o=>o.styleSlice),i=zc(),r=(o,a)=>{i(k1({cueIndex:o,updates:a}))};return B.jsx(yA,{cue:n[e!==void 0?e:-1],cueIndex:e,presets:t,onCueChange:r})},d5=()=>{const{globalStyles:n,presets:e}=Rr(r=>r.styleSlice),{cues:t}=Rr(r=>r.cueSlice),i=async r=>{const o=await EO(t,n,e);try{await Nx(o,r,[{accept:{"text/vtt":[".vtt"]}}])}catch(a){if(a instanceof DOMException)switch(a.name){case"AbortError":return;default:console.error(a);return}else console.error(a)}};return B.jsx(i3,{onExport:i})},h5=()=>{const{globalStyles:n}=Rr(o=>o.styleSlice),e=zc(),t=o=>{e(bM({key:o.target.name,value:o.target.type==="checkbox"?o.target.checked:o.target.value}))},i=()=>{e(SM({}))},r=o=>{e(wM(o))};return B.jsx(m3,{globalStyles:n,onInput:t,onAddShadow:i,onRemoveShadow:r})},p5=()=>{const{presets:n,selectedPreset:e,globalStyles:t}=Rr(a=>a.styleSlice),i=zc(),r=async()=>{try{const a=await z1([{description:"Caption Styler preset files",accept:{"text/*":[".cspreset"]}}]);if(!a)return;const f=await CO(a),d=JSON.parse(f);if(!DO(d))throw new SyntaxError;d.name=$v(d.name,n),d.builtIn=!1,i(MM(d))}catch(a){if(a instanceof DOMException)switch(a.name){case"AbortError":return;default:console.error(a);return}else a instanceof SyntaxError?console.log("not a preset"):console.error(a)}},o=a=>{const f=Ff.cloneDeep(a);delete f.builtIn,Nx(JSON.stringify(f),`${hu(f.name)}.cspreset`,[{description:"Caption Styler preset",accept:{"application/json":[".cspreset"]}}])};return B.jsx(R3,{presets:n,selectedPreset:e,globalStyles:t,onAddPreset:a=>i(_M(a)),onAddEmptyPreset:a=>i(xM(a)),onRemovePreset:a=>i(CM(a)),onUpdatePreset:a=>i(TM(a)),onRenamePreset:(a,f)=>i(EM({index:a,name:f})),onSelectPreset:a=>i(RM(a)),onExportPreset:o,onImportPreset:r})},m5=()=>{var d;const{cues:n,activeCueIndex:e,selectedCueIndex:t}=Rr(m=>m.cueSlice),{videoMetadata:i}=Rr(m=>m.videoSlice),r=zc(),o=((d=i==null?void 0:i.track.find(m=>m["@type"]==="Video"))==null?void 0:d.FrameRate)||30,a=m=>{r(Cx(m)),r(A1(m))},f=(m,y)=>{r(k1({cueIndex:m,updates:y}))};return B.jsx(M3,{cues:n,framerate:o,activeCueIndex:e,selectedCueIndex:t,onUpdateCue:(m,y)=>f(m,y),onSelectCue:a})},g5=()=>{var y,x;const n=zc(),{cues:e,selectedCueIndex:t}=Rr(T=>T.cueSlice),{currentTime:i,videoMetadata:r,isPlaying:o}=Rr(T=>T.videoSlice),a=((x=(y=r==null?void 0:r.track)==null?void 0:y.find(T=>T["@type"]==="Video"))==null?void 0:x.Duration)||120,f=(T,R)=>{if(R.action.effectId!=="caption")return;const O=R.row.actions.indexOf(R.action);n(Cx(O)),n(A1(O))},d=T=>(n(kM(T)),!0),m=T=>{if(T.action.effectId!=="caption")return!1;const R=T.row.actions.indexOf(T.action);return n(k1({cueIndex:R,updates:{startTime:T.start,endTime:T.end}})),!0};return B.jsx(nP,{cues:e,selectedCueIndex:t,videoLength:a,currentTime:i,isPlaying:o,onCueClick:f,onCueMove:m,onSetCurrentTime:d})},v5=()=>{const n=zc(),{videoFile:e}=Rr(i=>i.videoSlice),t=async i=>{if(!i){n(US(null)),n(GS(null));return}const r=await xO(i),o=await zx(i);n(US(o)),n(GS(r))};return B.jsx(iP,{onFileChanged:t,videoFile:e})},y5=()=>{const n=zc(),{videoFile:e,subtitleFile:t,timeSetter:i}=Rr(m=>m.videoSlice),{activeCueIndex:r}=Rr(m=>m.cueSlice),o=m=>{n(mM(m))},a=(m,y)=>{n(A1(y>=0?y:void 0))},f=m=>{n(AM(m))},d=m=>{n(DM(m))};return B.jsx(B.Fragment,{children:e&&t&&B.jsx(u5,{src:e,subtitleSrc:t,showSubtitlesByDefault:!0,activeCueIndex:r,currentTime:i,onCuesLoaded:o,onActiveCuesChanged:a,onTimeChanged:f,onIsPlayingChange:d})})},b5=({className:n=""})=>{const{videoFile:e,subtitleFile:t}=Rr(i=>i.videoSlice);return!e||!t?B.jsx(S5,{}):B.jsxs("div",{className:`editor ${n}`,children:[B.jsx("div",{className:"editor__section editor__video",children:B.jsx(y5,{})}),B.jsx("div",{className:"editor__section editor__styling",children:B.jsx(w5,{})}),B.jsx("div",{className:"editor__section editor__timeline",children:B.jsx(g5,{})})]})},S5=({className:n=""})=>{const{videoFile:e}=Rr(t=>t.videoSlice);return B.jsxs("div",{className:`import ${n}`,children:[B.jsx("header",{className:"import__header",children:B.jsxs("div",{className:"import__wrapper",children:[B.jsx("h1",{children:"Caption Styler"}),B.jsxs("p",{children:["Create stylish subtitles for videos on your website using fonts, color, animations and more. Export options include the web standard webVTT format and our extension that can be used with our video player element or ",B.jsx("a",{href:"#",children:"supported third party video players."})]}),B.jsx("a",{href:"#",children:"More Info"})]})}),B.jsxs("main",{className:"import__main",children:[B.jsx(v5,{}),e?B.jsx(c5,{}):B.jsx("div",{className:"import__wrapper",children:B.jsx("p",{children:"All imported video and caption files will stay on your computer and don't get uploaded to our server."})})]})]})},w5=({className:n=""})=>{const{cueStyleElement:e,globalStyles:t,presets:i}=Rr(o=>o.styleSlice),{cues:r}=Rr(o=>o.cueSlice);return q.useEffect(()=>{e&&(e.innerHTML=ty(t,".cue__text"),i.forEach(o=>{e&&(e.innerHTML+=ty(o.styles,`.${hu(o.name)}`))}))},[t,i,e]),q.useEffect(()=>{r.forEach(o=>{o.position=t.position.horizontal,o.line=t.position.vertical||0,o.snapToLines=t.position.useLines})},[t.position]),q.useEffect(()=>{r.forEach(o=>{o.align=t.alignment})},[t.alignment]),B.jsx("div",{className:`styling ${n}`,children:B.jsxs(pA,{children:[B.jsxs(kv,{name:"Text",children:[B.jsx("h2",{className:"sr-only",children:"Text"}),B.jsx(m5,{})]}),B.jsxs(kv,{name:"Global Styles",children:[B.jsx("h2",{className:"sr-only",children:"Global Styles"}),B.jsxs("section",{className:"styling__section",children:[B.jsx("h3",{children:"Preset"}),B.jsx(p5,{})]}),B.jsx(h5,{})]}),B.jsxs(kv,{name:"Cue Styles",children:[B.jsx("h2",{className:"sr-only",children:"Cue Styles"}),B.jsx(f5,{})]}),B.jsx(kv,{name:"Export",children:B.jsx(d5,{})})]})})},_5=({children:n})=>B.jsx(YM,{store:tO,children:n}),x5=()=>B.jsx(_5,{children:B.jsx(b5,{})});xR.createRoot(document.getElementById("root")).render(B.jsx(q.StrictMode,{children:B.jsx(x5,{})}));
